(()=>{"use strict";const e=JSON.parse('{"tooltip-play":"Afspelen","tooltip-pause":"Pauzeren","tooltip-go-back-10-seconds":"Ga 10 seconden terug","tooltip-forward-10-seconds":"Ga 10 seconden vooruit","tooltip-mute":"Zet geluid uit","tooltip-unmute":"Zet geluid aan","tooltip-restart-video":"Vanaf het begin kijken","tooltip-enable-subtitles":"Ondertitels aanzetten","tooltip-disable-subtitles":"Ondertitels uitzetten","tooltip-fullscreen":"Video in volledig scherm afspelen","tooltip-fullscreen-exit":"Volledige schermweergave verlaten","tooltip-seek-bar":"Navigeren binnen de video","tooltip-adjust-volume":"Volume aanpassen","tooltip-casting":"Aan het casten","tooltip-not-casting":"Niet aan het casten","tooltip-airplaying":"Aan het airplayen","tooltip-not-airplaying":"Niet aan het airplayen","tooltip-being-casted":"Wordt afgespeeld op","tooltip-quality":"Kwaliteit","errors-invalid-token":"Sessie is verlopen, gelieve de pagina te vernieuwen","errors-video-not-found":"Deze video kan niet gevonden worden","errors-invalid-interval":"Deze video is niet langer beschikbaar","errors-invalid-location":"Deze video kan niet bekeken worden waar je je bevindt","errors-authentication-required":"Inloggen is vereist om deze video te kunnen bekijken","errors-incomplete-roaming-config":"Profiel onvolledig, EU roaming is hierdoor niet toegestaan","errors-no-roaming":"Het is niet mogelijk deze video te bekijken buiten België","errors-proxy-detected":"Deze video kan niet worden afgespeeld omdat je surft via een proxyserver","errors-user-not-authenticated-and-roaming-is-required":"Inloggen met een account dat EU roaming toelaat is vereist","errors-youtube-invalid-param":"De aanvraag bevat een incorrect parameter waarde!","errors-youtube-html5-error":"De gevraagde video kan niet afgespeeld worden in de HTML5 speler!","errors-youtube-video-not-found":"Deze video kan niet gevonden worden!","errors-youtube-embed-not-allowed":"Deze video kan niet afgespeeld worden in een geëmbedde speler","errors-an-internal-error-occurred":"Er trad een interne fout op in de speler, contacteer support","errors-a-network-error-occurred":"Er trad een probleem op met de netwerkverbinding!","errors-the-program-schedule-cannot-be-retrieved":"De programmaplanning kan niet worden opgehaald!","errors-a-token-could-not-be-retrieved":"Er kan geen token opgehaald worden!","errors-cannot-load-youtube-video":"De YouTube video kan niet geladen worden!","errors-cannot-perform-startover":"De startover kan niet uitgevoerd worden!","errors-cannot-select-a-next-source":"Kan geen volgende bron selecteren","errors-the-player-cannot-be-started":"De speler kan niet gestart worden: ","errors-media-cannot-be-played":"De media kan niet afgespeeld worden!","errors-content-is-age-restricted":"De media kan enkel bekeken worden door personen met de correcte leeftijd!","errors-unknown":"Onbekende fout","warning-incorrect-ad-config":"Incorrecte configuratie voor advertenties!","warning-media-melon-could-not-be-loaded":"Media Melon Analytics kon niet geladen worden!","warning-the-current-token-is-corrupt":"Het huidige token is corrupt!","warning-adobe-analytics-could-not-be-loaded":"Adobe Analytics kon niet geladen worden!","warning-cim-analytics-could-not-be-loaded":"CIM Analytics kon niet geladen worden!","warning-an-error-occurred-with-the-video-security":"Er trad een probleem op met de beveiliging van de video","warning-the-ad-cannot-be-played":"De advertentie kan niet afgespeeld worden!","warning-an-error-occurred-during-casting":"Er trad een probleem op bij het casten!","vrt-video-info":"VRT Mediaplayer, programma:","next-video":"Volgende video","skip":"Doorspoelen","start-video":"Video starten","sponsoring":"Sponsoring:","seconds":"sec.","gibibits-per-hour":"GiB/u"}'),t=JSON.parse('{"tooltip-play":"Jouer","tooltip-pause":"Pause","tooltip-go-back-10-seconds":"Reculer de 10 secondes","tooltip-forward-10-seconds":"Avancez de 10 secondes","tooltip-mute":"Désactiver le son","tooltip-unmute":"Activer le son","tooltip-restart-video":"Regardez depuis le début","tooltip-enable-subtitles":"Activer les sous-titres","tooltip-disable-subtitles":"Désactiver les sous-titres","tooltip-fullscreen":"Lire la vidéo en plein écran","tooltip-fullscreen-exit":"Quitter la vue plein écran","tooltip-seek-bar":"Naviguer dans la vidéo","tooltip-adjust-volume":"Ajustez le volume","tooltip-casting":"Casting","tooltip-not-casting":"Casting inactif","tooltip-airplaying":"Airplaying","tooltip-not-airplaying":"Airplay inactif","tooltip-being-casted":"Joué sur","tooltip-quality":"Qualité","errors-invalid-token":"La session a expiré, veuillez actualiser la page","errors-video-not-found":"Cette vidéo est introuvable","errors-invalid-interval":"Cette vidéo n\'est plus disponible","errors-invalid-location":"Cette vidéo ne peut pas être visionnée où que vous soyez","errors-authentication-required":"Une connexion est requise pour voir cette vidéo","errors-incomplete-roaming-config":"Profil incomplet, l\'itinérance dans l\'UE n\'est donc pas autorisée","errors-no-roaming":"Il n\'est pas possible de regarder cette vidéo en dehors de la Belgique","errors-proxy-detected":"Impossible de lire cette vidéo car vous surfez via un serveur proxy","errors-user-not-authenticated-and-roaming-is-required":"Une connexion avec un compte autorisant l\'itinérance dans l\'UE est requise","errors-youtube-invalid-param":"La demande contient une valeur de paramètre incorrecte!","errors-youtube-html5-error":"La vidéo demandée ne peut pas être lue dans le lecteur HTML5!","errors-youtube-video-not-found":"Cette vidéo est introuvable!","errors-youtube-embed-not-allowed":"Cette vidéo ne peut pas être lue dans un lecteur intégré","errors-an-internal-error-occurred":"Il y a eu une erreur interne dans le lecteur, contactez le support","errors-a-network-error-occurred":"Il y a eu un problème avec la connexion réseau!","errors-the-program-schedule-cannot-be-retrieved":"Le programme ne peut pas être récupéré!","errors-a-token-could-not-be-retrieved":"Aucun jeton ne peut être récupéré!","errors-cannot-load-youtube-video":"La vidéo YouTube ne peut pas être chargée!","errors-cannot-perform-startover":"Le redémarrage ne peut pas être exécuté!","errors-cannot-select-a-next-source":"Impossible de sélectionner la source suivante","errors-the-player-cannot-be-started":"Le joueur ne peut pas être démarré: ","errors-media-cannot-be-played":"Le média ne peut pas être lu!","errors-content-is-age-restricted":"Les médias ne peuvent être visionnés que par des personnes d\'âge approprié!","errors-unknown":"Erreur inconnue","warning-incorrect-ad-config":"Configuration incorrecte pour les annonces!","warning-media-melon-could-not-be-loaded":"Impossible de charger Media Melon Analytics!","warning-the-current-token-is-corrupt":"Le jeton actuel est corrompu!","warning-adobe-analytics-could-not-be-loaded":"Impossible de charger Adobe Analytics!","warning-cim-analytics-could-not-be-loaded":"CIM Analytics n\'a pas pu être chargé!","warning-an-error-occurred-with-the-video-security":"Il y a eu un problème avec la sécurité de la vidéo","warning-the-ad-cannot-be-played":"L\'annonce ne peut pas être lue!","warning-an-error-occurred-during-casting":"Il y a eu un problème de casting!","vrt-video-info":"VRT Media Player, programme:","next-video":"Vidéo suivante","skip":"Affleurer","start-video":"Lancer la vidéo","sponsoring":"Parrainage:","seconds":"sec.","gibibits-per-hour":"GiB/h"}'),n=JSON.parse('{"tooltip-play":"Abspielen","tooltip-pause":"Pause","tooltip-go-back-10-seconds":"Gehe 10 Sekunden zurück","tooltip-forward-10-seconds":"Gehe 10 Sekunden vorwärts","tooltip-mute":"Ton ausschalten","tooltip-unmute":"Ton einschalten","tooltip-restart-video":"Beobachten Sie von Anfang an","tooltip-enable-subtitles":"Untertitel aktivieren","tooltip-disable-subtitles":"Untertitel deaktivieren","tooltip-fullscreen":"Video im Vollbildmodus abspielen","tooltip-fullscreen-exit":"Beenden Sie die Vollbildansicht","tooltip-seek-bar":"Navigieren Sie im Video","tooltip-adjust-volume":"Stellen Sie die Lautstärke ein","tooltip-casting":"Casting","tooltip-not-casting":"Nicht casting","tooltip-airplaying":"Airplaying","tooltip-not-airplaying":"Nicht Airplaying","tooltip-being-casted":"Gespielt am","tooltip-quality":"Qualität","errors-invalid-token":"Die Sitzung ist abgelaufen. Bitte aktualisieren Sie die Seite","errors-video-not-found":"Dieses Video wurde nicht gefunden","errors-invalid-interval":"Dieses Video ist nicht mehr verfügbar","errors-invalid-location":"Dieses Video kann nicht angesehen werden, wo Sie sind","errors-authentication-required":"Zum Anzeigen dieses Videos ist ein Login erforderlich","errors-incomplete-roaming-config":"Profil unvollständig, EU-Roaming ist daher nicht erlaubt","errors-no-roaming":"Es ist nicht möglich, dieses Video außerhalb Belgiens anzusehen","errors-proxy-detected":"Dieses Video kann nicht abgespielt werden, da Sie über einen Proxyserver surfen","errors-user-not-authenticated-and-roaming-is-required":"Die Anmeldung mit einem Konto, das EU-Roaming ermöglicht, ist erforderlich","errors-youtube-invalid-param":"Die Anfrage enthält einen falschen Parameterwert!","errors-youtube-html5-error":"Das angeforderte Video kann nicht im HTML5-Player abgespielt werden!","errors-youtube-video-not-found":"Dieses Video kann nicht gefunden werden!","errors-youtube-embed-not-allowed":"Dieses Video kann nicht in einem eingebetteten Player abgespielt werden","errors-an-internal-error-occurred":"Es gab einen internen Fehler im Player. Wenden Sie sich an den Support","errors-a-network-error-occurred":"Es gab ein Problem mit der Netzwerkverbindung!","errors-the-program-schedule-cannot-be-retrieved":"Der Programmplan kann nicht abgerufen werden!","errors-a-token-could-not-be-retrieved":"Es kann kein Token abgerufen werden!","errors-cannot-load-youtube-video":"Das YouTube-Video kann nicht geladen werden!","errors-cannot-perform-startover":"Der Start kann nicht ausgeführt werden!","errors-cannot-select-a-next-source":"Nächste Quelle kann nicht ausgewählt werden","errors-the-player-cannot-be-started":"Der Player kann nicht gestartet werden: ","errors-media-cannot-be-played":"Die Medien können nicht abgespielt werden!","errors-content-is-age-restricted":"Die Medien können nur von Personen angemessenen Alters angesehen werden!","errors-unknown":"Unbekannter Fehler","warning-incorrect-ad-config":"Falsche Konfiguration für Anzeigen!","warning-media-melon-could-not-be-loaded":"Media Melon Analytics konnte nicht geladen werden!","warning-the-current-token-is-corrupt":"Das aktuelle Token ist beschädigt!","warning-adobe-analytics-could-not-be-loaded":"Adobe Analytics konnte nicht geladen werden!","warning-cim-analytics-could-not-be-loaded":"CIM Analytics konnte nicht geladen werden!","warning-an-error-occurred-with-the-video-security":"Es gab ein Problem mit der Sicherheit des Videos","warning-the-ad-cannot-be-played":"Die Anzeige kann nicht abgespielt werden!","warning-an-error-occurred-during-casting":"Es gab ein Problem beim Casting!","vrt-video-info":"VRT Media Player, Programm:","next-video":"Nächstes Video","skip":"Spülen","start-video":"Video starten","sponsoring":"Sponsoring:","seconds":"sec.","gibibits-per-hour":"GiB/u"}'),r=JSON.parse('{"tooltip-play":"Play","tooltip-pause":"Pause","tooltip-go-back-10-seconds":"Go back 10 seconds","tooltip-forward-10-seconds":"Fast forward 10 seconds","tooltip-mute":"Mute sound","tooltip-unmute":"Unmute sound","tooltip-restart-video":"Watch from the beginning","tooltip-enable-subtitles":"Enable subtitles","tooltip-disable-subtitles":"Disable subtitles","tooltip-fullscreen":"Play video in fullscreen mode","tooltip-fullscreen-exit":"Exit fullscreen mode","tooltip-seek-bar":"Navigate inside the video","tooltip-adjust-volume":"Adjust volume","tooltip-casting":"Casting","tooltip-not-casting":"Not casting","tooltip-airplaying":"Airplaying","tooltip-not-airplaying":"Not Airplaying","tooltip-being-casted":"Is being played back on","tooltip-quality":"Quality","errors-invalid-token":"Session expired, please refresh the page","errors-video-not-found":"Video cannot be found","errors-invalid-interval":"Video no longer available","errors-invalid-location":"This video cannot be viewed from your location","errors-authentication-required":"Login is required to watch this video","errors-incomplete-roaming-config":"Incomplete progile, EU roaming is disabled because of this","errors-no-roaming":"This video cannot be viewed outside of Belgium","errors-proxy-detected":"This video cannot be viewed because you are using a proxy server","errors-user-not-authenticated-and-roaming-is-required":"Login with an EU roaming enabled account is required","errors-youtube-invalid-param":"The request contains an invalid parameter value!","errors-youtube-html5-error":"The requested video cannot be played in the HTML5 player!","errors-youtube-video-not-found":"This video cannot be found!","errors-youtube-embed-not-allowed":"This video cannot be played back in the embedded player!","errors-an-internal-error-occurred":"An internal error occurred in the player, please contact support!","errors-a-network-error-occurred":"An error occurred with the network connection!","errors-the-program-schedule-cannot-be-retrieved":"The program schedule could not be retrieved!","errors-a-token-could-not-be-retrieved":"A token could not be retrieved!","errors-cannot-load-youtube-video":"The YouTube video could not be loaded!","errors-cannot-perform-startover":"The startover could not be performed!","errors-cannot-select-a-next-source":"Could not select a next source for playback!","errors-the-player-cannot-be-started":"The player could not be started: ","errors-media-cannot-be-played":"The media cannot be played back!","errors-content-is-age-restricted":"The media can only be viewed by persons of appropriate age!","errors-unknown":"Onbekende fout","warning-incorrect-ad-config":"Incorrect configuration for adverts!","warning-media-melon-could-not-be-loaded":"Media Melon Analytics could not be loaded!","warning-the-current-token-is-corrupt":"The current token is corrupt!","warning-adobe-analytics-could-not-be-loaded":"Adobe Analytics could not be loaded!","warning-cim-analytics-could-not-be-loaded":"CIM Analytics could not be loaded!","warning-an-error-occurred-with-the-video-security":"An issue occurred with the video security!","warning-the-ad-cannot-be-played":"The advert could not be played!","warning-an-error-occurred-during-casting":"An error occurred during casting!","vrt-video-info":"VRT Mediaplayer, program:","next-video":"Next video","skip":"Skip","start-video":"Start video","sponsoring":"Sponsoring:","seconds":"sec.","gibibits-per-hour":"GiB/h"}'),i=JSON.parse('{"tooltip-play":"Afspelen","tooltip-pause":"Pauzeren","tooltip-go-back-10-seconds":"Ga 10 seconden terug","tooltip-forward-10-seconds":"Ga 10 seconden vooruit","tooltip-mute":"Zet geluid uit","tooltip-unmute":"Zet geluid aan","tooltip-restart-video":"Vanaf het begin kijken","tooltip-enable-subtitles":"Ondertitels aanzetten","tooltip-disable-subtitles":"Ondertitels aanzetten","tooltip-fullscreen":"Video in volledig scherm afspelen","tooltip-fullscreen-exit":"Volledige schermweergave verlaten","tooltip-seek-bar":"Navigeren binnen de video","tooltip-adjust-volume":"Volume aanpassen","tooltip-casting":"Aan het casten","tooltip-not-casting":"Niet aan het casten","tooltip-airplaying":"Aan het airplayen","tooltip-not-airplaying":"Niet aan het airplayen","tooltip-being-casted":"Wordt afgespeeld op","tooltip-quality":"Kwaliteit","errors-invalid-token":"Sessie is verlopen, gelieve de pagina te vernieuwen","errors-video-not-found":"Deze video kan niet gevonden worden","errors-invalid-interval":"Deze video is niet langer beschikbaar","errors-invalid-location":"Deze video kan niet bekeken worden waar je je bevindt","errors-authentication-required":"Inloggen is vereist om deze video te kunnen bekijken","errors-incomplete-roaming-config":"Profiel onvolledig, EU roaming is hierdoor niet toegestaan","errors-no-roaming":"Het is niet mogelijk deze video te bekijken buiten België","errors-proxy-detected":"Deze video kan niet worden afgespeeld omdat je surft via een proxyserver","errors-user-not-authenticated-and-roaming-is-required":"Inloggen met een account dat EU roaming toelaat is vereist","errors-youtube-invalid-param":"De aanvraag bevat een incorrect parameter waarde!","errors-youtube-html5-error":"De gevraagde video kan niet afgespeeld worden in de HTML5 speler!","errors-youtube-video-not-found":"Deze video kan niet gevonden worden!","errors-youtube-embed-not-allowed":"Deze video kan niet afgespeeld worden in een geëmbedde speler","errors-an-internal-error-occurred":"Er trad een interne fout op in de speler, contacteer support","errors-a-network-error-occurred":"Er trad een probleem op met de netwerkverbinding!","errors-the-program-schedule-cannot-be-retrieved":"De programmaplanning kan niet worden opgehaald!","errors-a-token-could-not-be-retrieved":"Er kan geen token opgehaald worden!","errors-cannot-load-youtube-video":"De YouTube video kan niet geladen worden!","errors-cannot-perform-startover":"De startover kan niet uitgevoerd worden!","errors-cannot-select-a-next-source":"Kan geen volgende bron selecteren","errors-the-player-cannot-be-started":"De speler kan niet gestart worden: ","errors-media-cannot-be-played":"De media kan niet afgespeeld worden!","errors-content-is-age-restricted":"De media kan enkel bekeken worden door personen met de correcte leeftijd!","errors-unknown":"Onbekende fout","warning-incorrect-ad-config":"Incorrecte configuratie voor advertenties!","warning-media-melon-could-not-be-loaded":"Media Melon Analytics kon niet geladen worden!","warning-the-current-token-is-corrupt":"Het huidige token is corrupt!","warning-adobe-analytics-could-not-be-loaded":"Adobe Analytics kon niet geladen worden!","warning-cim-analytics-could-not-be-loaded":"CIM Analytics kon niet geladen worden!","warning-an-error-occurred-with-the-video-security":"Er trad een probleem op met de beveiliging van de video","warning-the-ad-cannot-be-played":"De advertentie kan niet afgespeeld worden!","warning-an-error-occurred-during-casting":"Er trad een probleem op bij het casten!","vrt-video-info":"VRT Mediaplayer, programma:","next-video":"Volgende video","skip":"Doorspoelen","start-video":"Video starten","sponsoring":"Sponsoring:","seconds":"sec.","gibibits-per-hour":"GiB/u"}');var a,o,l,s,u,c=function(){function o(){}return o.isLanguageSupported=function(e){var t=Object.values(a),n=!!(e&&t.indexOf(e.toLowerCase())>-1);return n||console.warn("Player language: "+e+" is not supported, falling back to default: nl"),n},o.convertToSupportedTheoLanguage=function(e){switch(e){case a.DUTCH:case a.DUTCH_KETNET:return"nl";case a.FRENCH:return"fr";case a.GERMAN:return"de";case a.ENGLISH:return"en";default:return"nl"}},o.getValue=function(e,t,n){void 0===n&&(n=!1);var r="UNKNOWN-VALUE-FOR => "+e+" ("+t+")";try{var i=this.translations[t][e];r=i||(n?null:r)}catch(e){}return r},o.translateAllElements=function(e,t){e.querySelectorAll("[aria-translation-key]").forEach((function(e){var n=o.getValue(e.getAttribute("aria-translation-key"),t);e.getAttribute("aria-translation-key"),e.hasAttribute("aria-label")?e.setAttribute("aria-label",n):e.textContent=n}))},o.translations={nl:e,fr:t,de:n,en:r,nl_ketnet:i},o}();!function(e){e.DUTCH="nl",e.FRENCH="fr",e.GERMAN="de",e.ENGLISH="en",e.DUTCH_KETNET="nl_ketnet"}(a||(a={})),function(e){e.ON="on",e.OFF_STOP_AT_BEGIN="off_stop_at_begin",e.OFF_STOP_AT_END="off_stop_at_end"}(o||(o={})),function(e){e.NONE="none",e.METADATA="metadata",e.AUTO="auto"}(l||(l={})),function(e){e.PERFORMANCE="performance",e.QUALITY="quality",e.BANDWIDTH="bandwidth"}(s||(s={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(u||(u={}));var p,d,h=function(){function e(e,t,n,r,i,a,o,l,s,u,c,p,d,h,y,f){this.productionMode=e,this.containerElement=t,this.libraryLocation=n,this.aggregatorUrl=r,this.showNoErrors=o,this.preloadMode=l,this.playerMode=s,this.aspectRatio=u,this.nextUpDelay=h,this.nextUpAutoPlay=y,this.adConfig=c,this.uiConfig=p,this.clientCode=i,this.cimId=d,this.identityToken=a,this.authoringMode=f,this.isLiveStartOver=!1}return e.getTheoConfig=function(e){return{allowNativeFullscreen:!0,libraryLocation:e.libraryLocation,mutedAutoplay:"all",persistVolume:!1,isEmbeddable:!0,ui:{fluid:!0,aspectRatio:e.aspectRatio,language:c.convertToSupportedTheoLanguage(e.uiConfig.uiLanguage)},cast:{strategy:"manual",chromecast:{appID:"5F432906"}},ads:{showCountdown:!1}}},e.DEFAULTS={skin:"default",color:"green",aspectRatio:"16:9",identityToken:"",cimId:".cA63ye4ZyIIPzz71Hl5Bqe1rmDIl1s5ggCFAoZ9PvL.I7",nextUpDelay:15,nextUpAutoPlay:"on",uiLanguage:a.DUTCH,authoringMode:!1,preloadMode:l.METADATA,abrStrategy:s.BANDWIDTH,startMutedOverride:!1,autoplay:!1,playerMode:u.VIDEO,isLiveStartOver:!1,startOverBegin:null,startOverEnd:null},e}(),y=function(e){this.bandwidth=e},f=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(t,n,r,i){var a=e.call(this,n)||this;return a.framerate=t,a.width=r,a.height=i,a}return f(t,e),t}(y),b=function(){function e(e,t){this.publisher=e,this.language=t}return e.prototype.handleErrorFromAggregator=function(e,t){var n=null;try{n=JSON.parse(t)}catch(e){n={code:"UNPARSABLE_RESPONSE",message:"The response cannot be parsed!"}}var r=T.publicPlayerEvents.error;switch(r.message="Fout: ",r.content=n||t,n.code){case"INVALID_TOKEN":r.code=d.AGGREGATOR_ERROR_INVALID_TOKEN,r.message+=c.getValue("errors-invalid-token",this.language);break;case"VIDEO_NOT_FOUND":r.code=d.AGGREGATOR_ERROR_VIDEO_NOT_FOUND,r.message+=c.getValue("errors-video-not-found",this.language);break;case"INVALID_INTERVAL":r.code=d.AGGREGATOR_ERROR_INVALID_INTERVAL,r.message+=c.getValue("errors-invalid-interval",this.language);break;case"INVALID_LOCATION":r.code=d.AGGREGATOR_ERROR_GEOBLOCKED,r.message+=c.getValue("errors-invalid-location",this.language);break;case"AUTHENTICATION_REQUIRED":r.code=d.AGGREGATOR_ERROR_NOT_AUTHENTICATED,r.message+=c.getValue("errors-authentication-required",this.language);break;case"INCOMPLETE_ROAMING_CONFIG":r.code=d.AGGREGATOR_ERROR_INCOMPLETE_PROFILE,r.message+=c.getValue("errors-incomplete-roaming-config",this.language);break;case"NO_ROAMING":r.code=d.AGGREGATOR_ERROR_NO_ROAMING,r.message+=c.getValue("errors-no-roaming",this.language);break;case"PROXY_DETECTED":r.code=d.AGGREGATOR_PROXY_ERROR,r.message+=c.getValue("errors-proxy-detected",this.language);break;case"USER_NOT_AUTHENTICATED_AND_ROAMING_IS_REQUIRED":r.code=d.AGGREGATOR_ERROR_NOT_AUTHENTICATED_AND_ROAMING_REQUIRED,r.message+=c.getValue("errors-user-not-authenticated-and-roaming-is-required",this.language);break;case"ERROR_AGE_RESTRICTED":r.code=d.AGGREGATOR_ERROR_AGE_RESTRICTED,r.message+=c.getValue("errors-content-is-age-restricted",this.language);break;default:r.code=d.AGGREGATOR_ERROR_GENERAL,r.message+=c.getValue("errors-unknown",this.language)}if(this.publisher.publish(r),r.code===d.AGGREGATOR_ERROR_GEOBLOCKED||r.code===d.AGGREGATOR_ERROR_NOT_AUTHENTICATED||r.code===d.AGGREGATOR_ERROR_NO_ROAMING||r.code===d.AGGREGATOR_ERROR_INCOMPLETE_PROFILE||r.code===d.AGGREGATOR_ERROR_NOT_AUTHENTICATED_AND_ROAMING_REQUIRED||r.code===d.AGGREGATOR_ERROR_AGE_RESTRICTED){var i=T.publicPlayerEvents.playnotallowed;i.code=r.code,i.message=r.message,i.content=r.content,this.publisher.publish(i)}},e.prototype.handleErrorFromV2Aggregator=function(e,t){var n=null;try{n=JSON.parse(t)}catch(e){n={code:"UNPARSABLE_RESPONSE",message:"The response cannot be parsed!"}}var r=T.publicPlayerEvents.error;if(r.message="Fout: ",r.content=n||t,403===e.status)r.code=d.AGGREGATOR_ERROR_INVALID_TOKEN,r.message+=c.getValue("errors-invalid-token",this.language),r.content={code:"INVALID_TOKEN"};else if(404===e.status)r.code=d.AGGREGATOR_ERROR_VIDEO_NOT_FOUND,r.message+=c.getValue("errors-video-not-found",this.language),r.content={code:"VIDEO_NOT_FOUND"};else switch(n.code){case"CONTENT_AVAILABLE_ONLY_FOR_BE_RESIDENTS_AND_EXPATS":case"CONTENT_AVAILABLE_ONLY_FOR_BE_RESIDENTS":case"CONTENT_AVAILABLE_ONLY_IN_BE":case"CONTENT_UNAVAILABLE_VIA_PROXY":case"CONTENT_CURRENTLY_UNAVAILABLE":case"CONTENT_IS_AGE_RESTRICTED":case"CONTENT_REQUIRES_AUTHENTICATION":r.code=-1,r.message=n.code;break;default:r.code=-1,r.message=n.code}if(this.publisher.publish(r),-1===r.code){var i=T.publicPlayerEvents.playnotallowed;i.code=r.code,i.message=r.message,i.content=r.content,this.publisher.publish(i)}},e.prototype.handleYouTubeError=function(e){if(e){var t,n=T.publicPlayerEvents.error,r="";switch(e){case 2:t=d.PLAYER_YOUTUBE_ERROR_INVALID_PARAM,c.getValue("errors-youtube-invalid-param",this.language),r="The request contains an invalid parameter value";break;case 5:t=d.PLAYER_YOUTUBE_ERROR_HTML5,c.getValue("errors-youtube-html5-error",this.language),r="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred";break;case 100:t=d.PLAYER_YOUTUBE_ERROR_VIDEO_NOT_FOUND,c.getValue("errors-youtube-video-not-found",this.language),r="The video requested was not found.";break;case 101:case 150:t=d.PLAYER_YOUTUBE_ERROR_EMBED,c.getValue("errors-youtube-embed-not-allowed",this.language),r="The owner of the requested video does not allow it to be played in embedded players.";break;default:t=d.PLAYER_YOUTUBE_ERROR_GENERAL,c.getValue("errors-unknown",this.language),r="An unknown YouTube error occurred"}n.code=t,n.message=r,n.content={code:e,message:r},this.publisher.publish(n)}},e.prototype.handleError=function(e,t,n){var r=T.publicPlayerEvents.error;r.code=e;var i=c.getValue(t,this.language,!0);r.message=i||t,r.content=n||{},this.publisher.publish(r)},e.prototype.handleWarning=function(e,t,n){var r=T.publicPlayerEvents.warning;r.code=e;var i=c.getValue(t,this.language,!0);r.message=i||t,r.content=n||{},this.publisher.publish(r)},e.errorToSentry=function(e,t){if(e||t){e=e||"Default-fingerprint";var n=window;n.Sentry&&n.Sentry.withScope((function(r){var i,a="Unknown";if(t){var o=t.code?t.code+"":"Unknown",l=t.name?t.name:null,s=t.message?t.message:l;s=s||JSON.stringify(t,null,4),(i=new Error(o+": "+s)).data=t.content?t.content:{},a=o}else i=new Error(e);r.setFingerprint([e,"1.9.9-prod-2021-10-21T12:48:33",a]),n.Sentry.captureException(i)}))}},e.createError=function(e,t){var n;return(n=e?new Error(e):new Error).data=t,n},e}();!function(e){e[e.AGGREGATOR_V2_UNMAPPED=-1]="AGGREGATOR_V2_UNMAPPED",e[e.AGGREGATOR_ERROR_GENERAL=100]="AGGREGATOR_ERROR_GENERAL",e[e.AGGREGATOR_ERROR_INVALID_TOKEN=101]="AGGREGATOR_ERROR_INVALID_TOKEN",e[e.AGGREGATOR_ERROR_VIDEO_NOT_FOUND=102]="AGGREGATOR_ERROR_VIDEO_NOT_FOUND",e[e.AGGREGATOR_ERROR_INVALID_INTERVAL=103]="AGGREGATOR_ERROR_INVALID_INTERVAL",e[e.AGGREGATOR_ERROR_GEOBLOCKED=104]="AGGREGATOR_ERROR_GEOBLOCKED",e[e.AGGREGATOR_ERROR_NOT_AUTHENTICATED=105]="AGGREGATOR_ERROR_NOT_AUTHENTICATED",e[e.AGGREGATOR_ERROR_NO_ROAMING=106]="AGGREGATOR_ERROR_NO_ROAMING",e[e.AGGREGATOR_ERROR_INCOMPLETE_PROFILE=107]="AGGREGATOR_ERROR_INCOMPLETE_PROFILE",e[e.AGGREGATOR_ERROR_NOT_AUTHENTICATED_AND_ROAMING_REQUIRED=108]="AGGREGATOR_ERROR_NOT_AUTHENTICATED_AND_ROAMING_REQUIRED",e[e.AGGREGATOR_ERROR_AGE_RESTRICTED=109]="AGGREGATOR_ERROR_AGE_RESTRICTED",e[e.AGGREGATOR_TOKEN_ERROR_CANNOT_GET_TOKEN=120]="AGGREGATOR_TOKEN_ERROR_CANNOT_GET_TOKEN",e[e.AGGREGATOR_TOKEN_ERROR_STORED_TOKEN_MALFORMED=121]="AGGREGATOR_TOKEN_ERROR_STORED_TOKEN_MALFORMED",e[e.AGGREGATOR_SCHEDULE_ERROR_CANNOT_GET_SCHEDULE=130]="AGGREGATOR_SCHEDULE_ERROR_CANNOT_GET_SCHEDULE",e[e.AGGREGATOR_PROXY_ERROR=140]="AGGREGATOR_PROXY_ERROR",e[e.PLAYER_API_ERROR_GENERAL=200]="PLAYER_API_ERROR_GENERAL",e[e.PLAYER_API_ERROR_DRM=201]="PLAYER_API_ERROR_DRM",e[e.PLAYER_API_ERROR_DASH_SEGMENT_NOT_FOUND=202]="PLAYER_API_ERROR_DASH_SEGMENT_NOT_FOUND",e[e.PLAYER_API_ERROR_MODE=203]="PLAYER_API_ERROR_MODE",e[e.PLAYER_API_ERROR_PLAYLIST=204]="PLAYER_API_ERROR_PLAYLIST",e[e.PLAYER_API_ERROR_PLAYBACK_NOT_SUPPORTED=205]="PLAYER_API_ERROR_PLAYBACK_NOT_SUPPORTED",e[e.PLAYER_API_ERROR_EVENT_HANDLER=206]="PLAYER_API_ERROR_EVENT_HANDLER",e[e.PLAYER_ADS_API_GENERAL=210]="PLAYER_ADS_API_GENERAL",e[e.PLAYER_NETWORK_API_GENERAL=220]="PLAYER_NETWORK_API_GENERAL",e[e.PLAYER_CHROMECAST_API_GENERAL=230]="PLAYER_CHROMECAST_API_GENERAL",e[e.PLAYER_FUNCTIONS_GENERAL=300]="PLAYER_FUNCTIONS_GENERAL",e[e.PLAYER_FUNCTIONS_STARTOVER=301]="PLAYER_FUNCTIONS_STARTOVER",e[e.PLAYER_FUNCTIONS_SOURCE_FALLTHROUGH=302]="PLAYER_FUNCTIONS_SOURCE_FALLTHROUGH",e[e.PLAYER_FUNCTIONS_ADOBE_ANALYTICS_ERROR=303]="PLAYER_FUNCTIONS_ADOBE_ANALYTICS_ERROR",e[e.PLAYER_FUNCTIONS_CIM_ANALYTICS_ERROR=304]="PLAYER_FUNCTIONS_CIM_ANALYTICS_ERROR",e[e.PLAYER_FUNCTIONS_MEDIA_MELON_ANALYTICS_ERROR=305]="PLAYER_FUNCTIONS_MEDIA_MELON_ANALYTICS_ERROR",e[e.PLAYER_FUNCTIONS_AD_PLAYBACK=306]="PLAYER_FUNCTIONS_AD_PLAYBACK",e[e.PLAYER_YOUTUBE_ERROR_GENERAL=310]="PLAYER_YOUTUBE_ERROR_GENERAL",e[e.PLAYER_YOUTUBE_ERROR_INVALID_PARAM=311]="PLAYER_YOUTUBE_ERROR_INVALID_PARAM",e[e.PLAYER_YOUTUBE_ERROR_HTML5=312]="PLAYER_YOUTUBE_ERROR_HTML5",e[e.PLAYER_YOUTUBE_ERROR_VIDEO_NOT_FOUND=313]="PLAYER_YOUTUBE_ERROR_VIDEO_NOT_FOUND",e[e.PLAYER_YOUTUBE_ERROR_EMBED=314]="PLAYER_YOUTUBE_ERROR_EMBED",e[e.PLAYER_UI_TEMPLATE_ERROR=400]="PLAYER_UI_TEMPLATE_ERROR",e[e.GENERIC_ERROR=999]="GENERIC_ERROR"}(d||(d={}));var m,g=function(){},E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(e){function t(){var t=e.call(this)||this;return t.ready=null,t.play=null,t.updateTitle=null,t.updateTick=null,t.adIsPlayingTick=null,t.promotionalIsPlayingTick=null,t.trailerIsPlayingTick=null,t.onboardingIsPlayingTick=null,t.normalContentIsPlayingTick=null,t.xCdnChanged=null,t.mediaReferenceChanged=null,t.showError=null,t.durationSet=null,t.nextupAnnounced=null,t.playlistSourceRequested=null,t.newIdentityTokenReceived=null,t.identityTokenUpdated=null,t.forceReload=null,t.tokenAcquired=null,t.reset=null,t.unLoad=null,t.destroy=null,t.criticalError=null,t.updateUserPreferences=null,Object.keys(t).forEach((function(e){t[e]={name:e}})),t}return E(t,e),t}(g),P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(e){function t(){var t=e.call(this)||this;t.canplay=null,t.play=null,t.playing=null,t.pause=null,t.ended=null,t.seeking=null,t.seeked=null,t.volumechange=null,t.bufferingCompleted=null,t.timeupdate=null,t.error=null,t.firstplay=null,t.startover=null,t.adbreakbegin=null,t.adbreakend=null,t.adskipped=null,t.promotionalstarted=null,t.nextpromotionalstarted=null,t.promotionalended=null,t.promotionalskipped=null,t.fullscreenenter=null,t.fullscreenexit=null,t.castingstarted=null,t.castingstopped=null,t.buffering=null,t.qualitychanged=null,t.sourceloaded=null,t.sourcechanged=null,t.nextsourcerequested=null,t.previoussourcerequested=null,t.liveprogramchange=null,t.nextupannounced=null,t.nextupremoved=null,t.exiting=null,t.warning=null,t.playnotallowed=null,t.seekAllowed=null,t.seekNotAllowed=null;var n={};return Object.keys(t).forEach((function(e){var r={name:e,code:null};t[e]=r,n[e]=r})),t.dictionary=n,t}return P(t,e),t.prototype.getByName=function(e){return this.dictionary[e]},t}(g),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e){function t(){var t=e.call(this)||this;return t.destroyApiCall=null,t.playApiCall=null,t.pauseApiCall=null,t.togglePlayApiCall=null,t.skipAdApiCall=null,t.toggleCastApiCall=null,t.toggleMuteApiCall=null,t.rewindSecondsApiCall=null,t.fastSeekApiCall=null,t.liveStartOverApiCall=null,t.toggleSubtitlesApiCall=null,t.toggleFullscreenApiCall=null,t.disableInterfaceApiCall=null,t.enableInterfaceApiCall=null,t.throwErrorApiCall=null,t.showTitleApiCall=null,t.nextApiCall=null,t.previousApiCall=null,t.gotoApiCall=null,t.addToPlaylistApiCall=null,t.setQualityApiCall=null,t.muteApiCallSet=null,t.muteApiCallGet=null,t.muteApiCallGetReturn=null,t.volumeApiCallSet=null,t.volumeApiCallGet=null,t.volumeApiCallGetReturn=null,t.durationApiCallGet=null,t.durationApiCallGetReturn=null,t.currentTimeApiCallSet=null,t.currentTimeApiCallGet=null,t.currentTimeApiCallGetReturn=null,t.currentDateTimeApiCallGet=null,t.currentDateTimeApiCallGetReturn=null,t.pausedApiCallGet=null,t.pausedApiCallGetReturn=null,t.loopApiCallSet=null,t.loopApiCallGet=null,t.loopApiCallGetReturn=null,t.currentSrcApiCallGet=null,t.currentSrcApiCallGetReturn=null,t.currentMediaReferenceApiCallGet=null,t.currentMediaReferenceApiCallGetReturn=null,t.srcApiCallSet=null,t.srcApiCallGet=null,t.srcApiCallGetReturn=null,t.seekableApiCallGet=null,t.seekableApiCallGetReturn=null,t.hasPlayedApiCallGet=null,t.hasPlayedApiCallGetReturn=null,t.controlsApiCallSet=null,t.controlsApiCallGet=null,t.controlsApiCallGetReturn=null,t.playlistSizeApiCallGet=null,t.playlistSizeApiCallGetReturn=null,t.currentPlaylistItemApiCallGet=null,t.currentPlaylistItemApiCallGetReturn=null,t.activeSubtitlesApiCallGet=null,t.activeSubtitlesApiCallGetReturn=null,t.availableQualitiesApiCallGet=null,t.availableQualitiesApiCallGetReturn=null,t.autoplayApiCallSet=null,t.autoplayApiCallGet=null,t.autoplayApiCallGetReturn=null,Object.keys(t).forEach((function(e){t[e]={name:e}})),t}return w(t,e),t}(g),T=function(){function e(e){this.map=new Map,this.errorHandler=new b(this,e)}return e.prototype.publish=function(e,t){if(void 0===t&&(t=null),e&&this.map.has(e))for(var n=0,r=this.map.get(e).slice();n<r.length;n++){var i=r[n],a=Object.assign({},e);null!=t&&(a.content=t);try{i(a)}catch(t){this.errorHandler.handleWarning(d.PLAYER_API_ERROR_EVENT_HANDLER,"Handler for "+e.name+" encountered an error!",{handler:i,handlerString:i.toString(),error:t})}}},e.prototype.addSubscriber=function(e,t){this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t])},e.prototype.addOneTimeSubscriber=function(e,t){var n=this;this.addSubscriber(e,(function r(i){n.removeSubscriber(e,r),t(i)}))},e.prototype.addOneTimeFirstOfMultipleEventsSubscriber=function(e,t){for(var n=this,r=function r(i){for(var a=0,o=e;a<o.length;a++){var l=o[a];n.removeSubscriber(l,r)}t(i)},i=0,a=e;i<a.length;i++){var o=a[i];this.addSubscriber(o,r)}},e.prototype.removeSubscriber=function(e,t){if(this.map.has(e)){var n=this.map.get(e),r=n.indexOf(t);r>=0&&n.splice(r,1)}},e.prototype.detectPublicEventTypeFromString=function(t){return e.publicPlayerEvents.getByName(t)},e.prototype.addRemovableEventListener=function(e,t,n){this.addSubscriber(t,n),e.push({event:t,handler:n})},e.publicPlayerEvents=new R,e.internalPlayerEvents=new A,e.apiCallEvents=new S,e}(),O=function(){function e(){}return e.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.backoff=function(t,n,r){return n().catch((function(i){return t>1?e.wait(r).then((function(){return e.backoff(t-1,n,2*r)})):Promise.reject(i)}))},e.debounce=function(e,t){var n;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=function(){clearTimeout(n),e.apply(void 0,r)};clearTimeout(n),n=setTimeout(a,t)}},e}(),k=function(){function e(e){this.type=e,this.executionQueue=[]}return e.prototype.executeOrQueue=function(e,t){this.isLoadedAndCanExecute()?(this.clearQueue(e),t(e)):this.executionQueue.push(t)},e.prototype.clearQueue=function(e){for(;this.executionQueue.length>0;)this.type,this.executionQueue.shift()(e)},e}(),C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e){function t(t,n,r,i){var a=e.call(this,"Adobe Analytics")||this;return a.window=window,a.playerStartupTime=0,a.lastBitRate=0,a.lastFramerate=0,a.eventHandlers=[],a.playerMode=t,a.publisher=i,a.pal=n,a.mediaInfo=r,a.sessionStarted=!1,a.blockEvents=!0,a.loadAdobeAnalytics(),a}return C(t,e),t.loadLibrary=function(){return new Promise((function(e,n){if(t.isAdobeAnalyticsLibraryLoaded())e();else{var r=document.createElement("script");r.type="text/javascript",r.onerror=function(){return e()},r.onload=function(){O.backoff(10,(function(){return t.isAdobeAnalyticsLibraryLoaded()?Promise.resolve():Promise.reject()}),10).catch((function(){e()})).then((function(){e()}))},r.src="https://assets.adobedtm.com/launch-ENf9fccf410c9541c68729607e1227ac39.min.js",document.head.appendChild(r)}}))},t.isAdobeAnalyticsLibraryLoaded=function(){var e=window;return e.Visitor&&e.AppMeasurement&&e.ADB&&e.ADB.MediaHeartbeat&&e.ADB.MediaHeartbeatDelegate},t.prototype.destroy=function(){var e=this;this.eventHandlers.forEach((function(t){e.publisher.removeSubscriber(t.event,t.handler)})),this.eventHandlers=[],this.executeOrQueue(this.mediaHeartbeat,(function(t){e.heartbeatDelegate&&(e.heartbeatDelegate.getCurrentPlaybackTime=function(){},e.heartbeatDelegate.getQoSObject=function(){})}))},t.prototype.isLoadedAndCanExecute=function(){return t.isAdobeAnalyticsLibraryLoaded&&this.mediaHeartbeat&&!this.blockEvents},t.prototype.loadAdobeAnalytics=function(){var e=this,n=setInterval((function(){if(t.isAdobeAnalyticsLibraryLoaded()){clearInterval(n);var r=void 0;try{e.MediaHeartbeat=e.window.ADB.MediaHeartbeat,e.heartbeatDelegate=e.createHeartbeatDelegate(),(r=e.MediaHeartbeat.getInstance(e.heartbeatDelegate)).config?r.config.debugLogging=!1:e.window.ADB.MediaHeartbeatConfig&&(r.config=new e.window.ADB.MediaHeartbeatConfig,r.config.debugLogging=!1)}catch(t){return void e.publisher.errorHandler.handleWarning(d.PLAYER_FUNCTIONS_ADOBE_ANALYTICS_ERROR,"warning-adobe-analytics-could-not-be-loaded",t)}r.then((function(t){e.mediaHeartbeat=t,e.clearQueue(e.mediaHeartbeat);var n=e.mediaHeartbeat._config,r=e.mediaInfo.digitalData;r&&r.page&&r.page.brand_technology?(n.ovp=r.page.brand_technology,n.channel=r.page.brand_technology):(n.ovp=window.location.hostname,n.channel=window.location.hostname)})).catch((function(t){e.publisher.errorHandler.handleWarning(d.PLAYER_FUNCTIONS_ADOBE_ANALYTICS_ERROR,"warning-adobe-analytics-could-not-be-loaded",t)}))}}),33);this.addInitialListeners()},t.prototype.createHeartbeatDelegate=function(){var e=new this.window.ADB.MediaHeartbeatDelegate;return e.getCurrentPlaybackTime=this.updatePlaybackTime.bind(this),e.getQoSObject=this.updateQoS.bind(this),e},t.prototype.createMediaObject=function(){var e,t,n;if(this.mediaInfo.isLiveStream())e=this.MediaHeartbeat.StreamType.LIVE,n=86400;else switch(e=this.MediaHeartbeat.StreamType.VOD,n=this.mediaInfo.duration/1e3,this.playerMode){case u.VIDEO:t="Video",e=this.MediaHeartbeat.StreamType.VOD;break;case u.AUDIO:t="Audio",e=this.MediaHeartbeat.StreamType.AOD}var r=this.mediaInfo.overriddenAssetName?this.mediaInfo.overriddenAssetName:this.mediaInfo.getAssetName(),i={},a=this.mediaInfo.digitalData;a&&a.page&&(i[this.MediaHeartbeat.VideoMetadataKeys.SHOW]=a.page.program_name,i[this.MediaHeartbeat.VideoMetadataKeys.SEASON]=a.page.episode_season,i[this.MediaHeartbeat.VideoMetadataKeys.ASSET_ID]=a.page.episode_whatsonId,i[this.MediaHeartbeat.VideoMetadataKeys.GENRE]=a.page.label),i[this.MediaHeartbeat.VideoMetadataKeys.EPISODE]=r;var o=this.MediaHeartbeat.createMediaObject(r,this.mediaInfo.analyticsReference,n,e,t);return i[this.MediaHeartbeat.VideoMetadataKeys.STREAM_FORMAT]=t,o.setValue(this.MediaHeartbeat.MediaObjectKey.StandardVideoMetadata,i),o},t.prototype.createCustomMetadata=function(){var e,t,n=window.location.hostname,r="syndication",i=window.location.pathname,a=this.mediaInfo.digitalData;a&&a.page&&(a.page.brand_technology&&(n=a.page.brand_technology),a.page.channel&&(r=a.page.channel),a.page.brand_media&&(e=a.page.brand_media),a.page.page_uri&&(i=a.page.page_uri),a.page.program_whatsonId&&(t=a.page.program_whatsonId));var o={touchpointBrand:n,platform:r,contentBrand:e,pageName:i,program_whatsonid:t,playerVersion:"1.9.9-prod-2021-10-21T12:48:33"};return(null==a?void 0:a.media)&&Object.keys(a.media).forEach((function(e){o[e]=a.media[e]})),o},t.prototype.addInitialListeners=function(){var e=this;this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.sourcechanged,(function(){e.blockEvents=!0})),this.publisher.addRemovableEventListener(this.eventHandlers,T.internalPlayerEvents.durationSet,(function(){e.blockEvents=!1})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.canplay,(function(){})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.firstplay,(function(){e.playerStartupTime||(e.playerStartupTime=Date.now()),e.addPlaybackEventListeners(),e.sessionStarted=!0,e.executeOrQueue(e.mediaHeartbeat,(function(t){t.trackSessionStart(e.createMediaObject(),e.createCustomMetadata())}))}))},t.prototype.addPlaybackEventListeners=function(){var e=this;this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.play,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(e){e.trackPlay()}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.pause,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(e){e.trackPause()}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.seeking,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(t){t.trackEvent(e.MediaHeartbeat.Event.SeekStart)}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.seeked,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(t){t.trackEvent(e.MediaHeartbeat.Event.SeekComplete)}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.ended,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(e){e.trackComplete(),e.trackSessionEnd()}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.exiting,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(e){e.trackSessionEnd()}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.qualitychanged,(function(t){var n=e.pal.getActiveQuality();n&&(e.lastBitRate=n.bandwidth,n instanceof v&&(e.lastFramerate=n.framerate))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.adbreakbegin,(function(t){var n={affiliate:t.content.affiliate,campaign:t.content.campaign};e.executeOrQueue(e.mediaHeartbeat,(function(r){var i=e.MediaHeartbeat.createAdBreakObject(t.name,1,0),a=e.MediaHeartbeat.createAdObject(t.name,t.content.id,0,t.content.duration),o={};o[e.MediaHeartbeat.AdMetadataKeys.ADVERTISER]=t.content.advertiser,o[e.MediaHeartbeat.AdMetadataKeys.CAMPAIGN_ID]=t.content.campaign,a.setValue(e.MediaHeartbeat.MediaObjectKey.StandardAdMetadata,o),r.trackEvent(e.MediaHeartbeat.Event.AdBreakStart,i),r.trackEvent(e.MediaHeartbeat.Event.AdStart,a,n),r.trackPlay()}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.adbreakend,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(t){t.trackEvent(e.MediaHeartbeat.Event.AdComplete),t.trackEvent(e.MediaHeartbeat.Event.AdBreakComplete)}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.adskipped,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(t){t.trackEvent(e.MediaHeartbeat.Event.AdSkip)}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.liveprogramchange,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(t){t.trackComplete(),t.trackSessionEnd(),t.trackSessionStart(e.createMediaObject(),e.createCustomMetadata()),t.trackPlay()}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.promotionalstarted,(function(t){var n={affiliate:t.content.affiliate,campaign:t.content.campaign};e.executeOrQueue(e.mediaHeartbeat,(function(r){var i=e.MediaHeartbeat.createAdBreakObject(t.name,1,0),a=e.MediaHeartbeat.createAdObject(t.name,t.content.id,0,t.content.duration),o={};o[e.MediaHeartbeat.AdMetadataKeys.ADVERTISER]=t.content.advertiser,o[e.MediaHeartbeat.AdMetadataKeys.CAMPAIGN_ID]=t.content.campaign,a.setValue(e.MediaHeartbeat.MediaObjectKey.StandardAdMetadata,o),r.trackEvent(e.MediaHeartbeat.Event.AdBreakStart,i),r.trackEvent(e.MediaHeartbeat.Event.AdStart,a,n),r.trackPlay()}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.nextpromotionalstarted,(function(t){var n={affiliate:t.content.affiliate,campaign:t.content.campaign};e.executeOrQueue(e.mediaHeartbeat,(function(r){var i=e.MediaHeartbeat.createAdObject(t.name,t.content.id,0,t.content.duration),a={};a[e.MediaHeartbeat.AdMetadataKeys.ADVERTISER]=t.content.advertiser,a[e.MediaHeartbeat.AdMetadataKeys.CAMPAIGN_ID]=t.content.campaign,i.setValue(e.MediaHeartbeat.MediaObjectKey.StandardAdMetadata,a),r.trackEvent(e.MediaHeartbeat.Event.AdComplete),r.trackEvent(e.MediaHeartbeat.Event.AdStart,i,n),r.trackPlay()}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.promotionalended,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(t){t.trackEvent(e.MediaHeartbeat.Event.AdComplete),t.trackEvent(e.MediaHeartbeat.Event.AdBreakComplete)}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.internalPlayerEvents.destroy,(function(t){e.executeOrQueue(e.mediaHeartbeat,(function(t){e.heartbeatDelegate&&(e.heartbeatDelegate.getCurrentPlaybackTime=function(){},e.heartbeatDelegate.getQoSObject=function(){}),t.trackComplete(),t.trackSessionEnd()}))}))},t.prototype.updateQoS=function(){return this.MediaHeartbeat.createQoSObject(this.lastBitRate,this.playerStartupTime,this.lastFramerate,this.pal.getDroppedFrameCount())},t.prototype.updatePlaybackTime=function(){var e=this.pal.playHeadPosition();return isNaN(e)?0:e},t}(k),_=function(){function e(){}return e.extractDomain=function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]},e.doGet=function(e,t,n){var r=this;return new Promise((function(i,a){var o=new XMLHttpRequest;o.withCredentials=t,o.open("GET",e,!0),o.onerror=function(){a(o.responseText)},o.onreadystatechange=function(){4===o.readyState&&i({request:o,response:o.responseText?o.responseText:null})},r.addHeaders(o,n),o.send()}))},e.doPost=function(e,t,n,r){var i=this;return new Promise((function(a,o){var l=new XMLHttpRequest;l.withCredentials=t,l.open("POST",e,!0),l.onerror=function(){o({request:l,response:l.responseText?l.responseText:null})},l.onreadystatechange=function(){4===l.readyState&&a({request:l,response:l.responseText?l.responseText:null})},i.addHeaders(l,n),l.send(r)}))},e.addHeaders=function(e,t){if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];e.setRequestHeader(i.name,i.value)}},e}(),L=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},D=function(){function e(){}return e.isMobile=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},e.isMobileOrTablet=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},e.isAndroid=function(){if(e.isTheoPlayerLoaded()){var t=window;return t.THEOplayer.videojs.browser.IS_ANDROID||t.THEOplayer.videojs.browser.IS_NATIVE_ANDROID||t.THEOplayer.videojs.browser.IS_OLD_ANDROID}return/android/i.test(navigator.userAgent||navigator.vendor||window.opera)},e.isIOS=function(){return e.isTheoPlayerLoaded()?window.THEOplayer.videojs.browser.IS_IOS:!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},e.isChrome=function(){return e.isTheoPlayerLoaded()?window.THEOplayer.videojs.browser.IS_CHROME:"chrome"===e.detectBrowser()},e.isFireFox=function(){return e.isTheoPlayerLoaded()?window.THEOplayer.videojs.browser.IS_FIREFOX:"firefox"===e.detectBrowser()},e.isEdge=function(){return e.isTheoPlayerLoaded()?window.THEOplayer.videojs.browser.IS_EDGE:"edge"===e.detectBrowser()},e.isIE=function(){return e.isTheoPlayerLoaded()?null!==window.THEOplayer.videojs.browser.IE_VERSION:"ie"===e.detectBrowser()},e.isIEorEdge=function(){return e.isIE()||e.isEdge()},e.isSafari=function(){return e.isTheoPlayerLoaded()?window.THEOplayer.videojs.browser.IS_ANY_SAFARI:"safari"===e.detectBrowser()},e.fixIE=function(e){e.classList.add("video-js"),e.classList.add("theoplayer-skin")},e.getPlatform=function(){var e=this.isMobile(),t=this.isMobileOrTablet();return e&&t?"phone":!e&&t?"tablet":"desktop"},e.loadPolyfills=function(e){var t=window,n=document.createElement("script");n.type="text/javascript",n.onerror=e,n.onload=function(){var n=setInterval((function(){t.Promise&&(clearInterval(n),e())}),10)},n.src="https://polyfill.io/v3/polyfill.min.js?features=Array.from%2CArray.prototype.forEach%2CNodeList.prototype.forEach%2CCustomEvent%2CElement.prototype.remove%2CNumber.isNaN%2CObject.assign%2CPromise%2CArray.prototype.includes%2CString.prototype.includes%2CObject.values%2CNodeList.prototype.forEach%2CString.prototype.repeat%2CString.prototype.startsWith",document.head.appendChild(n)},e.loadLibrariesSequential=function(e,t){return void 0===t&&(t=!1),L(this,void 0,void 0,(function(){var n,r,i;return N(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,,6]),n=0,r=e,a.label=1;case 1:return n<r.length?(i=r[n],[4,this.loadLibrary(i,{})]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[3,6];case 5:if(a.sent(),!t)throw new Error;return[3,6];case 6:return[2]}}))}))},e.loadLibraryOnCondition=function(e,t,n){return void 0===n&&(n=!1),t?this.loadLibrary(e,{},!0):n?Promise.resolve():Promise.reject()},e.loadLibrary=function(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=null),new Promise((function(i,a){var o=document.createElement("script");if(o.type="text/javascript",o.onerror=n?function(){return i()}:function(){return a()},o.onload=function(){r||i()},r&&(window[r]=function(){i()}),t&&t.attributes)for(var l=0,s=Object.keys(t.attributes);l<s.length;l++){var u=s[l];o[u]=t.attributes[u]}o.src=e,document.head.appendChild(o)}))},e.loadCSS=function(e){return L(this,void 0,void 0,(function(){var t,n,r;return N(this,(function(i){switch(i.label){case 0:return[4,_.doGet(e,!1,[])];case 1:return t=i.sent().response,n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style"),n.appendChild(r),r.type="text/css",r.appendChild(document.createTextNode(t)),[2]}}))}))},e.getCdnUrl=function(){var e="";return document.querySelectorAll("script").forEach((function(t){t.src.search(/media-services-public-dev.vrt.be\/mediaplayer|media-services-public-stag.vrt.be\/mediaplayer|media-services-public.vrt.be\/mediaplayer|player-dev.vrt.be|player-stag.vrt.be|player.vrt.be/g)>-1&&(e=t.src.replace("/js/main.js",""))})),e+"/"},e.getSiteUrlReducedToFirstPathItem=function(){return window.location.hostname+(window.location.pathname.length>0?window.location.pathname.split("/")[0]:"")},e.isLocalStorageAvailable=function(){if(null!==this.localStorageAvailable)return this.localStorageAvailable;try{return localStorage.setItem("vrt-mediaplayer-dummy","dummy-value"),localStorage.removeItem("vrt-mediaplayer-dummy"),this.localStorageAvailable=!0,!0}catch(e){return this.localStorageAvailable=!1,!1}},e.detectBrowser=function(){var e=navigator.userAgent.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return navigator.userAgent.match(/Edge/i)||navigator.userAgent.match(/edg/i)?"edge":navigator.userAgent.match(/Trident.*rv[ :]*11\./i)?"ie":e&&e.length>=2?e[1].toLowerCase():""},e.isTheoPlayerLoaded=function(){var e=window;return e&&e.THEOplayer&&e.THEOplayer.videojs&&e.THEOplayer.videojs.browser},e.localStorageAvailable=null,e}(),x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(e){function t(t,n,r,i,a,o){var l=e.call(this,"CIM Analytics")||this;l.window=window,l.eventHandlers=[],l.playerMode=t,l.publisher=a,l.playerId=n.getAttribute("data-id"),l.pal=r,l.mediaInfo=i,l.cimId=o,l.sessionStarted=!1;var s=0,u=setInterval((function(){l.window.GemiusPlayer?(clearInterval(u),l.gemiusPlayer=new window.GemiusPlayer("VRT-MediaPlayer",l.cimId,{currentDomain:window.location,volume:l.getVolumeForGemius(),resolution:n.offsetWidth+"x"+n.offsetHeight}),l.gemiusPlayer.setVideoObject(null),l.clearQueue(l.gemiusPlayer)):s++>=60&&(clearInterval(u),l.publisher.errorHandler.handleWarning(d.PLAYER_FUNCTIONS_CIM_ANALYTICS_ERROR,"warning-cim-analytics-could-not-be-loaded"))}),33);return l.addListeners(),l}return x(t,e),t.loadLibrary=function(){return D.loadLibrary("https://gabe.hit.gemius.pl/gplayer.js",{},!0)},t.prototype.destroy=function(){var e=this;this.eventHandlers.forEach((function(t){e.publisher.removeSubscriber(t.event,t.handler)})),this.eventHandlers=[]},t.prototype.isLoadedAndCanExecute=function(){return this.gemiusPlayer},t.prototype.addListeners=function(){var e=this;this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.firstplay,(function(){e.addPlaybackEventListeners()}))},t.prototype.addPlaybackEventListeners=function(){var e=this,t=function(n){if(e.pal.isPlaying()){var r=function(t){var n=e.sessionStarted||e.mediaInfo.isLiveStream()?e.pal.playHeadPosition():0;e.executeOrQueue(e.gemiusPlayer,(function(t){t.newProgram(e.mediaInfo.analyticsReference,e.createAdditionalProgramParameters()),t.programEvent(e.mediaInfo.analyticsReference,n,"play",e.createAdditionalPlayParameters())})),e.sessionStarted=!0};e.mediaInfo.isLiveStream()?e.publisher.addOneTimeSubscriber(T.publicPlayerEvents.seeked,r):r()}else e.publisher.addOneTimeSubscriber(T.internalPlayerEvents.normalContentIsPlayingTick,t)};this.publisher.addOneTimeSubscriber(T.internalPlayerEvents.normalContentIsPlayingTick,t),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.adbreakbegin,(function(){e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),"break")}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.adbreakend,(function(){})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.play,(function(t){e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),"play",e.createAdditionalPlayParameters())}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.pause,(function(t){e.sessionStarted&&e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),"pause")}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.seeking,(function(t){e.sessionStarted&&e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),"seek")}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.buffering,(function(t){e.sessionStarted&&e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),"buffer")}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.bufferingCompleted,(function(t){e.sessionStarted&&e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),"play")}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.ended,(function(n){e.sessionStarted&&(e.sessionStarted=!1,e.publisher.addOneTimeSubscriber(T.internalPlayerEvents.normalContentIsPlayingTick,t),e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.getDuration(),"complete")})))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.exiting,(function(t){e.sessionStarted&&(e.sessionStarted=!1,e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),"close")})))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.liveprogramchange,(function(t){e.sessionStarted&&(e.executeOrQueue(e.gemiusPlayer,(function(t){t.programEvent(e.mediaInfo.analyticsReference,e.getDuration(),"complete")})),e.executeOrQueue(e.gemiusPlayer,(function(t){t.newProgram(e.mediaInfo.analyticsReference,e.createAdditionalProgramParameters())})))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.volumechange,(function(t){e.sessionStarted&&e.executeOrQueue(e.gemiusPlayer,(function(n){n.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),{volume:e.getVolumeForGemius(t.content.volume)})}))})),this.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.qualitychanged,(function(t){e.sessionStarted&&e.executeOrQueue(e.gemiusPlayer,(function(n){t.content.video&&n.programEvent(e.mediaInfo.analyticsReference,e.pal.playHeadPosition(),{resolution:t.content.video.width+"x"+t.content.video.height})}))}))},t.prototype.getDuration=function(){var e=0;return this.mediaInfo&&(e=this.mediaInfo.isLiveStream()?-1:this.mediaInfo.duration/1e3),e},t.prototype.createAdditionalPlayParameters=function(){var e=this.pal.getActiveQuality(),t="";return e&&e.hasOwnProperty("width")&&(t=e.width+"x"+e.height),{autoPlay:!1,partId:1,resolution:t,volume:this.getVolumeForGemius()}},t.prototype.createAdditionalProgramParameters=function(){var e=this.mediaInfo.digitalData,t=this.playerMode===u.VIDEO?"Video":"Audio";return{programType:t,programDuration:this.getDuration(),programName:this.mediaInfo.overriddenAssetName?this.mediaInfo.overriddenAssetName:this.mediaInfo.getAssetName("nietingevuld"),se:this.getSiteSection(),ct:this.getContentType(t,e),st:this.getSourceType(t,this.mediaInfo.isLiveStream(),this.getDuration()),tv:e&&e.page?e.page.episode_whatsonId:"nietingevuld",channel:this.getChannelNameForGemius()}},t.prototype.getVolumeForGemius=function(e){return e?0===e?-1:Math.round(100*e):0===this.pal.getVolume()?-1:Math.round(100*this.pal.getVolume())},t.prototype.getChannelNameForGemius=function(){var e,t,n,r,i="nietingevuld";switch((null===(e=this.mediaInfo)||void 0===e?void 0:e.channelId)?i=this.mediaInfo.channelId:(null===(r=null===(n=null===(t=this.mediaInfo)||void 0===t?void 0:t.digitalData)||void 0===n?void 0:n.page)||void 0===r?void 0:r.brand_media)&&(i=this.mediaInfo.digitalData.page.brand_media),i=i.toLowerCase()){case"één":case"vualto_een_geo":case"vualto_een_drm":return"een";case"vualto_canvas_geo":case"vualto_canvas_drm":return"canvas";case"vualto_ketnet_geo":case"vualto_ketnet_drm":case"ketnet_jr":return"ketnet";default:return i}},t.prototype.getContentType=function(e,t){var n,r;return(null===(n=null==t?void 0:t.media)||void 0===n?void 0:n.contentType)?null===(r=null==t?void 0:t.media)||void 0===r?void 0:r.contentType:"Video"===e?"ce/tv":"ce/radio"},t.prototype.getSourceType=function(e,t,n){return"Video"===e?t?"vid.tvi.live.free":n/60>8?"vid.tvi.ep.vod.free":"vid.wex.frag.vod.free":t?"aud.rai.live.free":n/60>8?"aud.rai.ep.free":"aud.wex.frag.free"},t.prototype.getSiteSection=function(){var e,t;return(null===(t=null===(e=this.mediaInfo)||void 0===e?void 0:e.digitalData)||void 0===t?void 0:t.page)?this.mediaInfo.digitalData.page.siteSection_1+" - "+this.mediaInfo.digitalData.page.siteSection_2:"nietingevuld"},t}(k),M=function(){function e(e,t,n,r){this.sources=e,this.ads=t,this.textTracks=n,this.metaData=r}return e.prototype.getSource=function(){return this.sources.hasOwnProperty("length")?this.sources[0]:this.sources},e}(),V=function(){function e(e,t,n,r,i,a,o,l,s,u,c,p,d){this.mediaReference=e,this.aspectRatio=t,this.channelId=n,this.chaptering=r,this.drm=i,this.drmExpired=a,this.duration=o,this.mediaSections=l,this.posterImageUrl=s,this.shortDescription=u,this.skinType=c,this.targetUrls=p,this.sources=null,this.currentSource=null,this.title=d,this.liveSchedule=[],this.activeScheduleItem=null,this.activePlaylistItem=null,this.remainingPlaylistItemDuration=0}return e.createDummyMediaInfo=function(){var t=new e(null,null,null,null,null,new Date,0,null,null,null,null,[],null);return t.currentSource=new M({src:null,type:null,contentProtection:null},null,null,null),t},e.prototype.isLiveStream=function(){return this.skinType===m.LIVE},e.prototype.isLiveToUrl=function(){if(this.targetUrls)for(var e=0,t=this.targetUrls;e<t.length;e++){var n=t[e];if(n.url&&n.url.search("t=")>-1)return!0}return!1},e.prototype.getAssetName=function(e){var t=e||this.title;if(this.digitalData)if(this.isLiveStream())t=this.mediaReference+" - livestream";else if(this.digitalData&&this.digitalData.page){var n="";if(this.digitalData.page.episode_broadcast_date){var r=new Date(this.digitalData.page.episode_broadcast_date);n=(r.getDate()<10?"0"+r.getDate():r.getDate()+"")+"/"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1+"")+"/"+(r.getFullYear()+"").substring(2)}t=this.digitalData.page.program_name+" - "+n+" "+this.digitalData.page.episode_name}return t},e.prototype.getAssetId=function(){return this.mediaReference.split("$").shift()},e.prototype.mapToPublicMediaInfo=function(){return{analyticsReference:this.analyticsReference,aspectRatio:this.aspectRatio,channelId:this.channelId,duration:this.duration,mediaReference:this.mediaReference,posterImageUrl:this.posterImageUrl,shortDescription:this.shortDescription,title:this.title}},e.prototype.getRealSeekTime=function(e){if(this.mediaSections&&this.mediaSections.content.length>0){this.mediaSections;for(var t=0,n=0,r=this.mediaSections.content;n<r.length;n++){var i=r[n];if("STANDARD"===i.eventType)break;t+=i.duration/1e3}return t+e}return e},e}();!function(e){e.VOD="vod",e.LIVE="live"}(m||(m={}));var H,U=function(e,t,n){this.src=e,this.type=t,this.contentProtection=n},F=function(){function e(){}return e.extractVrtVodReference=function(e){return e.split(/%24|\$/g).pop()},e.extractVrtLiveReference=function(e){var t=e.split(/(\/live\/)|(\/live\.)/g);return t.length>1?t[t.length-4]:e},e.extractStandaloneReference=function(e){var t=null,n=e.split(/(vod\/)|(-CDN_1\/)/g);return n.length>1?t=n[n.length-4]:(t=e.split("/").pop()).substr(0,64),t},e.extractYoutubeReference=function(e){return e.replace("watch?v=","embed/").replace("http://youtu.be/","https://www.youtube.com/embed/").split("/").pop()},e}(),j=function(){this.streamTypeMapping={mpeg_dash:{name:"mpeg_dash",mediaType:"application/dash+xml",mdpFirstSortOrder:100,hlsFirstSortOrder:1,hlsAesFirstSortOrder:1},hls:{name:"hls",mediaType:"application/x-mpegURL",mdpFirstSortOrder:10,hlsFirstSortOrder:100,hlsAesFirstSortOrder:10},hls_aes:{name:"hls_aes",mediaType:"",mdpFirstSortOrder:1,hlsFirstSortOrder:10,hlsAesFirstSortOrder:100}}},q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.mapSources=function(e,t){return[]},t.prototype.getNextSource=function(e,t){return e.sources&&e.sources.length>0?new M(e.sources.shift(),[t],null,null):null},t.prototype.getStartOverSource=function(e,t){return null},t.prototype.canDoStartOver=function(e){return!1},t}(j),Y=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},Q=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},z=function(){function e(e,t,n,r){this.config=e,this.publisher=t,this.playlistItem=n,this.sourceService=r}return e.prototype.enrichMedia=function(e){return Y(this,void 0,void 0,(function(){return Q(this,(function(e){return[2,Promise.reject("Operation not supported!")]}))}))},e.prototype.prepareSources=function(e){},e.prototype.updateMediaEnrichment=function(e,t){},e.prototype.autoUpdateLiveSchedule=function(e,t,n){},e.prototype.isVRT=function(){return!1},e.prototype.isStandAloneVideo=function(){return!1},e.prototype.isYouTube=function(){return!1},e.prototype.destroy=function(){},e}(),K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},J=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},X=function(e){function t(t,n,r){var i=e.call(this,t,n,r,new B)||this;return i.mediaInfo=new Promise((function(e,t){return W(i,void 0,void 0,(function(){var n,r;return J(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=e,[4,this.enrichMedia()];case 1:return n.apply(void 0,[i.sent()]),[3,3];case 2:return r=i.sent(),t(r),[3,3];case 3:return[2]}}))}))})),i}return K(t,e),t.prototype.enrichMedia=function(){return W(this,void 0,void 0,(function(){var e,t;return J(this,(function(n){return e=this.playlistItem.mediaReference,(t=new V(e,null,null,null,null,null,-1,null,"","",m.VOD,null,"Video")).analyticsReference=F.extractStandaloneReference(e),t.overriddenAssetName=this.config.analyticsAssetNameOverride?this.config.analyticsAssetNameOverride:null,t.digitalData=this.playlistItem.digitalData,t.targetUrls=[{type:null,url:e}],t.sources=[new U(e,null,null)],[2,t]}))}))},t.prototype.prepareSources=function(e){e.sources=[new U(e.mediaReference,null,null)],e.sources},t.prototype.updateMediaEnrichment=function(e,t){var n=e.getDuration();isNaN(n)||(t.duration=n)},t.prototype.isStandAloneVideo=function(){return!0},t}(z),Z=function(){function e(e,t){this.vrtPlayerToken=e,this.expirationDate=t}return e.prototype.hasNotExpired=function(){return Date.now()<new Date(this.expirationDate).getTime()},e.prototype.isNotWorldWide=function(){return this.vrtPlayerToken.search(/^([vbe])/)>=0},e}(),$=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},ee=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},te=function(){function e(e,t,n){this.aggregatorUrl=e,this.isV2Aggregator=n,this.publisher=t,this.playerTokenStorageName=this.isV2Aggregator?"vrtPlayerTokenV2":"vrtPlayerToken"}return e.clearToken=function(){D.isLocalStorageAvailable()&&(localStorage.removeItem("vrtPlayerToken"),localStorage.removeItem("vrtPlayerTokenV2"))},e.loadStoredToken=function(e){var t,n=(null==e?void 0:e.search("v2"))>-1?"vrtPlayerTokenV2":"vrtPlayerToken";if(D.isLocalStorageAvailable()&&(t=localStorage.getItem(n)),t)try{return Object.setPrototypeOf(JSON.parse(t),Z.prototype)}catch(e){throw new Error("The current token is corrupt")}return null},e.prototype.getToken=function(t){return $(this,void 0,void 0,(function(){var n,r;return ee(this,(function(i){switch(i.label){case 0:try{e.lastIdentityToken=t,n=e.loadStoredToken()}catch(e){this.publisher.errorHandler.handleWarning(d.AGGREGATOR_TOKEN_ERROR_STORED_TOKEN_MALFORMED,"warning-the-current-token-is-corrupt",{error:e}),n=null}if(this.tokenIsValid(n))return[3,4];i.label=1;case 1:if(i.trys.push([1,3,,4]),null===t)throw new Error("Invalid identity token!");return[4,this.requestNewToken(t)];case 2:return n=i.sent(),D.isLocalStorageAvailable()&&localStorage.setItem(this.playerTokenStorageName,JSON.stringify(n)),[3,4];case 3:throw r=i.sent(),new Error("Cannot retrieve a new player token: "+r);case 4:return this.publisher.publish(T.internalPlayerEvents.tokenAcquired),[2,n]}}))}))},e.prototype.tokenIsValid=function(e){return e&&e.isNotWorldWide()&&e.hasNotExpired()},e.prototype.requestNewToken=function(e){return $(this,void 0,void 0,(function(){var t,n,r,i;return ee(this,(function(a){switch(a.label){case 0:e?(t=JSON.stringify({identityToken:e}),n=!1):(t=null,n=!0),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,_.doPost(this.aggregatorUrl+"/tokens",n,[{name:"Content-Type",value:"application/json"}],t)];case 2:if(200===(r=a.sent()).request.status)return[2,Object.setPrototypeOf(JSON.parse(r.response),Z.prototype)];throw new Error;case 3:throw i=a.sent(),r?this.publisher.errorHandler.handleError(d.AGGREGATOR_TOKEN_ERROR_CANNOT_GET_TOKEN,"errors-a-token-could-not-be-retrieved",JSON.parse(r.response)):this.publisher.errorHandler.handleError(d.AGGREGATOR_TOKEN_ERROR_CANNOT_GET_TOKEN,"errors-a-token-could-not-be-retrieved",i.response),new Error("Cannot fetch token!");case 4:return[2]}}))}))},e}(),ne=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},re=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},ie=function(){function e(e,t,n){this.aggregatorUrl=e,this.isV2Aggregator=(null==e?void 0:e.search("v2"))>-1,this.identityToken=t,this.publisher=n,this.tokenUtils=new te(e,n,this.isV2Aggregator)}return e.prototype.aggregateMedia=function(e,t){return ne(this,void 0,void 0,(function(){var n;return re(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.tokenUtils.getToken(this.identityToken)];case 1:return n=r.sent(),[4,this.getMediaInfo(e,t,n)];case 2:return[2,r.sent()];case 3:throw r.sent(),new Error("Cannot aggregate media!");case 4:return[2]}}))}))},e.prototype.getMediaInfo=function(e,t,n){return ne(this,void 0,void 0,(function(){var r,i,a,o;return re(this,(function(l){switch(l.label){case 0:r=null,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,_.doGet(this.aggregatorUrl+"/videos/"+e+"?vrtPlayerToken="+n.vrtPlayerToken+"&client="+t,!1,null)];case 2:if(200===(r=l.sent()).request.status)return(i=JSON.parse(r.response)).mediaSections=i.playlist,delete i.playlist,(a=Object.setPrototypeOf(i,V.prototype)).drmExpired&&(a.drmExpired=new Date(a.drmExpired)),a.mediaReference=e,[2,a];throw new Error;case 3:throw l.sent(),o=this.isV2Aggregator?this.publisher.errorHandler.handleErrorFromV2Aggregator.bind(this):this.publisher.errorHandler.handleErrorFromAggregator.bind(this),r?o(r.request,r.response):o(null,null),new Error("Cannot get info from aggregator!");case 4:return[2]}}))}))},e}(),ae=function(e,t,n){this.integration=e,this.token=t,this.widevine=n.widevine,this.playready=n.playready,this.fairplay=n.fairplay},oe=function(){function e(e){this.widevineDrm={certificateURL:null,licenseAcquisitionURL:"https://widevine-proxy.drm.technology/proxy",useCredentials:!1},this.fairplayDrm={certificateURL:"https://fairplay-license.drm.technology/certificate",licenseAcquisitionURL:"https://fairplay-license.drm.technology/license",useCredentials:!1},this.playreadyDrm={certificateURL:null,licenseAcquisitionURL:"https://playready-license.drm.technology/rightsmanager.asmx",useCredentials:!1},this.integration=e}return e.prototype.generateDrmConfig=function(e){return new ae(this.integration,e,this.determineDRMForBrowser(e))},e.prototype.determineDRMForBrowser=function(e){var t={widevine:null,fairplay:null,playready:null};return e&&(t.widevine=this.widevineDrm,t.fairplay=this.fairplayDrm,t.playready=this.playreadyDrm),t},e.isDrmTokenAboutToExpire=function(e){if(e){var t=e.getTime()-Date.now();return t<=0||t<1e3*parseInt("30",10)}return!1},e.remapAESTokenOntoLicenseRequest=function(e,t){if(e){var n=e.toLowerCase();return t?-1===n.indexOf("getkey")||-1!==n.indexOf("token=")?e:e+(-1===n.indexOf("?")?"?":"&")+"token="+encodeURIComponent(t):e}return null},e}(),le=function(e){e&&(this.title=e)},se=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},ue=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},ce=function(){function e(e,t){this.aggregatorUrl=e,this.errorHandler=t,this.noBroadCast=new le("Geen uitzending")}return e.prototype.mapMediaSections=function(e){this.mediaSections=e;for(var t=0;t<e.content.length;t++)e.content[t].index=t;this.mapPlaylistDurationsToPlaytime(),this.determineDurationPerBlock()},e.prototype.getRemainingBlockDuration=function(e){var t=this.getActivePlaylistItem(1e3*e);if(t){for(var n=void 0,r=0,i=this.playlistDurationMappingPerBlock;r<i.length;r++){var a=i[r];if(a.playListIndexes.indexOf(t.item.index)>=0){n=a.playListIndexes[a.playListIndexes.length-1];break}}var o=this.playlistTimeMapping[n];return{activePlaylistItem:t,remainingBlockDuration:Math.round((o-1e3*e)/1e3)}}return{activePlaylistItem:null,remainingBlockDuration:NaN}},e.prototype.getLiveSchedule=function(e){return se(this,void 0,void 0,(function(){var t,n,r;return ue(this,(function(i){switch(i.label){case 0:t=null,this.liveScheduleLastModified&&(t=[{name:"If-Modified-Since",value:this.liveScheduleLastModified}]),n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,_.doGet(this.aggregatorUrl+"/channels/"+e,!0,t)];case 2:if(200===(n=i.sent()).request.status)return this.liveScheduleLastModified=n.request.getResponseHeader("last-modified"),[2,JSON.parse(n.response).schedule];if(304===n.request.status)return[2,null];if(n.request.status>399)throw new Error;return[3,4];case 3:throw r=i.sent(),n?this.errorHandler.handleError(d.AGGREGATOR_SCHEDULE_ERROR_CANNOT_GET_SCHEDULE,"errors-the-program-schedule-cannot-be-retrieved",JSON.parse(n.response)):this.errorHandler.handleError(d.AGGREGATOR_SCHEDULE_ERROR_CANNOT_GET_SCHEDULE,"errors-the-program-schedule-cannot-be-retrieved",r),new Error("The program schedule could not be retrieved!");case 4:return[2]}}))}))},e.prototype.getActiveScheduleItem=function(e){if(e&&e.length>0){for(var t=Date.now(),n=0;n<e.length;n++){var r=e[n],i=new Date(r.time).getTime(),a=e[n+1],o=t+1;if(n<e.length-1&&(o=new Date(a.time).getTime()),t>=i&&t<o)return r}return this.noBroadCast}return null},e.prototype.mapPlaylistDurationsToPlaytime=function(){this.playlistTimeMapping=[];for(var e=0;e<this.mediaSections.content.length;e++){var t=this.mediaSections.content[e],n=0;this.playlistTimeMapping.length>0&&(n=this.playlistTimeMapping[e-1]),this.playlistTimeMapping.push(n+t.duration)}},e.prototype.determineDurationPerBlock=function(){this.playlistDurationMappingPerBlock=[];for(var e=0;e<this.mediaSections.content.length;){var t=this.mediaSections.content[e],n={duration:t.duration,playListIndexes:[e]};this.playlistDurationMappingPerBlock.push(n);for(var r=e+1;r<this.mediaSections.content.length;r++){if(t.eventType.toLowerCase()!==this.mediaSections.content[r].eventType.toLowerCase()){(e=r)===this.mediaSections.content.length-1&&(e=this.mediaSections.content.length,this.playlistDurationMappingPerBlock.push({duration:t.duration,playListIndexes:[e-1]}));break}n.playListIndexes.push(r),n.duration+=this.mediaSections.content[r].duration,r===this.mediaSections.content.length-1&&(e=this.mediaSections.content.length)}}},e.prototype.getActivePlaylistItem=function(e){for(var t=0;t<this.playlistTimeMapping.length;t++)if(e<=this.playlistTimeMapping[t]){var n=!1,r=null;return this.previousMediaSection?this.previousMediaSection&&this.previousMediaSection.eventType!==this.mediaSections.content[t].eventType?(n=!0,r=this.previousMediaSection.eventType,this.previousMediaSection=this.mediaSections.content[t]):this.previousMediaSection&&this.previousMediaSection.eventType===this.mediaSections.content[t].eventType&&this.previousMediaSection.index!==this.mediaSections.content[t].index&&(n=!1,r=this.previousMediaSection.eventType,this.previousMediaSection=this.mediaSections.content[t]):(n=!0,r=null,this.previousMediaSection=this.mediaSections.content[t]),{item:this.mediaSections.content[t],typeChanged:n,previousType:r}}return null},e.types={PROMOTIONAL:"promotional",STANDARD:"standard",TRAILER:"trailer",ONBOARDING:"onboarding"},e}(),pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pe(t,e),t.prototype.mapSources=function(e,t){var n=this;return e.targetUrls.sort((function(e,t){return D.isIOS()||D.isSafari()?n.streamTypeMapping[t.type].hlsFirstSortOrder-n.streamTypeMapping[e.type].hlsFirstSortOrder:D.isIE()||window.navigator.userAgent.search("Firefox/68.0")>-1?n.streamTypeMapping[t.type].hlsAesFirstSortOrder-n.streamTypeMapping[e.type].hlsAesFirstSortOrder:n.streamTypeMapping[t.type].mdpFirstSortOrder-n.streamTypeMapping[e.type].mdpFirstSortOrder})).map((function(e){return n.streamTypeMapping.hls_aes.name===e.type?new U(e.url,n.streamTypeMapping[e.type].mediaType,null):new U(e.url,n.streamTypeMapping[e.type].mediaType,t)}))},t.prototype.getNextSource=function(e,t,n,r,i){if(e.sources&&e.sources.length>0){var a=e.sources.shift();return n&&!0===n&&(a=this.getStartOverSource(e,a,r,i)),new M(a,[t],null,null)}return null},t.prototype.getStartOverSource=function(e,t,n,r){return n&&t?new U(t.src.split("?t=")[0]+="?t="+n+(r?"$"+r:""),t.type,t.contentProtection):this.canDoStartOver(e.activeScheduleItem)&&t?new U(t.src.split("?t=")[0]+="?t="+e.activeScheduleItem.time,t.type,t.contentProtection):null},t.prototype.canDoStartOver=function(e){return null!=e&&null!==e.time&&void 0!==e.time},t}(j),he=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ye=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},fe=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},ve=function(e){function t(t,n,r){var i=e.call(this,t,n,r,new de)||this;return i.programmingService=new ce(i.config.aggregatorUrl,i.publisher.errorHandler),i.aggregatorService=new ie(i.config.aggregatorUrl,i.config.identityToken,i.publisher),i.drmService=new oe("vudrm"),i.mediaInfo=new Promise((function(e,t){return ye(i,void 0,void 0,(function(){var n,r;return fe(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=e,[4,this.enrichMedia()];case 1:return n.apply(void 0,[i.sent()]),[3,3];case 2:return r=i.sent(),t(r),[3,3];case 3:return[2]}}))}))})),i}return he(t,e),t.prototype.enrichMedia=function(){return ye(this,void 0,void 0,(function(){var e,t,n;return fe(this,(function(r){switch(r.label){case 0:e=this.playlistItem.mediaReference,r.label=1;case 1:return r.trys.push([1,6,,7]),[4,this.aggregatorService.aggregateMedia(e,this.config.clientCode)];case 2:return(t=r.sent()).isLiveStream()?(n=t,[4,this.programmingService.getLiveSchedule(e)]):[3,4];case 3:return n.liveSchedule=r.sent(),t.activeScheduleItem=this.programmingService.getActiveScheduleItem(t.liveSchedule),t.analyticsReference=F.extractVrtLiveReference(e),[3,5];case 4:t.analyticsReference=F.extractVrtVodReference(e),this.programmingService.mapMediaSections(t.mediaSections),r.label=5;case 5:return t.overriddenAssetName=this.config.analyticsAssetNameOverride?this.config.analyticsAssetNameOverride:null,t.digitalData=this.playlistItem.digitalData,[2,t];case 6:throw r.sent(),new Error("Cannot enrich media!");case 7:return[2]}}))}))},t.prototype.prepareSources=function(e){var t=this.drmService.generateDrmConfig(e.drm);e.sources=this.sourceService.mapSources(e,t),e.sources},t.prototype.updateMediaEnrichment=function(e,t){if(t.isLiveStream())t.activeScheduleItem=this.programmingService.getActiveScheduleItem(t.liveSchedule);else{var n=this.programmingService.getRemainingBlockDuration(e.playHeadPosition());t.activePlaylistItem=n.activePlaylistItem,t.remainingPlaylistItemDuration=n.remainingBlockDuration,this.detectPromotionalProgress(e,t)}},t.prototype.autoUpdateLiveSchedule=function(e,t,n){var r=this;this.liveScheduleInterval=setInterval((function(){return ye(r,void 0,void 0,(function(){var e;return fe(this,(function(r){switch(r.label){case 0:return[4,this.programmingService.getLiveSchedule(this.playlistItem.mediaReference)];case 1:return(e=r.sent())&&(t.liveSchedule=e,t.activeScheduleItem=this.programmingService.getActiveScheduleItem(t.liveSchedule),n&&n()),[2]}}))}))}),1e3*e)},t.prototype.isVRT=function(){return!0},t.prototype.destroy=function(){clearInterval(this.liveScheduleInterval)},t.prototype.detectPromotionalProgress=function(e,t){this.isAdPlaying(e,t)||(this.isFirstPromotionalPlaying(t)?this.publisher.publish(T.publicPlayerEvents.promotionalstarted,{id:t.activePlaylistItem.item.index+"",name:"PROMOTIONAL-"+(t.activePlaylistItem.item.index+1),duration:t.activePlaylistItem.item.duration/1e3,resourceUri:null,affiliate:"PROMOTIONAL",campaign:"PROMOTIONAL",advertiser:"PROMOTIONAL"}):this.isNextPromotionalPlaying(t)?this.publisher.publish(T.publicPlayerEvents.nextpromotionalstarted,{id:t.activePlaylistItem.item.index+"",name:"PROMOTIONAL-"+t.activePlaylistItem.item.index,duration:t.activePlaylistItem.item.duration,resourceUri:null,affiliate:"PROMOTIONAL",campaign:"PROMOTIONAL",advertiser:"PROMOTIONAL"}):this.isMainContentPlayingAfterPromotionals(t)&&this.publisher.publish(T.publicPlayerEvents.promotionalended))},t.prototype.isAdPlaying=function(e,t){return!t.activePlaylistItem||e.isAdPlaying()},t.prototype.isFirstPromotionalPlaying=function(e){return e.activePlaylistItem.typeChanged&&e.activePlaylistItem.item&&e.activePlaylistItem.item.eventType.toLowerCase()===ce.types.PROMOTIONAL},t.prototype.isNextPromotionalPlaying=function(e){return!e.activePlaylistItem.typeChanged&&e.activePlaylistItem.previousType===ce.types.PROMOTIONAL&&e.activePlaylistItem.item&&e.activePlaylistItem.item.eventType.toLowerCase()===ce.types.PROMOTIONAL},t.prototype.isMainContentPlayingAfterPromotionals=function(e){return e.activePlaylistItem.typeChanged&&e.activePlaylistItem.previousType===ce.types.PROMOTIONAL&&e.activePlaylistItem.item&&(e.activePlaylistItem.item.eventType.toLowerCase()===ce.types.STANDARD||e.activePlaylistItem.item.eventType.toLowerCase()===ce.types.TRAILER)},t}(z),be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},ge=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Ee=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.mediaInfo=new Promise((function(e,t){return me(i,void 0,void 0,(function(){var n,r;return ge(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=e,[4,this.enrichMedia()];case 1:return n.apply(void 0,[i.sent()]),[3,3];case 2:return r=i.sent(),t(r),[3,3];case 3:return[2]}}))}))})),i}return be(t,e),t.prototype.enrichMedia=function(e){return me(this,void 0,void 0,(function(){var t,n;return ge(this,(function(r){return t=F.extractYoutubeReference(this.playlistItem.mediaReference),(n=new V(t,null,null,null,null,null,this.getDuration(e),null,"",t,m.VOD,[{type:"link",url:"https://www.youtube.com/watch?v="+t}],t)).analyticsReference=t,n.overriddenAssetName=this.config.analyticsAssetNameOverride?this.config.analyticsAssetNameOverride:null,n.digitalData=this.playlistItem.digitalData,[2,n]}))}))},t.prototype.isYouTube=function(){return!0},t.prototype.getDuration=function(e){return e?e.getDuration():-1},t}(z),Ae=function(){function e(){}return e.createMediaEnricher=function(e,t,n){var r=null==n?void 0:n.mediaReference;if(!r)throw new Error("Cannot create MediaEnricher, mediaReference is null!");return this.isStandAloneMediaReference(r)?new X(e,t,n):this.isYouTubeMediaReference(r)?new Ee(e,t,n):new ve(e,t,n)},e.isVrtMediaReference=function(t){return!!t&&(!e.isStandAloneMediaReference(t)&&!e.isYouTubeMediaReference(t))},e.isStandAloneMediaReference=function(e){return!!e&&(e.search("://")>=0&&(e.search(".m3u8")>=0||e.search(".mpd")>=0||e.search(".mp3")>=0||e.search(".mp4")>=0))},e.isYouTubeMediaReference=function(e){return!!e&&(e.search("youtube.com/watch")>=0||e.search("youtube.com/embed")>=0||e.search("youtu.be/")>=0)},e.validatePlaylist=function(t){if(t)for(var n=0,r=0,i=0,a=t.items;i<a.length;i++){var o=a[i];if(e.isStandAloneMediaReference(o)||e.isVrtMediaReference(o)?r++:n++,n>0&&r>0)throw new Error("Invalid playlist: a playlist can only contain non YouTube items or only YouTube items!")}},e}(),Pe=function(){function e(e,t,n,r){this.publisher=t,this.pal=e,this.mediaEnricher=n,this.pebbleService=r}return e.prototype.destroy=function(){},e}(),Re=function(e){void 0===e&&(e=!0),this.productionMode=e,this.titleIsHidden=!1,this.playerErrorInStartup=!1,this.mediaInfo=null,this.adIntegration=null,this.canSkipAdOrPromotional=!1,this.nextUpDispatched=!1,this.canSeekDispatched=!1,this.playerDestroyed=!1},we=function(){function e(){}return e.canChromecast=function(){return(D.isChrome()||D.isAndroid())&&!D.isEdge()},e.canAirplay=function(){return D.isSafari()||D.isIOS()},e}(),Se=function(){function e(e,t){var n=this;this.publisher=e,this.config=t,this.userPreferencesUrl=D.getSiteUrlReducedToFirstPathItem(),e.addSubscriber(T.internalPlayerEvents.reset,this.reset.bind(this)),this.updatePreferencesHandler=function(e){n.userPreferences[e.content.type]=e.content.value,n.saveUserPreferences()},e.addSubscriber(T.internalPlayerEvents.updateUserPreferences,this.updatePreferencesHandler),this.userPreferences=this.loadUserPreferencesForSite(this.userPreferencesUrl),this.userPreferences||(this.userPreferences={site:this.userPreferencesUrl,volume:1}),this.userPreferences}return e.prototype.loadUserPreferencesForSite=function(e){return this.loadUserPreferences().find((function(t){if(t.site===e)return t}))},e.prototype.loadUserPreferences=function(){if(!D.isLocalStorageAvailable())return[];var e=localStorage.getItem("vrtPlayerUserPreferences");if(!e)return[];try{return JSON.parse(e)}catch(e){return[]}},e.prototype.bindToPlayer=function(){var e=this;this.volumeChangeHandler=function(t){e.config.startMutedOverride||e.updatePreferencesHandler({name:null,code:null,content:{type:H.VOLUME,value:t.content.volume}})},this.publisher.addSubscriber(T.publicPlayerEvents.volumechange,O.debounce(this.volumeChangeHandler,500))},e.prototype.saveUserPreferences=function(){var e=this,t=this.loadUserPreferences(),n=t.findIndex((function(t){if(t.site===e.userPreferencesUrl)return t}));n>-1?t[n]=this.userPreferences:t.push(this.userPreferences),this.userPreferences,localStorage.setItem("vrtPlayerUserPreferences",JSON.stringify(t))},e.prototype.reset=function(){this.publisher.removeSubscriber(T.publicPlayerEvents.volumechange,this.volumeChangeHandler)},e.prototype.destroy=function(){this.publisher.removeSubscriber(T.internalPlayerEvents.updateUserPreferences,this.updatePreferencesHandler),this.updatePreferencesHandler=null},e}();!function(e){e.VOLUME="volume",e.SUBTITLES="subtitlesOn",e.QUALITY="quality"}(H||(H={}));var Te=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},Oe=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},ke=function(){function e(e,t){this.eventHandlers=[],this.updateTickTime=100,this.config=e,this.playlist=t,this.state=new Re(e.productionMode)}return e.prototype.preparePlayerForPlayback=function(e,t,n){return Te(this,void 0,void 0,(function(){var r;return Oe(this,(function(i){switch(i.label){case 0:return e.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.error,this.onPlayerError.bind(this,e)),e.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.warning,this.onPlayerWarning.bind(this)),e.addRemovableEventListener(this.eventHandlers,T.internalPlayerEvents.reset,this.onPlayerResetRequested.bind(this)),e.addRemovableEventListener(this.eventHandlers,T.internalPlayerEvents.destroy,this.onPlayerDestroyRequested.bind(this)),this.ilc=new Pe(t,e,n,this.setupAds(e,t)),this.ilc.pal.setAutoplay(this.config.autoplay),r=this.state,[4,n.mediaInfo];case 1:return r.mediaInfo=i.sent(),n.prepareSources(this.state.mediaInfo),this.analyticsWrapper=this.setupAnalytics(e,t),this.mapApiCalls(e,t,n.sourceService),[4,this.prepareSourceForPlayback()];case 2:return i.sent(),[4,this.markPlayerReadyForPlayback()];case 3:return i.sent(),[2]}}))}))},e.prototype.restorePlayback=function(e,t,n,r,i){var a=this;e.addOneTimeSubscriber(T.publicPlayerEvents.play,(function(){i&&(a.config.startMutedOverride?a.ilc.pal.setVolume(0):D.isMobile()?a.ilc.pal.setVolume(1):a.ilc.pal.setVolume(i.volume))})),setTimeout((function(){return Te(a,void 0,void 0,(function(){var t=this;return Oe(this,(function(i){switch(i.label){case 0:return this.state.mediaInfo.isLiveStream()&&(r=this.config.isLiveStartOver&&!0===this.config.isLiveStartOver?0:1/0),null!=r&&r>0&&e.addOneTimeSubscriber(T.publicPlayerEvents.timeupdate,(function(){t.ilc.pal.seek(r)})),n?[4,O.wait(150)]:[3,2];case 1:i.sent(),this.ilc.pal.play(),i.label=2;case 2:return[2]}}))}))}))},e.prototype.markPlayerReadyForPlayback=function(){return Te(this,void 0,void 0,(function(){return Oe(this,(function(e){return this.markPlayerReadyForPlaybackSpecific(),this.state.updateInterval=setInterval(this.updateTick.bind(this,this.ilc),this.updateTickTime),[2]}))}))},e.prototype.updateTick=function(){var e=this.ilc.pal.getDuration(),t=this.ilc.pal.playHeadPosition();if(this.playlist.hasNext()&&e>0&&Math.round(e-t)<=this.config.nextUpDelay&&!this.state.nextUpDispatched){if(!this.ilc.pal.isAdPlaying()){this.state.nextUpDispatched=!0;var n=15;this.state.mediaInfo.isLiveStream()||(n=this.ilc.pal.getDuration()-this.ilc.pal.playHeadPosition()),this.ilc.publisher.publish(T.internalPlayerEvents.nextupAnnounced,{remainingDuration:n})}}else this.state.nextUpDispatched&&(!this.playlist.hasNext()||Math.round(e-t)>this.config.nextUpDelay)&&(this.state.nextUpDispatched=!1,this.ilc.publisher.publish(T.publicPlayerEvents.nextupremoved));this.updateTickSpecific()},e.prototype.onPlayerError=function(e,t){return Te(this,void 0,void 0,(function(){return Oe(this,(function(n){return console.error(t),this.onPlayerErrorSpecific(e,t),t.code!==d.AGGREGATOR_ERROR_NOT_AUTHENTICATED&&t.code!==d.PLAYER_NETWORK_API_GENERAL&&b.errorToSentry("Player error",t),[2]}))}))},e.prototype.onPlayerWarning=function(e){console.warn("name: "+e.name+", code: "+e.code+", message: "+e.message),e.content&&(console.warn(e.content),b.errorToSentry("Player warning",e))},e.prototype.onPlayerResetRequested=function(e){var t=this;clearInterval(this.state.updateInterval),this.eventHandlers.forEach((function(e){t.ilc.publisher.removeSubscriber(e.event,e.handler)})),this.eventHandlers=[],this.onPlayerResetRequestedSpecific(),this.analyticsWrapper&&(this.analyticsWrapper.adobeAnalytics.destroy(),this.analyticsWrapper.adobeAnalytics=null,this.analyticsWrapper.cim.destroy(),this.analyticsWrapper.cim=null),setTimeout((function(){t.ilc.destroy(),t.ilc=null}),this.updateTickTime)},e.prototype.onPlayerDestroyRequested=function(e){clearInterval(this.state.updateInterval),this.ilc.pal.releasePlayerResources()},e.prototype.mapApiCalls=function(e,t,n){var r=this;e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.destroyApiCall,(function(){r.state.playerDestroyed||(t.onPlayerDestroyRequested(),r.state.playerDestroyed=!0)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.muteApiCallSet,(function(n){n.content?(r.state.previousVolumeLevel=t.getVolume(),t.setVolume(0)):t.setVolume(r.state.previousVolumeLevel),e.publish(T.internalPlayerEvents.updateUserPreferences,{type:H.VOLUME,value:t.getVolume()})})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.muteApiCallGet,(function(){e.publish(T.apiCallEvents.muteApiCallGetReturn,0===t.getVolume())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.volumeApiCallSet,(function(n){t.setVolume(n.content),e.publish(T.internalPlayerEvents.updateUserPreferences,{type:H.VOLUME,value:t.getVolume()})})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.volumeApiCallGet,(function(){e.publish(T.apiCallEvents.volumeApiCallGetReturn,t.getVolume())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.durationApiCallGet,(function(){e.publish(T.apiCallEvents.durationApiCallGetReturn,t.getDuration())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.currentTimeApiCallSet,(function(e){t.seek(e.content)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.currentTimeApiCallGet,(function(){e.publish(T.apiCallEvents.currentTimeApiCallGetReturn,t.playHeadPosition())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.currentDateTimeApiCallGet,(function(){e.publish(T.apiCallEvents.currentDateTimeApiCallGetReturn,t.playHeadDateTimePosition())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.pausedApiCallGet,(function(){e.publish(T.apiCallEvents.pausedApiCallGetReturn,t.isPaused())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.loopApiCallSet,(function(e){t.setLoop(e.content)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.loopApiCallGet,(function(){e.publish(T.apiCallEvents.loopApiCallGetReturn,t.isLooping())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.currentSrcApiCallGet,(function(){e.publish(T.apiCallEvents.currentSrcApiCallGetReturn,r.state.mediaInfo.currentSource.getSource().src)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.currentMediaReferenceApiCallGet,(function(){e.publish(T.apiCallEvents.currentMediaReferenceApiCallGetReturn,r.state.mediaInfo.mediaReference)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.srcApiCallSet,(function(t){Array.isArray(t.content)||t.content.constructor===String?e.publish(T.internalPlayerEvents.mediaReferenceChanged,{newMediaReferences:t.content,newDigitalDatas:null}):e.publish(T.internalPlayerEvents.mediaReferenceChanged,{newMediaReferences:t.content.newSources,newDigitalDatas:t.content.newDigitalDatas})})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.srcApiCallGet,(function(){e.publish(T.apiCallEvents.srcApiCallGetReturn,r.state.mediaInfo.currentSource.getSource().src)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.seekableApiCallGet,(function(){e.publish(T.apiCallEvents.seekableApiCallGetReturn,t.getSeekableRanges())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.hasPlayedApiCallGet,(function(){e.publish(T.apiCallEvents.hasPlayedApiCallGetReturn,t.hasPlayed())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.controlsApiCallSet,(function(e){e.content?t.enableInterface():t.disableInterface()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.controlsApiCallGet,(function(){e.publish(T.apiCallEvents.controlsApiCallGetReturn,t.isInterfaceEnabled())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.playlistSizeApiCallGet,(function(){e.publish(T.apiCallEvents.playlistSizeApiCallGetReturn,r.playlist.length())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.currentPlaylistItemApiCallGet,(function(){e.publish(T.apiCallEvents.currentPlaylistItemApiCallGetReturn,r.playlist.current())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.activeSubtitlesApiCallGet,(function(){e.publish(T.apiCallEvents.activeSubtitlesApiCallGetReturn,t.getActiveSubs())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.availableQualitiesApiCallGet,(function(){e.publish(T.apiCallEvents.availableQualitiesApiCallGetReturn,t.getAvailableQualities())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.autoplayApiCallGet,(function(){e.publish(T.apiCallEvents.autoplayApiCallGetReturn,t.getAutoplay())})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.autoplayApiCallSet,(function(e){t.setAutoplay(e.content)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.playApiCall,(function(){t.play()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.pauseApiCall,(function(){t.isPaused()||t.pause()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.togglePlayApiCall,(function(){t.isPaused()?t.play():t.pause()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.skipAdApiCall,(function(){r.state.canSkipAdOrPromotional&&(t.isAdPlaying()?t.skipAd():r.state.canSkipAdOrPromotional&&r.state.mediaInfo.remainingPlaylistItemDuration>=0&&t.skipPromotional(r.state.mediaInfo.remainingPlaylistItemDuration))})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.toggleCastApiCall,(function(){t.isCasting()?we.canChromecast()?t.stopCast():we.canAirplay()&&t.stopAirplay():we.canChromecast()?t.startCast():we.canAirplay()&&t.startAirplay()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.toggleMuteApiCall,(function(){if(0===t.getVolume()){var e=r.state.previousVolumeLevel;t.setVolume(e||1)}else{e=t.getVolume();r.state.previousVolumeLevel=isNaN(e)?1:e,t.setVolume(0)}})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.rewindSecondsApiCall,(function(e){if(r.state.canSeekDispatched){var n=r.state.mediaInfo.getRealSeekTime(0),i=t.playHeadPosition()-e.content;i=i<n?n:i,t.seek(i)}})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.fastSeekApiCall,(function(e){r.state.canSeekDispatched&&t.seek(r.state.mediaInfo.getRealSeekTime(e.content))})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.liveStartOverApiCall,(function(){e.publish(T.publicPlayerEvents.startover)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.toggleSubtitlesApiCall,(function(){t.toggleSubs()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.toggleFullscreenApiCall,(function(){t.toggleFullscreen()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.disableInterfaceApiCall,(function(){t.disableInterface()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.enableInterfaceApiCall,(function(){t.enableInterface()})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.throwErrorApiCall,(function(t){e.errorHandler.handleError(d.GENERIC_ERROR,t.content.message,t.content.content)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.showTitleApiCall,(function(e){r.state.titleIsHidden=!e.content})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.nextApiCall,(function(){e.publish(T.publicPlayerEvents.nextsourcerequested)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.previousApiCall,(function(){e.publish(T.publicPlayerEvents.previoussourcerequested)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.gotoApiCall,(function(t){e.publish(T.internalPlayerEvents.playlistSourceRequested,{index:isNaN(t.content)?null:t.content,mediaReference:isNaN(t.content)?t.content:null})})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.addToPlaylistApiCall,(function(e){r.playlist.append(e.content.mediaReference,e.content.digitalData)})),e.addRemovableEventListener(this.eventHandlers,T.apiCallEvents.setQualityApiCall,(function(e){t.setQuality(e.content)}))},e}(),Ce=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie=function(e){function t(t,n){return e.call(this,t,n)||this}return Ce(t,e),t.prototype.setupAds=function(e,t){return null},t.prototype.setupAnalytics=function(e,t){return{adobeAnalytics:new I(this.config.playerMode,t,this.state.mediaInfo,e),cim:new G(this.config.playerMode,this.config.containerElement,t,this.state.mediaInfo,e,this.config.cimId)}},t.prototype.prepareSourceForPlayback=function(){this.ilc.pal.setSource(this.state.mediaInfo)},t.prototype.markPlayerReadyForPlaybackSpecific=function(){this.ilc.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.startover,this.onStartOver.bind(this))},t.prototype.updateTickSpecific=function(){},t.prototype.onPlayerErrorSpecific=function(e,t){},t.prototype.onPlayerResetRequestedSpecific=function(){},t.prototype.onStartOver=function(e){this.ilc.pal.seek(0)},t}(ke),_e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(e){function t(t,n){var r=e.call(this,t)||this;return r.sampleRate=n,r}return _e(t,e),t}(y),Ne=function(){function e(){}return e.stringToSeconds=function(e){if(e&&e.length>0){var t=e.split(":");t.reverse();var n=parseInt(t[0],10);return t.length>1&&(n+=60*parseInt(t[1],10)),t.length>2&&(n+=3600*parseInt(t[2],10)),n}return NaN},e}(),De=function(){function e(){}return e.registerTooltip=function(e,t){void 0===t&&(t=document.body);var n=window;D.isMobileOrTablet()||n.tippy&&n.tippy(e,{content:e.getAttribute("aria-label"),interactive:!0,duration:[500,0],animation:"fade",arrow:!0,appendTo:t.children[0],flipOnUpdate:!0,popperOptions:{strategy:"fixed",modifiers:[{name:"preventOverflow",options:{altAxis:!1,tether:!1}}]},onShow:function(){D.isIOS()&&e.click()}})},e.registerTooltips=function(e,t){void 0===t&&(t=document.body);for(var n=0,r=e;n<r.length;n++){var i=r[n];i&&this.registerTooltip(i,t)}},e.updateAriaAndTooltip=function(e,t){e&&e._tippy&&(e.setAttribute("aria-label",t),e._tippy.setContent(t))},e.enableTooltipHideOnESCPress=function(e){var t=this;e&&(e.onkeydown=function(e){"Escape"===e.key&&t.hideAllTooltips()})},e.adjustAllSvgElementsForAccessibility=function(e){for(var t=0,n=Array.from(e.getElementsByTagName("svg"));t<n.length;t++){var r=n[t];r.setAttribute("role","presentation"),r.setAttribute("focusable","false")}},e.enableTimeEntryOnFocus=function(e,t,n){void 0===n&&(n="Enter"),e.onfocus=function(r){var i="";e.onkeypress=function(r){r.key===n?(e.onblur=null,e.onkeydown=null,t(Ne.stringToSeconds(i)),i=""):r.key.search(/([0-9]|:)+/g)>=0&&(i+=r.key)}},e.onblur=function(t){e.onkeydown=null}},e.hideAllTooltips=function(){window.tippy.hideAll()},e}(),xe=function(){function e(){}return e.setVisible=function(t,n,r){void 0===r&&(r="visibility");var i=e.getStyleValues(r);t&&(n?t.style.setProperty(i.property,i.visibleStyle,"important"):t.style.setProperty(i.property,i.invisibleStyle,"important"))},e.toggleVisible=function(t,n){void 0===n&&(n="visibility");var r=e.getStyleValues(n);t&&(t.style.getPropertyValue(r.property)===r.visibleStyle?t.style.setProperty(r.property,r.invisibleStyle,"important"):t.style.setProperty(r.property,r.visibleStyle,"important"))},e.isVisible=function(t,n){void 0===n&&(n="visibility");var r=e.getStyleValues(n);return!!t&&t.style.getPropertyValue(r.property)===r.visibleStyle},e.insertBefore=function(e,t){return e&&t?(t.parentElement.insertBefore(e,t),e):null},e.setOrderOnElements=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];a&&(a.style.order=""+e++)}},e.setTabIndexOnElements=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var i=r[n];i&&(i.tabIndex=0)}},e.getStyleValues=function(e){var t,n,r;switch(e){case"visibility":t="visibility",n="visible",r="hidden";break;case"display-block":t="display",n="block",r="none";break;case"display-inline":t="display",n="inline-block",r="none"}return{property:t,visibleStyle:n,invisibleStyle:r}},e.swapButtonImages=function(e,t){if(e&&2===e.children.length){var n=e.children.item(0),r=e.children.item(1);t?(n.style.display="block",r.style.display="none"):(n.style.display="none",r.style.display="block")}},e}(),Ge=function(){function e(e){this.playerElement=e,this.skinElements=[]}return e.prototype.addElementToCheck=function(e,t){this.skinElements.push({name:e,selector:t,element:this.playerElement.querySelector(t)})},e.prototype.allElementsExist=function(){for(var e=!0,t=0,n=this.skinElements;t<n.length;t++){var r=n[t];r.element||(r.name,r.selector,e=!1)}return e},e}(),Me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(e){function t(t){return e.call(this,t)||this}return Me(t,e),t.prototype.validate=function(){return this.addElementToCheck("Override Styles","#override-styles-controls"),this.addElementToCheck("Ad-title",".player-controls-container .player-controls-ad-title"),this.addElementToCheck("Ad-duration",".player-controls-container .player-controls-ad-duration"),this.addElementToCheck("Live-clock",".player-controls-container .player-controls-live-clock"),this.addElementToCheck("Ad-timer",".player-controls-container .player-controls-ad-timer"),this.addElementToCheck("Rewind",".player-controls-container .player-controls-goback"),this.addElementToCheck("Startover",".player-controls-container .player-controls-startover"),this.addElementToCheck("Play-pause",".player-controls-container .player-controls-play-pause"),this.addElementToCheck("Mute-unmute",".player-controls-container .player-controls-mute"),this.addElementToCheck("Subtitles",".player-controls-container .player-controls-subtitles"),this.allElementsExist()},t}(Ge),He=function(){function e(e,t,n){this.playerElement=e,this.playerColor=t,this.player=n,this.fadeinClass="player-general-fadein",this.fadeoutClass="player-general-fadeout"}return e.prototype.uiShouldShow=function(){return!!this.player.paused||this.playerElement.classList.contains("vjs-user-active")},e.prototype.swapActiveStates=function(e,t){t?(e.classList.remove(this.fadeoutClass),e.classList.add(this.fadeinClass)):(e.classList.remove(this.fadeinClass),e.classList.add(this.fadeoutClass))},e}(),Ue=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fe=function(e){function t(t,n,r){var i=e.call(this,t,r.color,n)||this;return i.uiConfig=r,i.controlBar=t.querySelector(".theo-secondary-color.vjs-control-bar"),i.playPause=t.querySelector(".vjs-play-control.vjs-control.vjs-button"),i.adTitle=t.querySelector(".player-controls-container .player-controls-ad-title"),i.adDuration=t.querySelector(".player-controls-container .player-controls-ad-duration"),i.liveClock=t.querySelector(".player-controls-container .player-controls-live-clock"),i.countdown=t.querySelector(".player-controls-container .player-controls-ad-timer"),i.rewind10=t.querySelector(".player-controls-container .player-controls-goback"),i.forward10=t.querySelector(".player-controls-container .player-controls-forward"),i.mute=t.querySelector(".vjs-mute-control.vjs-control.vjs-button"),i.volume=t.querySelector(".vjs-volume-control.vjs-control"),i.volumeSeeker=t.querySelector(".vjs-volume-bar.vjs-slider-bar.vjs-slider.vjs-slider-horizontal"),i.currentTime=t.querySelector(".vjs-current-time.vjs-time-control.vjs-control"),i.dividerTime=t.querySelector(".vjs-time-control.vjs-time-divider"),i.totalTime=t.querySelector(".vjs-duration.vjs-time-control.vjs-control"),i.seeker=t.querySelector(".vjs-progress-holder.vjs-slider.vjs-slider-horizontal"),i.settings=t.querySelector(".vjs-icon-cog.theo-settings-control-button.theo-controlbar-button.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button"),i.qualityContainer=t.querySelector(".player-controls-container .player-controls-quality-selector"),i.qualityList=t.querySelector(".player-controls-container .player-controls-quality-list"),i.qualityListItems=[],i.startover=t.querySelector(".player-controls-container .player-controls-startover"),i.subtitles=t.querySelector(".vjs-icon-subtitles.theo-text-track-control-button.theo-controlbar-button.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button"),i.fullscreen=t.querySelector(".vjs-fullscreen-control.vjs-control.vjs-button"),i.validator=new Ve(t),i}return Ue(t,e),t.waitForTheoPlayerReady=function(e){return new Promise((function(t,n){var r=setInterval((function(){e.getElementsByClassName("theo-secondary-color vjs-control-bar").length>0&&(clearInterval(r),t())}),33)}))},t.prototype.validate=function(){return this.validator.validate()},t.prototype.enable=function(){this.modifyControls(),this.uiConfig.disableFfAndRwControls&&(xe.setVisible(this.rewind10,!1,"display-inline"),xe.setVisible(this.forward10,!1,"display-inline")),this.uiConfig.disableVolumeControls&&(xe.setVisible(this.volume,!1,"visibility"),xe.setVisible(this.mute,!1,"visibility")),this.uiConfig.disableFullScreenControl&&xe.setVisible(this.fullscreen,!1,"visibility")},t.prototype.modifyControls=function(){var e=this;this.playerElement.querySelector(".theoplayer-texttracks").setAttribute("aria-live","off"),this.playPause=xe.insertBefore(this.playerElement.querySelector(".player-controls-container .player-controls-play-pause"),this.playPause),xe.insertBefore(this.rewind10,this.currentTime),xe.insertBefore(this.forward10,this.currentTime),xe.setVisible(this.countdown,!1,"display-block"),xe.insertBefore(this.countdown,this.rewind10),xe.insertBefore(this.liveClock,this.currentTime),this.mute=xe.insertBefore(this.playerElement.querySelector(".player-controls-container .player-controls-mute"),this.mute),xe.insertBefore(this.startover,this.subtitles),this.subtitles=xe.insertBefore(this.playerElement.querySelector(".player-controls-container .player-controls-subtitles"),this.subtitles),xe.swapButtonImages(this.subtitles,!0),this.constructCustomFullscreenButton(),this.settings=xe.insertBefore(this.playerElement.querySelector(".player-controls-container .player-controls-quality"),this.settings),xe.insertBefore(this.qualityContainer,this.settings),this.settings.onclick=function(){xe.setVisible(e.qualityContainer,!xe.isVisible(e.qualityContainer,"display-block"),"display-block")},xe.setOrderOnElements(-100,this.playPause,this.countdown,this.rewind10,this.forward10,this.liveClock,this.currentTime,this.dividerTime,this.totalTime,this.mute,this.volume),xe.setTabIndexOnElements(this.playerElement,this.seeker,this.playPause,this.rewind10,this.forward10,this.mute,this.volumeSeeker,this.startover,this.subtitles,this.fullscreen,this.settings);var t=this.playerElement.querySelector(".player-controls-container"),n=t.querySelector("#override-styles-controls");this.playerElement.appendChild(n),t.remove(),this.playerElement.classList.add(this.playerColor.styleName),this.playerElement.setAttribute("aria-label","VRT Video player"),this.seeker.setAttribute("aria-label",c.getValue("tooltip-seek-bar",this.uiConfig.uiLanguage)),this.volumeSeeker.setAttribute("aria-label",c.getValue("tooltip-adjust-volume",this.uiConfig.uiLanguage)),c.translateAllElements(this.playerElement,this.uiConfig.uiLanguage),De.registerTooltips([this.playPause,this.rewind10,this.forward10,this.mute,this.volumeSeeker,this.startover,this.subtitles,this.fullscreen,this.settings],this.playerElement),De.enableTooltipHideOnESCPress(document.body)},t.prototype.subscribeForInternalPlayerEvents=function(e){var t=this;e.addSubscriber(T.internalPlayerEvents.updateTitle,(function(e){t.updateGeneralState(e.content.newTitle)})),e.addSubscriber(T.internalPlayerEvents.updateTick,(function(e){t.checkActive(),t.updateStartOverSupport(e.content.enableStartOver)})),e.addSubscriber(T.internalPlayerEvents.adIsPlayingTick,(function(e){t.activatePromotionalPlayingState(e.content.promotionalTitle),t.updatePromotionalState(e.content.remainingDuration)})),e.addSubscriber(T.internalPlayerEvents.promotionalIsPlayingTick,(function(e){t.activatePromotionalPlayingState(e.content.promotionalTitle),t.updatePromotionalState(e.content.remainingDuration)})),e.addSubscriber(T.internalPlayerEvents.onboardingIsPlayingTick,(function(e){t.activatePromotionalPlayingState("",!0),t.updatePromotionalState(e.content.remainingDuration)})),e.addSubscriber(T.internalPlayerEvents.trailerIsPlayingTick,(function(e){e.content.hasPlayed&&(t.activatePromotionalPlayingState(e.content.promotionalTitle),t.updatePromotionalState(e.content.remainingDuration))})),e.addSubscriber(T.internalPlayerEvents.normalContentIsPlayingTick,(function(e){t.activateNonPromotionalPlayingState(e.content.isLive),t.updateSubtitlesAvailable(),!e.content.isPaused&&e.content.isLive&&t.updateLiveClock(e.content.playHeadPosition)})),e.addSubscriber(T.internalPlayerEvents.play,(function(e){t.updateSubtitlesAvailable(),t.activatePlayState(e.content.currentVolume)})),e.addSubscriber(T.publicPlayerEvents.pause,(function(e){t.activatePausedState()})),e.addSubscriber(T.publicPlayerEvents.volumechange,(function(e){t.onVolumeChange(e.content.volume)})),e.addSubscriber(T.publicPlayerEvents.fullscreenenter,(function(e){t.updateFullscreenIndicator()})),e.addSubscriber(T.publicPlayerEvents.fullscreenexit,(function(e){t.updateFullscreenIndicator()}))},t.prototype.checkActive=function(){this.uiShouldShow()||(De.hideAllTooltips(),xe.isVisible(this.qualityContainer,"display-block")&&xe.setVisible(this.qualityContainer,!1,"display-block"))},t.prototype.enabledTimeEntryOnSeeker=function(e){De.enableTimeEntryOnFocus(this.seeker,e)},t.prototype.activatePlayState=function(e){xe.swapButtonImages(this.playPause,!1),xe.swapButtonImages(this.mute,0!==e),De.updateAriaAndTooltip(this.playPause,c.getValue("tooltip-pause",this.uiConfig.uiLanguage))},t.prototype.activatePausedState=function(){xe.swapButtonImages(this.playPause,!0),De.updateAriaAndTooltip(this.playPause,c.getValue("tooltip-play",this.uiConfig.uiLanguage))},t.prototype.onVolumeChange=function(e){0===e?(xe.swapButtonImages(this.mute,!1),De.updateAriaAndTooltip(this.mute,c.getValue("tooltip-unmute",this.uiConfig.uiLanguage))):(xe.swapButtonImages(this.mute,!0),De.updateAriaAndTooltip(this.mute,c.getValue("tooltip-mute",this.uiConfig.uiLanguage)))},t.prototype.activatePromotionalPlayingState=function(e,t){void 0===t&&(t=!1),this.adTitle.textContent=e,xe.setVisible(this.seeker,!1),xe.setVisible(this.rewind10,!1,"display-inline"),xe.setVisible(this.forward10,!1,"display-inline"),xe.setVisible(this.liveClock,!1,"display-block"),xe.setVisible(this.currentTime,!1,"display-block"),xe.setVisible(this.dividerTime,!1,"display-block"),xe.setVisible(this.totalTime,!1,"display-block"),xe.setVisible(this.startover,!1,"display-block"),xe.setVisible(this.subtitles,!1,"display-block"),t?xe.setVisible(this.controlBar,!1):xe.setVisible(this.controlBar,!0)},t.prototype.updatePromotionalState=function(e){var t;xe.setVisible(this.countdown,!0,"display-block"),isNaN(e)?t="--":(t=e+" ",e<10&&e>0&&(t="0"+e)),this.adDuration.textContent=t},t.prototype.activateNonPromotionalPlayingState=function(e){xe.setVisible(this.controlBar,!0),xe.setVisible(this.seeker,!0),xe.setVisible(this.countdown,!1,"display-block"),e?this.activateLiveStreamState():this.activateVODState()},t.prototype.activateLiveStreamState=function(){this.currentTime.style.position="absolute",this.currentTime.style.left="-999em",this.dividerTime.style.position="absolute",this.dividerTime.style.left="-999em",this.totalTime.style.position="absolute",this.totalTime.style.left="-999em",xe.setVisible(this.rewind10,!1,"display-inline"),xe.setVisible(this.forward10,!1,"display-inline"),xe.setVisible(this.currentTime,!1,"display-block"),xe.setVisible(this.dividerTime,!1,"display-block"),xe.setVisible(this.totalTime,!1,"display-block"),xe.setVisible(this.liveClock,!0,"display-block")},t.prototype.activateVODState=function(){this.currentTime.style.position="unset",this.currentTime.style.left="unset",this.dividerTime.style.position="unset",this.dividerTime.style.left="unset",this.totalTime.style.position="unset",this.totalTime.style.left="unset",xe.setVisible(this.rewind10,!this.uiConfig.disableFfAndRwControls,"display-inline"),xe.setVisible(this.forward10,!this.uiConfig.disableFfAndRwControls,"display-inline"),xe.setVisible(this.currentTime,!0,"display-block"),xe.setVisible(this.dividerTime,!0,"display-block"),xe.setVisible(this.totalTime,!0,"display-block"),xe.setVisible(this.liveClock,!1,"display-block"),xe.setVisible(this.startover,!1,"display-block")},t.prototype.updateLiveClock=function(e){if(e){var t=e.toTimeString().slice(0,8);t&&"Invalid"===t.trim()&&(t="00:00:00"),this.liveClock.textContent=t}},t.prototype.playHeadAtLivePoint=function(){return"rgb(255, 0, 0)"===getComputedStyle(this.playerElement.querySelector(".theo-live-control-indicator"),"::before").color},t.prototype.updateSubtitlesAvailable=function(){for(var e=0,t=this.player.textTracks;e<t.length;e++){var n=t[e];if("subtitles"===n.kind||"captions"===n.kind)return void xe.setVisible(this.subtitles,!0,"display-block")}xe.setVisible(this.subtitles,!1,"display-block")},t.prototype.toggleSubtitles=function(e){e?(this.playerElement.querySelector(".theoplayer-texttracks").setAttribute("aria-live","assertive"),De.updateAriaAndTooltip(this.subtitles,c.getValue("tooltip-disable-subtitles",this.uiConfig.uiLanguage)),xe.swapButtonImages(this.subtitles,!1)):(this.playerElement.querySelector(".theoplayer-texttracks").setAttribute("aria-live","off"),De.updateAriaAndTooltip(this.subtitles,c.getValue("tooltip-enable-subtitles",this.uiConfig.uiLanguage)),xe.swapButtonImages(this.subtitles,!0))},t.prototype.togglePresentationMode=function(){var e=this.player.presentation;"inline"===e.currentMode||"picture-in-picture"===e.currentMode?e.requestMode("fullscreen"):e.requestMode("inline")},t.prototype.updateFullscreenIndicator=function(){var e=this.player.presentation;"inline"===e.currentMode||"picture-in-picture"===e.currentMode?(xe.swapButtonImages(this.fullscreen,!0),De.updateAriaAndTooltip(this.fullscreen,c.getValue("tooltip-fullscreen",this.uiConfig.uiLanguage))):(xe.swapButtonImages(this.fullscreen,!1),De.updateAriaAndTooltip(this.fullscreen,c.getValue("tooltip-fullscreen-exit",this.uiConfig.uiLanguage)))},t.prototype.updateStartOverSupport=function(e){xe.setVisible(this.startover,e,"display-block")},t.prototype.updateGeneralState=function(e){this.playerElement.setAttribute("aria-label",c.getValue("vrt-video-info",this.uiConfig.uiLanguage)+" "+e)},t.prototype.isInterfaceEnabled=function(){for(var e=!1,t=0,n=this.playerElement.querySelectorAll(".theo-secondary-color.vjs-control-bar");t<n.length;t++){"none"!==n[t].style.display&&(e=!0)}return e},t.prototype.disableInterface=function(){for(var e=0,t=this.playerElement.querySelectorAll(".theo-secondary-color.vjs-control-bar");e<t.length;e++){t[e].style.display="none"}},t.prototype.enableInterface=function(){for(var e=0,t=this.playerElement.querySelectorAll(".theo-secondary-color.vjs-control-bar");e<t.length;e++){t[e].style.display="flex"}},t.prototype.updateQualityListItems=function(e,t,n,r){var i=this;t.length>0&&(xe.isVisible(this.settings)||xe.setVisible(this.settings,!0,"display-block"),this.qualityList.innerHTML="",this.qualityListItems.forEach((function(e){e.onclick=null})),this.qualityListItems=[],t.reverse(),t.push(null),t.forEach((function(t){var a=i.createQualityItem(e,t,n,r);i.qualityListItems.push(a),i.qualityList.appendChild(a)})))},t.prototype.createQualityItem=function(e,t,n,r){var i=this,a=document.createElement("li");a.classList.add("player-controls-quality-list-item"),(!r&&n&&t&&t.bandwidth===n.bandwidth||r&&null===t)&&a.classList.add("player-controls-quality-list-item-active");var o=t&&t.height?t.height+"p":"auto",l=(t&&t.bandwidth?t.bandwidth/8*3600/1024/1024/1024:n.bandwidth/8*3600/1024/1024/1024).toFixed(2)+" "+c.getValue("gibibits-per-hour",this.uiConfig.uiLanguage);return a.innerHTML='<p class="player-controls-quality-list-item-text-title">'+o+'</p><p class="player-controls-quality-list-item-text">'+l+"</p>",a.onclick=function(){i.qualityListItems.filter((function(e){return e!==a})).forEach((function(e){e.classList.remove("player-controls-quality-list-item-active")})),a.classList.add("player-controls-quality-list-item-active"),e.publish(T.apiCallEvents.setQualityApiCall,t)},a},t.prototype.constructCustomFullscreenButton=function(){for(this.originalFullscreenButton=this.fullscreen;this.originalFullscreenButton.firstChild;)this.originalFullscreenButton.removeChild(this.originalFullscreenButton.firstChild);for(this.fullscreen=this.playerElement.querySelector(".player-controls-container .player-controls-fullscreen");this.fullscreen.childNodes.length>0;)this.originalFullscreenButton.appendChild(this.fullscreen.childNodes[0]);this.originalFullscreenButton.className="",this.originalFullscreenButton.className=this.fullscreen.className,this.originalFullscreenButton.setAttribute("aria-label",this.fullscreen.getAttribute("aria-label")),this.originalFullscreenButton.setAttribute("aria-translation-key",this.fullscreen.getAttribute("aria-translation-key")),this.fullscreen.parentElement.removeChild(this.fullscreen),this.fullscreen=this.originalFullscreenButton,this.originalFullscreenButton=null,xe.swapButtonImages(this.fullscreen,!0)},t}(He),je=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(e){function t(t){return e.call(this,t)||this}return je(t,e),t.prototype.validate=function(){return this.addElementToCheck("Override Styles","#override-styles-overlay"),this.addElementToCheck("Title",".player-overlay-title"),this.addElementToCheck("Play",".player-overlay-btn-play"),this.addElementToCheck("Pulse",".player-overlay-pulse"),this.addElementToCheck("Pulse-play",".player-overlay-pulse-play"),this.addElementToCheck("Pulse-pause",".player-overlay-pulse-pause"),this.addElementToCheck("Cast",".player-overlay-cast"),this.addElementToCheck("Airplay",".player-overlay-airplay"),this.addElementToCheck("Skip",".player-overlay-skip"),this.addElementToCheck("Up-Next",".player-up-next-container"),this.addElementToCheck("Error",".player-overlay-error-overlay"),this.addElementToCheck("Error-title",".player-overlay-error-title"),this.addElementToCheck("Error-body",".player-overlay-error-body"),this.allElementsExist()},t}(Ge),Be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(e){function t(t,n,r,i){var a=e.call(this,t,r.color,n)||this;return a.upNextAnimationState={isPaused:!1},a.uiConfig=r,a.overlay=t.querySelector(".player-overlay"),a.title=t.querySelector(".player-overlay-title"),a.play=t.querySelector(".player-overlay-btn-play"),a.pulse=t.querySelector(".player-overlay-pulse"),a.playPulseLogo=t.querySelector(".player-overlay-pulse-play"),a.pausePulseLogo=t.querySelector(".player-overlay-pulse-pause"),a.cast=t.querySelector(".player-overlay-cast"),a.airplay=t.querySelector(".player-overlay-airplay"),a.castOnText=t.querySelector(".theo-chromecast-status-info"),a.skip=t.querySelector(".player-overlay-skip"),a.mobilePlayPauseToggle=t.querySelector(".player-overlay-btn-mobile-play-toggle"),a.upNextBanner=t.querySelector(".player-up-next-button"),a.upNextBannerAnimation=t.querySelector(".player-up-next-btn-next"),a.upNextCard=t.querySelector(".player-up-next-card"),a.upNextCardAnimation=t.querySelector(".player-up-next-card-btn-bg"),a.errorOverlay=t.querySelector(".player-overlay-error-overlay"),a.errorTitle=t.querySelector(".player-overlay-error-title"),a.errorMessage=t.querySelector(".player-overlay-error-body"),a.validator=new qe(t),a.upNextDelay=i,a.upNextOverlayOverride=!1,a.upNextTypeIsCard=!1,a.hasPlayed=!1,a}return Be(t,e),t.prototype.validate=function(){return this.validator.validate()},t.prototype.enable=function(){this.modifyControls()},t.prototype.modifyControls=function(){var e=this;xe.setVisible(this.pausePulseLogo,!1,"display-block"),xe.setVisible(this.playPulseLogo,!1,"display-block"),xe.setVisible(this.errorOverlay,!1,"display-block"),xe.setVisible(this.upNextBanner,!1,"display-block"),xe.setVisible(this.upNextCard,!1,"display-inline"),xe.setVisible(this.mobilePlayPauseToggle,!1,"display-block");var t=this.play.children.item(0);t&&t.querySelector("path")&&"important"!==t.querySelector("path").style.getPropertyPriority("fill")&&(this.play.children.item(0).querySelector("path").style.fill=this.playerColor.value),D.isSafari()||D.isIOS()?(xe.setTabIndexOnElements(this.airplay),this.airplay.setAttribute("aria-label",c.getValue("tooltip-not-airplaying",this.uiConfig.uiLanguage)),De.registerTooltip(this.airplay,this.playerElement),this.castOnText.textContent=c.getValue("tooltip-being-casted",this.uiConfig.uiLanguage)):D.isChrome()&&(xe.setTabIndexOnElements(this.cast),this.cast.setAttribute("aria-label",c.getValue("tooltip-not-casting",this.uiConfig.uiLanguage)),De.registerTooltip(this.cast,this.playerElement),this.castOnText.textContent=c.getValue("tooltip-being-casted",this.uiConfig.uiLanguage));window.addEventListener("resize",(function(){var t=e.playerElement.querySelector("#player-up-next-poster-image");if(t){var n=e.playerElement.offsetWidth;n<=770?(t.style.width="200px",t.style.height="150px"):n>770?(t.style.width="375px",t.style.height="250px"):(t.style.width="200px",t.style.height="150px")}}))},t.prototype.subscribeForInternalPlayerEvents=function(e){var t=this;e.addSubscriber(T.internalPlayerEvents.ready,(function(){t.activateReadyState()})),e.addSubscriber(T.internalPlayerEvents.updateTitle,(function(e){t.showTitle(!e.content.isHidden,e.content.newTitle)})),e.addSubscriber(T.internalPlayerEvents.updateTick,(function(e){t.checkActive()})),e.addSubscriber(T.internalPlayerEvents.showError,(function(e){t.showError(e.content.name,e.content.message)})),e.addSubscriber(T.internalPlayerEvents.adIsPlayingTick,(function(e){t.deactivateCastOption(),t.updateSkipState(e.content.canSkip,e.content.adIntegration)})),e.addSubscriber(T.internalPlayerEvents.promotionalIsPlayingTick,(function(e){t.activateCastOption(),t.updateSkipState(e.content.canSkip)})),e.addSubscriber(T.internalPlayerEvents.trailerIsPlayingTick,(function(e){t.activateCastOption(),e.content.hasPlayed&&t.updateSkipState(e.content.canSkip)})),e.addSubscriber(T.internalPlayerEvents.normalContentIsPlayingTick,(function(e){t.activateCastOption(),t.updateSkipState(!1)})),e.addSubscriber(T.internalPlayerEvents.play,(function(e){t.activatePlayState(),t.showPulse(!0),t.upNextAnimationState.isPaused=!1,t.hasPlayed=!0})),e.addSubscriber(T.publicPlayerEvents.pause,(function(e){t.activatePauseState(),t.showPulse(!1),t.upNextAnimationState.isPaused=!0})),e.addSubscriber(T.publicPlayerEvents.seeked,(function(e){t.upNextOverlayOverride&&(clearInterval(t.upNextCardCurrentAnimation),clearInterval(t.upNextBannerCurrentAnimation),t.upNextTypeIsCard?t.createUpNextCardAnimation(t.playerElement.querySelector("#player-up-next-card-btn-bg"),"stroke-dashoffset",e.content.duration-e.content.position,!0):t.createUpNextBannerAnimation(t.playerElement.querySelector(".player-up-next-btn-next"),Math.abs(e.content.duration-e.content.position-t.upNextDelay),!0))})),e.addSubscriber(T.publicPlayerEvents.castingstarted,(function(e){t.activateCastState()})),e.addSubscriber(T.publicPlayerEvents.castingstopped,(function(e){t.deactivateCastState()})),e.addSubscriber(T.publicPlayerEvents.nextupannounced,(function(e){t.updateUpNextState(!0,e.content.remainingDuration,e.content.mediaInfo),t.upNextOverlayOverride=!0})),e.addSubscriber(T.publicPlayerEvents.nextupremoved,(function(e){t.updateUpNextState(!1),t.upNextOverlayOverride=!1})),e.addSubscriber(T.internalPlayerEvents.reset,(function(e){t.hideError()}))},t.prototype.checkActive=function(){var e=this.uiShouldShow();this.swapActiveStates(this.overlay,e||this.upNextOverlayOverride),e&&this.hasPlayed&&D.isMobileOrTablet()?xe.setVisible(this.mobilePlayPauseToggle,!0,"display-block"):"0"===window.getComputedStyle(this.overlay).opacity&&xe.setVisible(this.mobilePlayPauseToggle,!1,"display-block")},t.prototype.activateReadyState=function(){xe.setVisible(this.play,!0,"display-block")},t.prototype.activatePlayState=function(){xe.setVisible(this.play,!1,"display-block"),xe.swapButtonImages(this.mobilePlayPauseToggle,!1)},t.prototype.activatePauseState=function(){xe.swapButtonImages(this.mobilePlayPauseToggle,!0)},t.prototype.activateCastOption=function(){var e;D.isIEorEdge()||D.isFireFox()||(we.canAirplay()?xe.setVisible(this.airplay,!0,"display-block"):we.canChromecast()&&(null===(e=window.cast)||void 0===e?void 0:e.framework)&&xe.setVisible(this.cast,!0,"display-block"))},t.prototype.deactivateCastOption=function(){we.canAirplay()?xe.setVisible(this.airplay,!1,"display-block"):we.canChromecast()&&xe.setVisible(this.cast,!1,"display-block")},t.prototype.showTitle=function(e,t){t&&(this.title.textContent=t),xe.setVisible(this.title,e,"display-block")},t.prototype.showPulse=function(e){D.isMobileOrTablet()||(this.pulse.classList.remove("player-overlay-pulsed"),this.pulse.offsetWidth,e?(xe.setVisible(this.playPulseLogo,!0,"display-block"),xe.setVisible(this.pausePulseLogo,!1,"display-block")):(xe.setVisible(this.playPulseLogo,!1,"display-block"),xe.setVisible(this.pausePulseLogo,!0,"display-block")),this.pulse.classList.add("player-overlay-pulsed"))},t.prototype.activateCastState=function(){we.canAirplay()?this.cast.setAttribute("aria-label",c.getValue("tooltip-airplaying",this.uiConfig.uiLanguage)):we.canChromecast()&&this.cast.setAttribute("aria-label",c.getValue("tooltip-casting",this.uiConfig.uiLanguage))},t.prototype.deactivateCastState=function(){we.canAirplay()?this.cast.setAttribute("aria-label",c.getValue("tooltip-not-airplaying",this.uiConfig.uiLanguage)):we.canChromecast()&&this.cast.setAttribute("aria-label",c.getValue("tooltip-not-casting",this.uiConfig.uiLanguage))},t.prototype.updateSkipState=function(e,t){e&&"google-ima"!==t?xe.setVisible(this.skip,!0,"display-block"):xe.setVisible(this.skip,!1,"display-block")},t.prototype.updateUpNextState=function(e,t,n){if(e&&!this.uiConfig.disableUpNextUi)if(n.posterImageUrl){xe.setVisible(this.upNextCard,!0,"display-inline");var r=this.upNextCard.querySelector("#player-up-next-poster-image");r.setAttribute("src",n.posterImageUrl),r.setAttribute("alt",n.title),this.upNextTypeIsCard=!0,this.createUpNextCardAnimation(this.playerElement.querySelector("#player-up-next-card-btn-bg"),"stroke-dashoffset",t)}else xe.setVisible(this.upNextBanner,!0,"display-block"),this.upNextTypeIsCard=!1,this.createUpNextBannerAnimation(this.playerElement.querySelector(".player-up-next-btn-next"),Math.abs(t-this.upNextDelay));else xe.setVisible(this.upNextBanner,!1,"display-block"),xe.setVisible(this.upNextCard,!1,"display-block"),clearInterval(this.upNextCardCurrentAnimation),clearInterval(this.upNextBannerCurrentAnimation)},t.prototype.showError=function(e,t){xe.setVisible(this.errorOverlay,!0,"display-block"),this.errorTitle.innerText=e,this.errorMessage.innerText=t},t.prototype.hideError=function(){xe.setVisible(this.errorOverlay,!1,"display-block"),this.errorTitle.innerText="",this.errorMessage.innerText=""},t.prototype.isInterfaceEnabled=function(){return"none"!==this.playerElement.querySelector(".player-overlay").style.display},t.prototype.disableInterface=function(){this.playerElement.querySelector(".player-overlay").style.display="none"},t.prototype.enableInterface=function(){this.playerElement.querySelector(".player-overlay").style.display="block"},t.prototype.createUpNextCardAnimation=function(e,t,n,r){var i=this;void 0===r&&(r=!1);var a=-145,o=145/(30*this.upNextDelay),l=o*n*30-Math.abs(a),s=setInterval((function(){i.upNextAnimationState.isPaused&&!r||(r=!1,l>a?(l=(l-=o)<a?a:l>0?0:l,e.style.setProperty(t,l+"","important")):clearInterval(s))}),1e3/30);this.upNextCardCurrentAnimation=s},t.prototype.createUpNextBannerAnimation=function(e,t,n){var r=this;void 0===n&&(n=!1);var i=100/(30*this.upNextDelay),a=30*t*i,o=setInterval((function(){r.upNextAnimationState.isPaused&&!n||(n=!1,a<100?(a=(a+=i)>100?100:a,e.style.setProperty("background-position",a+"% bottom","important")):clearInterval(o))}),1e3/30);this.upNextBannerCurrentAnimation=o},t}(He),Qe=function(e,t){var n=this;this.player=e,this.publisher=t,this.bindAbstractedPlayerEvents(),window.onbeforeunload=function(){n.publisher.publish(T.publicPlayerEvents.exiting)}},ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},We=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Je=function(e){function t(t,n){var r=this,i=window.THEOplayer.Player(t.containerElement,h.getTheoConfig(t));return(r=e.call(this,i,n)||this).config=t,r.playerElement=i.element.parentElement.parentElement,D.fixIE(r.playerElement),i.abr.strategy={type:t.abrStrategy},i.abr.targetBuffer=30,i.preload=t.preloadMode,r.willPlayForTheFirstTime=!0,r.hasPlayedForTheFirstTime=!1,r.seeking=!1,r.stalled=!1,r.collectXCdnHeader(n),r}return ze(t,e),t.prototype.collectXCdnHeader=function(e){var t=this;this.collectXCdnHeaderHandler=function(n){if(n.request.url&&n.request.url.indexOf("cdn.eurovisioncdn.net")>=0){var r=n.headers["x-cdn"]?n.headers["x-cdn"]:t.xCDN;r!==t.xCDN&&(t.xCDN=r,e.publish(T.internalPlayerEvents.xCdnChanged,{cdn:t.xCDN}))}},this.player.network.addResponseInterceptor(this.collectXCdnHeaderHandler)},t.prototype.setupUserInterface=function(e){return Ke(this,void 0,void 0,(function(){var t;return We(this,(function(n){switch(n.label){case 0:switch(this.config.playerMode){case u.VIDEO:return[3,1];case u.AUDIO:return[3,6]}return[3,7];case 1:return n.trys.push([1,4,,5]),[4,this.createOverlayControls(this.config.uiConfig,this.config.nextUpDelay,e)];case 2:return n.sent(),[4,this.createMediaControls(this.config.uiConfig,e)];case 3:return n.sent(),[3,5];case 4:throw t=n.sent(),b.createError("GUI creatie fout",{error:d.PLAYER_UI_TEMPLATE_ERROR,message:t});case 5:try{De.adjustAllSvgElementsForAccessibility(this.playerElement)}catch(e){throw b.createError("Algemene fout",{error:d.PLAYER_API_ERROR_GENERAL,message:e})}return[3,8];case 6:return[2];case 7:throw b.createError("Ongeldige modus om de speler te starten!",{error:d.PLAYER_API_ERROR_MODE,message:"Ongeldige modus om de speler te starten!"});case 8:return[2]}}))}))},t.prototype.createOverlayControls=function(e,t,n){return Ke(this,void 0,void 0,(function(){return We(this,(function(r){if(this.overlayControls=new Ye(this.playerElement,this.player,e,t),!this.overlayControls.validate())throw new Error("OverlayControls template onvolledig of incorrect!");return this.overlayControls.enable(),this.overlayControls.subscribeForInternalPlayerEvents(n),[2]}))}))},t.prototype.createMediaControls=function(e,t){return Ke(this,void 0,void 0,(function(){return We(this,(function(n){switch(n.label){case 0:return[4,Fe.waitForTheoPlayerReady(this.playerElement)];case 1:if(n.sent(),this.mediaControls=new Fe(this.playerElement,this.player,e),!this.mediaControls.validate())throw new Error("MediaControls template onvolledig of incorrect!");return this.mediaControls.enable(),this.mediaControls.subscribeForInternalPlayerEvents(t),this.mediaControls.enabledTimeEntryOnSeeker(this.seek.bind(this)),[2]}}))}))},t.prototype.addAESNetworkInterceptor=function(e){this.addAESNetworkInterceptorHandler&&this.player.network.removeRequestInterceptor(this.addAESNetworkInterceptorHandler),this.addAESNetworkInterceptorHandler=function(t){t.redirect(oe.remapAESTokenOntoLicenseRequest(t.url,e))},this.player.network.addRequestInterceptor(this.addAESNetworkInterceptorHandler)},t.prototype.setSource=function(e){e.currentSource,this.player.source=e.currentSource},t.prototype.setPosterImage=function(e){this.player.poster=e},t.prototype.play=function(){this.player.play(),this.willPlayForTheFirstTime&&(this.willPlayForTheFirstTime=!1,this.turnSubsOff(),this.publisher.publish(T.publicPlayerEvents.firstplay))},t.prototype.pause=function(){this.player.pause()},t.prototype.skipAd=function(){this.player.ads.skip()},t.prototype.skipPromotional=function(e){this.player.currentTime+=e,this.publisher.publish(T.publicPlayerEvents.promotionalskipped)},t.prototype.startCast=function(){this.player.cast.chromecast.start()},t.prototype.stopCast=function(){this.player.cast.chromecast.stop()},t.prototype.startAirplay=function(){this.player.cast.airplay.start()},t.prototype.stopAirplay=function(){this.player.cast.airplay.stop()},t.prototype.setVolume=function(e){0===e?(this.player.muted=!0,this.onVolumechange({volume:0})):this.player.muted&&0!==e?(this.player.muted=!1,this.onVolumechange({volume:this.player.volume})):this.player.volume=e},t.prototype.seek=function(e){this.player.duration&&!isNaN(this.player.duration)?e>=0&&e<=this.player.duration&&e!==1/0?this.player.currentTime=e:e===1/0&&(this.player.currentTime=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:Number.MAX_VALUE):setTimeout(this.seek.bind(this,e),250)},t.prototype.toggleSubs=function(){this.getActiveSubs()?this.turnSubsOff():this.turnSubsOn()},t.prototype.getActiveSubs=function(){for(var e=null,t=0,n=this.player.textTracks;t<n.length;t++){var r=n[t];if(("subtitles"===r.kind||"captions"===r.kind||"descriptions"===r.kind)&&"showing"===r.mode){e=r;break}}return e},t.prototype.turnSubsOff=function(){for(var e=0,t=this.player.textTracks;e<t.length;e++){var n=t[e];"subtitles"!==n.kind&&"captions"!==n.kind&&"descriptions"!==n.kind||(n.mode="disabled")}this.mediaControls&&this.mediaControls.toggleSubtitles(!1)},t.prototype.turnSubsOn=function(){for(var e=0,t=this.player.textTracks;e<t.length;e++){var n=t[e];if("subtitles"===n.kind||"captions"===n.kind){n.mode="showing";break}}this.mediaControls&&this.mediaControls.toggleSubtitles(!0)},t.prototype.setQuality=function(e){this.player.videoTracks[0].targetQuality=e?this.player.videoTracks[0].qualities.find((function(t){return t.bandwidth===e.bandwidth})):null},t.prototype.toggleFullscreen=function(){this.mediaControls.togglePresentationMode()},t.prototype.setAutoplay=function(e){this.player.autoplay=e},t.prototype.scheduleAd=function(e){this.adNetworkInterceptor&&(this.player.network.removeRequestInterceptor(this.adNetworkInterceptor),this.adNetworkInterceptor=null),this.adNetworkInterceptor=function(e){if(e&&e.url.search("ads-pebblemedia.adhese.com")>-1){var t={url:e.url,method:e.method,headers:e.headers,body:e.body,closed:e.closed,useCredentials:!0,type:e.type,subtype:e.subtype,responseType:e.responseType};e.redirect(t)}},this.player.network.addRequestInterceptor(this.adNetworkInterceptor),this.player.ads.schedule(e)},t.prototype.setLoop=function(e){this.player.loop=e},t.prototype.prepareForInteraction=function(){this.player.prepareWithUserAction()},t.prototype.isInterfaceEnabled=function(){return this.mediaControls.isInterfaceEnabled()&&this.overlayControls.isInterfaceEnabled()},t.prototype.disableInterface=function(){this.mediaControls.disableInterface(),this.overlayControls.disableInterface()},t.prototype.enableInterface=function(){this.mediaControls.enableInterface(),this.overlayControls.enableInterface()},t.prototype.playHeadPosition=function(){return this.player.currentTime},t.prototype.playHeadDateTimePosition=function(){return this.player.currentProgramDateTime?this.player.currentProgramDateTime:null},t.prototype.playHeadAtLivePoint=function(){return this.mediaControls.playHeadAtLivePoint()},t.prototype.getDuration=function(){return this.player.duration},t.prototype.getVolume=function(){return this.player.muted?0:this.player.volume},t.prototype.isPlaying=function(){return!this.player.paused},t.prototype.isPaused=function(){return this.player.paused},t.prototype.hasPlayed=function(){return this.hasPlayedForTheFirstTime},t.prototype.getSeekableRanges=function(){return this.player.seekable},t.prototype.isLooping=function(){return this.player.loop},t.prototype.isAdPlaying=function(){return this.player.ads.playing},t.prototype.isCasting=function(){return this.player.cast.casting||this.player.cast.airplay.casting},t.prototype.isFullscreen=function(){return!("inline"===this.player.presentation.currentMode||"picture-in-picture"===this.player.presentation.currentMode)},t.prototype.getTotalAdDuration=function(){return 0===this.player.ads.currentAds.length?this.getDuration():this.player.ads.currentAds.map((function(e){return e.duration})).reduce((function(e,t){return e+t}))},t.prototype.canAdBeSkipped=function(){var e=this.player.ads.currentAdBreak;if(e&&e.ads[0]){var t=e.ads[0];if(!t.hasOwnProperty("skipOffset")||t.skipOffset<=0)return!1;var n=t.duration-t.skipOffset;return(e.maxRemainingDuration>=0?e.maxRemainingDuration:t.duration-this.playHeadPosition())<n}return!1},t.prototype.getAvailableQualities=function(){return this.player.videoTracks&&this.player.videoTracks.length>=1?this.player.videoTracks[0].qualities.map((function(e){return new v(e.frameRate,e.bandwidth,e.width,e.height)})):[]},t.prototype.getActiveQuality=function(){if(this.player.videoTracks&&this.player.videoTracks.length>=1){var e=this.player.videoTracks[0].activeQuality;if(e)return new v(e.frameRate,e.bandwidth,e.width,e.height)}return null},t.prototype.getAutoplay=function(){return this.player.autoplay},t.prototype.getDroppedFrameCount=function(){return this.player.metrics.droppedVideoFrames},t.prototype.getNativePlayerInstance=function(){return this.player},t.prototype.onPlayerDestroyRequested=function(){this.publisher.publish(T.internalPlayerEvents.destroy)},t.prototype.onPlayerResetRequested=function(){this.willPlayForTheFirstTime=!0,this.hasPlayedForTheFirstTime=!1},t.prototype.releasePlayerResources=function(){this.player.destroy(),this.playerElement.parentElement.removeChild(this.playerElement)},t.prototype.bindAbstractedPlayerEvents=function(){var e=this;this.player.addEventListener("play",this.onPlay.bind(this)),this.player.addEventListener("pause",this.onPause.bind(this)),this.player.addEventListener("ended",this.onEnded.bind(this)),this.player.addEventListener("volumechange",this.onVolumechange.bind(this)),this.player.addEventListener("seeking",this.onSeeking.bind(this)),this.player.addEventListener("seeked",this.onSeekComplete.bind(this)),this.player.addEventListener("waiting",this.onBufferring.bind(this)),this.player.addEventListener("playing",this.onBufferComplete.bind(this)),this.player.addEventListener("timeupdate",this.onTimeUpdate.bind(this)),this.player.videoTracks.addEventListener("addtrack",(function(t){t.track.addEventListener("activequalitychanged",e.onVideoQualityChanged.bind(e))})),this.player.audioTracks.addEventListener("addtrack",(function(t){t.track.addEventListener("activequalitychanged",e.onAudioQualityChanged.bind(e))})),this.player.addEventListener("readystatechange",this.onReadyStateChanged.bind(this)),this.player.addEventListener("sourcechange",this.onSourceChanged.bind(this)),this.player.addEventListener("durationchange",this.onDurationChanged.bind(this)),this.player.addEventListener("error",this.onInternalPlayerError.bind(this)),this.player.addEventListener("contentprotectionerror",this.onDrmError.bind(this)),this.player.presentation.addEventListener("presentationmodechange",this.onFullscreenChange.bind(this)),this.player.presentation.addEventListener("error",this.onInternalPlayerError.bind(this)),this.player.cast.chromecast.addEventListener("statechange",this.onCastStateChanged.bind(this)),this.player.cast.chromecast.addEventListener("error",this.onCastError.bind(this)),this.player.cast.airplay.addEventListener("statechange",this.onCastStateChanged.bind(this)),this.player.ads.addEventListener("adbreakbegin",this.onAdBreakBegin.bind(this)),this.player.ads.addEventListener("adbreakend",this.onAdBreakEnd.bind(this)),this.player.ads.addEventListener("adskip",this.onAdSkipped.bind(this)),this.player.ads.addEventListener("aderror",this.onAdError.bind(this)),this.player.network.addEventListener("offline",this.onNetworkError.bind(this))},t.prototype.onPlay=function(e){this.willPlayForTheFirstTime&&(this.willPlayForTheFirstTime=!1,this.turnSubsOff(),this.publisher.publish(T.publicPlayerEvents.firstplay)),this.player.currentTime=this.player.currentTime,this.hasPlayedForTheFirstTime=!0,this.publisher.publish(T.publicPlayerEvents.play),this.publisher.publish(T.publicPlayerEvents.playing)},t.prototype.onPause=function(e){this.publisher.publish(T.publicPlayerEvents.pause)},t.prototype.onEnded=function(e){this.publisher.publish(T.publicPlayerEvents.ended)},t.prototype.onVolumechange=function(e){this.player.muted&&0!==e.volume||(e.volume,this.publisher.publish(T.publicPlayerEvents.volumechange,{volume:e.volume}))},t.prototype.onFullscreenChange=function(e){this.isFullscreen()?this.publisher.publish(T.publicPlayerEvents.fullscreenenter):this.publisher.publish(T.publicPlayerEvents.fullscreenexit)},t.prototype.onCastStateChanged=function(e){this.isCasting()?this.publisher.publish(T.publicPlayerEvents.castingstarted):this.publisher.publish(T.publicPlayerEvents.castingstopped)},t.prototype.onSeeking=function(e){this.seeking||(this.seeking=!0,this.publisher.publish(T.publicPlayerEvents.seeking))},t.prototype.onSeekComplete=function(e){this.seeking&&(this.seeking=!1,this.publisher.publish(T.publicPlayerEvents.seeked,{position:this.playHeadPosition(),duration:this.getDuration()}))},t.prototype.onBufferring=function(e){this.stalled||(this.stalled=!0,this.publisher.publish(T.publicPlayerEvents.buffering))},t.prototype.onBufferComplete=function(e){this.stalled&&(this.stalled=!1,this.publisher.publish(T.publicPlayerEvents.bufferingCompleted))},t.prototype.onVideoQualityChanged=function(e){e.quality;var t={video:new v(e.quality.frameRate,e.quality.bandwidth,e.quality.width,e.quality.height),audio:null};e.quality.width,e.quality.height,e.quality.bandwidth,this.mediaControls.updateQualityListItems(this.publisher,this.getAvailableQualities(),t.video,void 0===this.player.videoTracks[0].targetQuality),this.publisher.publish(T.publicPlayerEvents.qualitychanged,t)},t.prototype.onAudioQualityChanged=function(e){var t={video:null,audio:new Le(e.quality.bandwidth,e.quality.audioSamplingRate)};e.quality.bandwidth,this.publisher.publish(T.publicPlayerEvents.qualitychanged,t)},t.prototype.onReadyStateChanged=function(e){var t={loaded:!1};e.readyState>0&&(t.loaded=!0),this.publisher.publish(T.publicPlayerEvents.sourceloaded,t)},t.prototype.onSourceChanged=function(e){this.previousDrmError=null;var t={sourceDescription:Object.setPrototypeOf(e.source,M.prototype),xCDN:this.xCDN};this.publisher.publish(T.publicPlayerEvents.sourcechanged,t)},t.prototype.onDurationChanged=function(e){this.publisher.publish(T.internalPlayerEvents.durationSet)},t.prototype.onAdBreakBegin=function(e){var t;t="google-ima"===e.ad.integration?{id:"IMA-ID",name:"IMA-AD",duration:-1,resourceUri:"dummy-resource-uri",affiliate:"IMA-ad-affiliate",campaign:"IMA-ad-campaign",advertiser:"IMA-ad-advertiser"}:{id:e.ad.ads[0].id,name:"VAST-AD",duration:e.ad.maxDuration,resourceUri:e.ad.ads[0].resourceURI,affiliate:"VAST-ad-affiliate",campaign:"VAST-ad-campaign",advertiser:"VAST-ad-advertiser"},this.publisher.publish(T.publicPlayerEvents.adbreakbegin,t)},t.prototype.onAdBreakEnd=function(e){this.publisher.publish(T.publicPlayerEvents.adbreakend)},t.prototype.onAdSkipped=function(e){this.publisher.publish(T.publicPlayerEvents.adskipped)},t.prototype.onTimeUpdate=function(e){this.publisher.publish(T.publicPlayerEvents.timeupdate)},t.prototype.onInternalPlayerError=function(e){e.error.indexOf("Unknown CDM error")>-1||e.error.indexOf("Something went wrong during native playback.")>-1||e.error.indexOf("No supported key system has been found among the ContentProtection elements")>-1||"Something went wrong determining the initial Period of the provided MPEG-DASH stream"===e.error?this.onDrmError(e):e.error.indexOf("The provided MPEG-DASH document could not be updated")>-1||"The Widevine vuDRM token has not been correctly configured."===e.error||this.publisher.errorHandler.handleError(d.PLAYER_API_ERROR_GENERAL,"errors-an-internal-error-occurred",e)},t.prototype.onDrmError=function(e){var t=(new Date).getTime();(!this.previousDrmError||t-this.previousDrmError>500)&&this.publisher.errorHandler.handleWarning(d.PLAYER_API_ERROR_DRM,"warning-an-error-occurred-with-the-video-security",e),this.previousDrmError=t},t.prototype.onAdError=function(e){this.publisher.errorHandler.handleWarning(d.PLAYER_ADS_API_GENERAL,"warning-the-ad-cannot-be-played",e)},t.prototype.onNetworkError=function(e){this.publisher.errorHandler.handleError(d.PLAYER_NETWORK_API_GENERAL,"errors-a-network-error-occurred",e)},t.prototype.onCastError=function(e){this.publisher.errorHandler.handleWarning(d.PLAYER_CHROMECAST_API_GENERAL,"warning-an-error-occurred-during-casting",e)},t}(Qe),Xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},$e=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},et=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.playerElement.style.display="none",r.willPlayForTheFirstTimeOverridden=!0,r.hasPlayedForTheFirstTimeOverridden=!1,r}return Xe(t,e),t.prototype.setupUserInterface=function(e){return Ze(this,void 0,void 0,(function(){return $e(this,(function(e){return[2]}))}))},t.prototype.play=function(){this.player.play(),this.willPlayForTheFirstTimeOverridden&&(this.willPlayForTheFirstTimeOverridden=!1,this.publisher.publish(T.publicPlayerEvents.firstplay))},t.prototype.onPlay=function(e){this.willPlayForTheFirstTimeOverridden&&(this.willPlayForTheFirstTimeOverridden=!1,this.publisher.publish(T.publicPlayerEvents.firstplay)),this.hasPlayedForTheFirstTimeOverridden=!0,this.publisher.publish(T.publicPlayerEvents.play),this.publisher.publish(T.publicPlayerEvents.playing)},t.prototype.hasPlayed=function(){return this.hasPlayedForTheFirstTimeOverridden},t}(Je),tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},rt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},it=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.firstTimePlay=!0,r.previousPlaybackState=-1,r.seeking=!1,r.stalled=!1,r}return tt(t,e),t.loadPlayerWithVideo=function(e,n,r){return e.id=e.getAttribute("data-id"),e.classList.add("player-youtube-frame"),new Promise((function(n,i){if(!window.YT||!window.YT.Player)return r.errorHandler.handleError(d.PLAYER_YOUTUBE_ERROR_GENERAL,"errors-cannot-load-youtube-video",{YT:window.YT}),void i("Cannot load YouTube video!");new window.YT.Player(e.id,{width:"100%",height:"100%",events:{onReady:function(e){n(new t(e.target,r)),r.publish(T.internalPlayerEvents.durationSet)}}})}))},t.prototype.setupUserInterface=function(e){return nt(this,void 0,void 0,(function(){return rt(this,(function(e){return[2]}))}))},t.prototype.addAESNetworkInterceptor=function(e){},t.prototype.setSource=function(e){this.player.cueVideoById({videoId:F.extractYoutubeReference(e.targetUrls[0].url)})},t.prototype.setPosterImage=function(e){},t.prototype.play=function(){this.firstTimePlay&&(this.publisher.publish(T.publicPlayerEvents.firstplay),this.firstTimePlay=!1),this.player.playVideo()},t.prototype.pause=function(){this.player.pauseVideo()},t.prototype.skipAd=function(){},t.prototype.skipPromotional=function(e){},t.prototype.startCast=function(){},t.prototype.stopCast=function(){},t.prototype.startAirplay=function(){},t.prototype.stopAirplay=function(){},t.prototype.setVolume=function(e){this.player.setVolume(100*e),this.onVolumechange(null)},t.prototype.seek=function(e){this.player.seekTo(e,!0),this.onSeeking(null)},t.prototype.toggleSubs=function(){},t.prototype.turnSubsOn=function(){},t.prototype.turnSubsOff=function(){},t.prototype.getActiveSubs=function(){return null},t.prototype.setQuality=function(e){},t.prototype.toggleFullscreen=function(){},t.prototype.scheduleAd=function(e){},t.prototype.setLoop=function(e){},t.prototype.prepareForInteraction=function(){},t.prototype.isInterfaceEnabled=function(){return!1},t.prototype.disableInterface=function(){},t.prototype.enableInterface=function(){},t.prototype.playHeadPosition=function(){return this.player.getCurrentTime()},t.prototype.playHeadDateTimePosition=function(){return null},t.prototype.playHeadAtLivePoint=function(){return!1},t.prototype.getDuration=function(){return this.player.getDuration()},t.prototype.getVolume=function(){return this.player.getVolume()/100},t.prototype.isPlaying=function(){return this.player.getPlayerState()===YT.PlayerState.PLAYING},t.prototype.isPaused=function(){return this.player.getPlayerState()===YT.PlayerState.PAUSED},t.prototype.hasPlayed=function(){return!this.firstTimePlay},t.prototype.getSeekableRanges=function(){return null},t.prototype.isLooping=function(){return!1},t.prototype.isAdPlaying=function(){return!1},t.prototype.isCasting=function(){return!1},t.prototype.isFullscreen=function(){return!1},t.prototype.getTotalAdDuration=function(){return 0},t.prototype.canAdBeSkipped=function(){return!1},t.prototype.getAvailableQualities=function(){return[]},t.prototype.getActiveQuality=function(){return null},t.prototype.getDroppedFrameCount=function(){return 0},t.prototype.getNativePlayerInstance=function(){return this.player},t.prototype.onPlayerResetRequested=function(){},t.prototype.onPlayerDestroyRequested=function(){this.publisher.publish(T.internalPlayerEvents.destroy)},t.prototype.releasePlayerResources=function(){this.player.a.parentElement.removeChild(this.player.a),clearInterval(this.eventInterval)},t.prototype.onTimeUpdate=function(e){this.publisher.publish(T.publicPlayerEvents.timeupdate)},t.prototype.getAutoplay=function(){return!1},t.prototype.setAutoplay=function(e){},t.prototype.bindAbstractedPlayerEvents=function(){var e=this;this.player.addEventListener("onStateChange",this.onPlay.bind(this)),this.player.addEventListener("onStateChange",this.onPause.bind(this)),this.player.addEventListener("onStateChange",this.onEnded.bind(this)),this.player.addEventListener("onStateChange",this.onBufferring.bind(this)),this.player.addEventListener("onStateChange",this.onBufferComplete.bind(this)),this.player.addEventListener("onPlaybackQualityChange",this.onVideoQualityChanged.bind(this)),this.player.addEventListener("onReady",this.onReadyStateChanged.bind(this)),this.player.addEventListener("onError",this.onInternalPlayerError.bind(this));var t=this.getVolume();this.eventInterval=setInterval((function(){var n=e.getVolume();t!==n&&(t=n,e.publisher.publish(T.publicPlayerEvents.volumechange,{volume:n}))}),1e3)},t.prototype.onPlay=function(e){var t=this;this.seeking?this.onSeekComplete(null):(e.data===YT.PlayerState.PLAYING&&(this.previousPlaybackState=YT.PlayerState.PLAYING,this.firstTimePlay&&(this.publisher.publish(T.publicPlayerEvents.firstplay),this.firstTimePlay=!1),this.publisher.publish(T.publicPlayerEvents.play),this.publisher.publish(T.publicPlayerEvents.playing)),setInterval((function(){t.previousPlaybackState===YT.PlayerState.PLAYING&&t.onTimeUpdate(null)}),250))},t.prototype.onPause=function(e){e.data===YT.PlayerState.PAUSED&&(this.previousPlaybackState=YT.PlayerState.PAUSED,this.publisher.publish(T.publicPlayerEvents.pause))},t.prototype.onEnded=function(e){e.data===YT.PlayerState.ENDED&&(this.previousPlaybackState=YT.PlayerState.ENDED,this.publisher.publish(T.publicPlayerEvents.ended))},t.prototype.onVolumechange=function(e){var t={volume:this.getVolume()};this.publisher.publish(T.publicPlayerEvents.volumechange,t)},t.prototype.onFullscreenChange=function(e){},t.prototype.onCastStateChanged=function(e){},t.prototype.onSeeking=function(e){this.seeking||(this.seeking=!0,this.publisher.publish(T.publicPlayerEvents.seeking))},t.prototype.onSeekComplete=function(e){this.seeking&&(this.seeking=!1,this.publisher.publish(T.publicPlayerEvents.seeked))},t.prototype.onBufferring=function(e){this.stalled||(this.stalled=!0,e.data===YT.PlayerState.BUFFERING&&(this.previousPlaybackState=YT.PlayerState.BUFFERING,this.publisher.publish(T.publicPlayerEvents.buffering)))},t.prototype.onBufferComplete=function(e){this.stalled&&(this.stalled=!1,this.previousPlaybackState===YT.PlayerState.BUFFERING&&e.data!==YT.PlayerState.BUFFERING&&(this.previousPlaybackState=e.data,this.publisher.publish(T.publicPlayerEvents.bufferingCompleted)))},t.prototype.onVideoQualityChanged=function(e){},t.prototype.onAudioQualityChanged=function(e){},t.prototype.onReadyStateChanged=function(e){this.publisher.publish(T.publicPlayerEvents.sourceloaded,{loaded:!0})},t.prototype.onSourceChanged=function(e){},t.prototype.onAdBreakBegin=function(e){},t.prototype.onAdBreakEnd=function(e){},t.prototype.onAdSkipped=function(e){},t.prototype.onInternalPlayerError=function(e){this.publisher.errorHandler.handleYouTubeError(e.data)},t.prototype.onDrmError=function(e){},t.prototype.onAdError=function(e){},t.prototype.onCastError=function(e){},t.prototype.onNetworkError=function(e){},t}(Qe),at=function(){function e(e,t){if(this.currentIndex=0,e instanceof Array){if(t&&(!(t instanceof Array)||e.length!==t.length))throw new Error("If DigitalData is provided, the number of instances must match the number the number of mediaReferences!");this.items=e,this.digitalDatas=t||[]}else this.items=[e],this.digitalDatas=[t]}return e.prototype.current=function(){return{index:this.currentIndex,playlistSize:this.items.length,mediaReference:this.items[this.currentIndex],digitalData:this.digitalDatas[this.currentIndex]}},e.prototype.next=function(){return this.currentIndex+1<this.items.length?{index:++this.currentIndex,playlistSize:this.items.length,mediaReference:this.items[this.currentIndex],digitalData:this.digitalDatas[this.currentIndex]}:null},e.prototype.hasNext=function(){return this.currentIndex+1<this.items.length},e.prototype.peek=function(){return this.currentIndex+1<this.items.length?{index:this.currentIndex+1,playlistSize:this.items.length,mediaReference:this.items[this.currentIndex+1],digitalData:this.digitalDatas[this.currentIndex+1]}:null},e.prototype.previous=function(){return this.currentIndex-1>=0?{index:--this.currentIndex,playlistSize:this.items.length,mediaReference:this.items[this.currentIndex],digitalData:this.digitalDatas[this.currentIndex]}:null},e.prototype.hasPrevious=function(){return this.currentIndex-1>=0},e.prototype.length=function(){return this.items.length},e.prototype.append=function(e,t){this.items.push(e),this.digitalDatas.push(t)},e.prototype.getIndexForMediaReference=function(e){return this.items.indexOf(e)},e.prototype.setTo=function(e){return e>=0&&e<this.items.length?(this.currentIndex=e,{index:this.currentIndex,playlistSize:this.items.length,mediaReference:this.items[this.currentIndex],digitalData:this.digitalDatas[this.currentIndex]}):null},e}();const ot=JSON.parse('{"domains":{"canvas":"setv","cobra":"setv","een":"setv","fansofflanders":"setv","mnm":"seradio","radio1":"seradio","sporza":"sesport","stubru":"seradio","vuplay":"setv","sporza_spv_workaround":"sewk2018","dagelijksekost":"seculinair","radio2":"seradio"},"partners":{"canvas":{"name":"Canvas"},"vrtvideo":{"name":"VRT Video"},"sanoma":{"name":"Sanoma"},"roularta":{"name":"Roularta"},"pebblemedia":{"name":"Pebblemedia"},"newsmonkey":{"name":"Newsmonkey"},"metrotime":{"name":"Metrotime"},"mediahuis":{"name":"Mediahuis"},"humo":{"name":"Humo"},"depersgroep":{"name":"De Persgroep","ads":false},"vrt":{"name":"VRT"},"belga":{"name":"Belga"},"rtbf":{"name":"RTBF"},"demorgen":{"name":"De Morgen"},"hln":{"name":"Het Laatste Nieuws"},"proximus":{"name":"Proximus"},"andere":{"name":"Andere"},"zita":{"name":"Zita"},"sporza_workaround":{"name":"sporza"}},"programs":["Koppen","Ook getest op mensen","Panorama","Reyers Laat","TerZake","Villa Politica","Volt","Voor hetzelfde geld","Vranckx","Vranckx op zaterdag","De Afspraak","Keien van de wetstraat"]}');var lt,st=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},ut=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},ct=function(){function e(e,t,n,r,i){void 0===i&&(i=window.location.hostname),this.hostname=i,this.pal=t,this.errorHandler=n,this.productionMode=r,this.adConfiguration=e,this.adMappings=ot,this.productionMode||(this.adMappings.partners.pebblemedia={name:"Pebble Media",ads:!0}),this.baseUrl="https://ads-pebblemedia.adhese.com/ad/sl_%%CONTENT%%_%%LOCATION%%_-preroll/%%CATEGORY%%/dt%%DEVICE%%/tl%%CONSENT%%%%EU%%/?t=%%TIMESTAMP%%",this.baseVPaidUrl="https://ads-pebblemedia.adhese.com/ad/sevpaid/sl_%%CONTENT%%_%%LOCATION%%_-preroll/?t=%%TIMESTAMP%%"}return e.prototype.createAdForVideoIfNeeded=function(e,t){return st(this,void 0,void 0,(function(){return ut(this,(function(n){return!this.adConfiguration||0===Object.keys(this.adConfiguration).length&&this.adConfiguration.constructor===Object?[2,null]:[2,this.adConfiguration.gamAdUrl?this.generateGamStyleAd(this.adConfiguration.gamAdUrl):this.generateOldStyleAd(e,t)]}))}))},e.prototype.generateGamStyleAd=function(e){var t=null;return e&&(t={sources:{src:e,type:"vmap"},timeOffset:"start",integration:"google-ima"},this.adConfiguration.isVastViaIma||this.adConfiguration.isVPaid||(t.skipOffset=15)),t},e.prototype.generateOldStyleAd=function(e,t){var n,r=this.adConfiguration.category?this.adConfiguration.category.toLowerCase():"",i=this.adConfiguration.partner?this.adConfiguration.partner.toLowerCase():"",a=this.adConfiguration.location?this.adConfiguration.location:"content-vrt";if(e=e?e.toLowerCase():null,this.adConfiguration.domain)n=this.adConfiguration.domain;else{var o=this.hostname.toLowerCase().split(".");n=o[o.length-2]}var l=this.adConfiguration.isVPaid?this.baseVPaidUrl:this.baseUrl,s=this.adConfiguration.consent?this.adConfiguration.consent:"none",u=this.adConfiguration.euConsent?"/xt"+this.adConfiguration.euConsent:"",c=null;this.isSyndicated(i)?this.partnerAdsAllowed(i)&&(""===r&&(r=this.getCategoryForDomain(n)),c=this.createAdUrl(l,i,a,r,s,u)):this.prerollEnabledForDomain(n)&&this.prerollEnabledForProgram(e)&&(t<=0||t>30)&&(""===r&&(r=this.getCategoryForDomain(n)),"senieuws"!==r&&(c=this.createAdUrl(l,n,a,r,s,u)));var p=null;return c&&(p={sources:{src:c},timeOffset:"start",integration:this.detectAdTech(this.adConfiguration)},this.adConfiguration.isVastViaIma||this.adConfiguration.isVPaid||(p.skipOffset=15)),p},e.prototype.createAdUrl=function(e,t,n,r,i,a){return e.replace("%%CONTENT%%",t).replace("%%LOCATION%%",n).replace("%%CATEGORY%%",r).replace("%%DEVICE%%",D.getPlatform()).replace("%%CONSENT%%",i).replace("%%EU%%",a).replace("%%TIMESTAMP%%",Date.now()+"")},e.prototype.isSyndicated=function(e){return this.adMappings.partners.hasOwnProperty(e)},e.prototype.partnerAdsAllowed=function(e){return!this.adMappings.partners.hasOwnProperty(e)||!this.adMappings.partners[e].hasOwnProperty("ads")||this.adMappings.partners[e].ads},e.prototype.getCategoryForDomain=function(e){return this.adMappings.domains.hasOwnProperty(e)?this.adMappings.domains[e]:"senieuws"},e.prototype.prerollEnabledForDomain=function(e){return this.adMappings.domains.hasOwnProperty(e)},e.prototype.prerollEnabledForProgram=function(e){if(!e)return!0;for(var t=0,n=this.adMappings.programs;t<n.length;t++){var r=n[t];if((r=r.toLowerCase())===e||r.search(e)>0||e.search(r)>0)return!1}return!0},e.prototype.detectAdTech=function(e){return e.hasOwnProperty("isVastViaIma")?e.hasOwnProperty("isVPaid")?e.isVPaid||e.isVastViaIma?"google-ima":"theo":e.isVastViaIma?"google-ima":"theo":"google-ima"},e}(),pt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},ht=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},yt=function(e){function t(t,n){return e.call(this,t,n)||this}return pt(t,e),t.prototype.setupAds=function(e,t){return new ct(this.config.adConfig,t,e.errorHandler,this.state.productionMode)},t.prototype.setupAnalytics=function(e,t){return this.config.authoringMode?null:{adobeAnalytics:new I(this.config.playerMode,t,this.state.mediaInfo,e),cim:new G(this.config.playerMode,this.config.containerElement,t,this.state.mediaInfo,e,this.config.cimId)}},t.prototype.prepareSourceForPlayback=function(){return dt(this,void 0,void 0,(function(){var e;return ht(this,(function(t){switch(t.label){case 0:this.ilc.pal.addAESNetworkInterceptor(this.state.mediaInfo.drm),e=null,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.ilc.pebbleService.createAdForVideoIfNeeded(this.state.mediaInfo.title,this.state.mediaInfo.duration)];case 2:return e=t.sent(),this.state.adIntegration=null==e?void 0:e.integration,[3,4];case 3:return t.sent(),[3,4];case 4:return this.ilc.pal.setPosterImage(this.state.mediaInfo.posterImageUrl),this.state.mediaInfo.currentSource=this.ilc.mediaEnricher.sourceService.getNextSource(this.state.mediaInfo,e,this.config.isLiveStartOver,this.config.startOverBegin,this.config.startOverEnd),this.ilc.pal.setSource(this.state.mediaInfo),[2]}}))}))},t.prototype.markPlayerReadyForPlaybackSpecific=function(){var e=this;this.ilc.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.play,this.onPlay.bind(this)),this.ilc.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.startover,this.onStartOver.bind(this)),this.ilc.publisher.addRemovableEventListener(this.eventHandlers,T.publicPlayerEvents.warning,this.onInternalPlayerWarning.bind(this)),this.updateTitle(),this.state.mediaInfo.isLiveToUrl()&&this.ilc.publisher.addOneTimeSubscriber(T.publicPlayerEvents.firstplay,(function(){e.ilc.pal.seek(0)})),this.state.mediaInfo.isLiveStream()&&(this.ilc.mediaEnricher.autoUpdateLiveSchedule(60,this.state.mediaInfo),this.ilc.publisher.addOneTimeSubscriber(T.publicPlayerEvents.play,(function(){e.ilc.publisher.addOneTimeSubscriber(T.publicPlayerEvents.timeupdate,(function(){e.ilc.pal.turnSubsOff()}))})))},t.prototype.updateTitle=function(){var e=this.state.mediaInfo;this.config.uiConfig&&this.config.uiConfig.disableTitle||(e.isLiveStream()&&e.activeScheduleItem?(this.state.currentTitle&&this.state.currentTitle!==e.activeScheduleItem.title&&this.ilc.publisher.publish(T.publicPlayerEvents.liveprogramchange,{newProgramTitle:this.state.currentTitle}),this.state.currentTitle=e.activeScheduleItem.title):this.state.currentTitle=this.state.mediaInfo.title,this.ilc.publisher.publish(T.internalPlayerEvents.updateTitle,{newTitle:this.state.currentTitle,isHidden:this.state.titleIsHidden}))},t.prototype.updateTickSpecific=function(){var e=this.state.mediaInfo;this.ilc.mediaEnricher.updateMediaEnrichment(this.ilc.pal,this.state.mediaInfo),this.updateTitle(),this.ilc.publisher.publish(T.internalPlayerEvents.updateTick,{enableStartOver:!!this.ilc.mediaEnricher.sourceService.canDoStartOver(this.state.mediaInfo.activeScheduleItem)}),this.ensureLongPlayback(),this.adIsPlaying()?(this.state.canSkipAdOrPromotional=this.ilc.pal.canAdBeSkipped(),this.state.canSeekDispatched&&(this.ilc.publisher.publish(T.publicPlayerEvents.seekNotAllowed),this.state.canSeekDispatched=!1),this.ilc.publisher.publish(T.internalPlayerEvents.adIsPlayingTick,{promotionalTitle:"Advertentie",canSkip:this.state.canSkipAdOrPromotional,adIntegration:this.state.adIntegration,remainingDuration:Math.round(this.ilc.pal.getTotalAdDuration()-this.ilc.pal.playHeadPosition())})):this.typeIsPlaying(ce.types.PROMOTIONAL)?(this.state.canSkipAdOrPromotional=!(!e.activePlaylistItem.item||!e.activePlaylistItem.item.skippable)||this.ilc.pal.canAdBeSkipped(),this.state.canSeekDispatched&&(this.ilc.publisher.publish(T.publicPlayerEvents.seekNotAllowed),this.state.canSeekDispatched=!1),this.ilc.publisher.publish(T.internalPlayerEvents.promotionalIsPlayingTick,{promotionalTitle:"Sponsoring",canSkip:this.state.canSkipAdOrPromotional,remainingDuration:e.remainingPlaylistItemDuration})):this.typeIsPlaying(ce.types.ONBOARDING)?(this.state.canSkipAdOrPromotional=!(!e.activePlaylistItem.item||!e.activePlaylistItem.item.skippable)||this.ilc.pal.canAdBeSkipped(),this.state.canSeekDispatched&&(this.ilc.publisher.publish(T.publicPlayerEvents.seekNotAllowed),this.state.canSeekDispatched=!1),this.ilc.publisher.publish(T.internalPlayerEvents.onboardingIsPlayingTick,{promotionalTitle:"",canSkip:this.state.canSkipAdOrPromotional,remainingDuration:e.remainingPlaylistItemDuration})):this.typeIsPlaying(ce.types.TRAILER)?(this.ilc.pal.hasPlayed()&&(this.state.canSkipAdOrPromotional=e.activePlaylistItem.item&&e.activePlaylistItem.item.skippable),this.state.canSeekDispatched&&(this.ilc.publisher.publish(T.publicPlayerEvents.seekNotAllowed),this.state.canSeekDispatched=!1),this.ilc.publisher.publish(T.internalPlayerEvents.trailerIsPlayingTick,{hasPlayed:this.ilc.pal.hasPlayed(),promotionalTitle:"Trailer",canSkip:this.state.canSkipAdOrPromotional,remainingDuration:e.remainingPlaylistItemDuration})):(this.state.canSeekDispatched||(this.ilc.publisher.publish(T.publicPlayerEvents.seekAllowed),this.state.canSeekDispatched=!0),this.ilc.publisher.publish(T.internalPlayerEvents.normalContentIsPlayingTick,{isPaused:this.ilc.pal.isPaused(),isLive:this.state.mediaInfo.isLiveStream(),playHeadPosition:this.ilc.pal.playHeadDateTimePosition()}))},t.prototype.ensureLongPlayback=function(){oe.isDrmTokenAboutToExpire(this.state.mediaInfo.drmExpired)&&this.ilc.publisher.publish(T.internalPlayerEvents.forceReload,{newIdentityToken:this.config.identityToken})},t.prototype.onPlay=function(e){this.ilc.publisher.publish(T.internalPlayerEvents.play,{isLive:this.state.mediaInfo.isLiveStream(),currentVolume:this.ilc.pal.getVolume()})},t.prototype.onStartOver=function(e){var t=this.state.mediaInfo;t.isLiveStream()?t.currentSource?this.ilc.publisher.publish(T.internalPlayerEvents.forceReload,{newIdentityToken:this.config.identityToken,performLiveStartOver:!0}):this.ilc.publisher.errorHandler.handleError(d.PLAYER_FUNCTIONS_STARTOVER,"errors-cannot-perform-startover"):this.ilc.pal.seek(0)},t.prototype.onInternalPlayerWarning=function(e){return dt(this,void 0,void 0,(function(){var t=this;return ht(this,(function(n){switch(n.label){case 0:return e.code!==d.PLAYER_API_ERROR_DRM?[3,4]:(this.state.mediaInfo.currentSource=this.ilc.mediaEnricher.sourceService.getNextSource(this.state.mediaInfo),this.state.mediaInfo.currentSource?(this.ilc.pal.setSource(this.state.mediaInfo),this.state.mediaInfo.isLiveToUrl()&&this.ilc.publisher.addOneTimeSubscriber(T.publicPlayerEvents.firstplay,(function(){return dt(t,void 0,void 0,(function(){return ht(this,(function(e){switch(e.label){case 0:return[4,O.wait(100)];case 1:return e.sent(),this.ilc.pal.seek(0),[2]}}))}))})),this.ilc.pal.prepareForInteraction(),this.ilc.pal.hasPlayed()?[4,O.wait(100)]:[3,2]):[3,3]);case 1:n.sent(),this.ilc.pal.play(),n.label=2;case 2:return[3,4];case 3:this.ilc.publisher.errorHandler.handleError(d.PLAYER_FUNCTIONS_SOURCE_FALLTHROUGH,"errors-cannot-select-a-next-source"),n.label=4;case 4:return[2]}}))}))},t.prototype.adIsPlaying=function(){return this.ilc.pal.isAdPlaying()},t.prototype.typeIsPlaying=function(e){return this.state.mediaInfo.activePlaylistItem&&this.state.mediaInfo.activePlaylistItem.item&&this.state.mediaInfo.activePlaylistItem.item.eventType.toLowerCase()===e.toLowerCase()},t.prototype.onPlayerErrorSpecific=function(e,t){clearInterval(this.state.updateInterval),t.code!==d.AGGREGATOR_ERROR_NOT_AUTHENTICATED&&t.code!==d.AGGREGATOR_ERROR_INCOMPLETE_PROFILE&&t.code!==d.AGGREGATOR_ERROR_NOT_AUTHENTICATED_AND_ROAMING_REQUIRED&&t.code!==d.AGGREGATOR_V2_UNMAPPED||te.clearToken(),this.config.showNoErrors||e.publish(T.internalPlayerEvents.showError,{name:t.name,message:t.message})},t.prototype.onPlayerResetRequestedSpecific=function(){},t}(ke),ft=function(){function e(){}return e.decorateEventingApi=function(e,t){e.hasOwnProperty("addEventListener")&&e.hasOwnProperty("removeEventListener")&&e.hasOwnProperty("destroy")||(Object.defineProperty(e,"addEventListener",{value:function(e,n){t.addSubscriber(t.detectPublicEventTypeFromString(e),n)}}),Object.defineProperty(e,"removeEventListener",{value:function(e,n){t.removeSubscriber(t.detectPublicEventTypeFromString(e),n)}}),Object.defineProperty(e,"destroy",{value:function(){t.publish(T.apiCallEvents.destroyApiCall)}}))},e.decoratePublicApi=function(t,n){!Object.isExtensible(t)&&Object.isSealed(t)&&Object.isFrozen(t)||(e.addProperties(t,n),e.addMethods(t,n),Object.preventExtensions(t),Object.seal(t),Object.freeze(t))},e.addProperties=function(e,t){this.addProperty(t,e,"muted",{setEvent:T.apiCallEvents.muteApiCallSet,getEvent:T.apiCallEvents.muteApiCallGet,getEventReturn:T.apiCallEvents.muteApiCallGetReturn}),this.addProperty(t,e,"volume",{setEvent:T.apiCallEvents.volumeApiCallSet,getEvent:T.apiCallEvents.volumeApiCallGet,getEventReturn:T.apiCallEvents.volumeApiCallGetReturn}),this.addProperty(t,e,"duration",{getEvent:T.apiCallEvents.durationApiCallGet,getEventReturn:T.apiCallEvents.durationApiCallGetReturn}),this.addProperty(t,e,"currentTime",{setEvent:T.apiCallEvents.currentTimeApiCallSet,getEvent:T.apiCallEvents.currentTimeApiCallGet,getEventReturn:T.apiCallEvents.currentTimeApiCallGetReturn}),this.addProperty(t,e,"currentDateTime",{getEvent:T.apiCallEvents.currentDateTimeApiCallGet,getEventReturn:T.apiCallEvents.currentDateTimeApiCallGetReturn}),this.addProperty(t,e,"paused",{getEvent:T.apiCallEvents.pausedApiCallGet,getEventReturn:T.apiCallEvents.pausedApiCallGetReturn}),this.addProperty(t,e,"loop",{setEvent:T.apiCallEvents.loopApiCallSet,getEvent:T.apiCallEvents.loopApiCallGet,getEventReturn:T.apiCallEvents.loopApiCallGetReturn}),this.addProperty(t,e,"currentSrc",{getEvent:T.apiCallEvents.currentSrcApiCallGet,getEventReturn:T.apiCallEvents.currentSrcApiCallGetReturn}),this.addProperty(t,e,"currentMediaReference",{getEvent:T.apiCallEvents.currentMediaReferenceApiCallGet,getEventReturn:T.apiCallEvents.currentMediaReferenceApiCallGetReturn}),this.addProperty(t,e,"src",{setEvent:T.apiCallEvents.srcApiCallSet,getEvent:T.apiCallEvents.srcApiCallGet,getEventReturn:T.apiCallEvents.srcApiCallGetReturn}),this.addProperty(t,e,"seekable",{getEvent:T.apiCallEvents.seekableApiCallGet,getEventReturn:T.apiCallEvents.seekableApiCallGetReturn}),this.addProperty(t,e,"hasPlayed",{getEvent:T.apiCallEvents.hasPlayedApiCallGet,getEventReturn:T.apiCallEvents.hasPlayedApiCallGetReturn}),this.addProperty(t,e,"controls",{setEvent:T.apiCallEvents.controlsApiCallSet,getEvent:T.apiCallEvents.controlsApiCallGet,getEventReturn:T.apiCallEvents.controlsApiCallGetReturn}),this.addProperty(t,e,"playlistSize",{getEvent:T.apiCallEvents.playlistSizeApiCallGet,getEventReturn:T.apiCallEvents.playlistSizeApiCallGetReturn}),this.addProperty(t,e,"currentPlaylistItem",{getEvent:T.apiCallEvents.currentPlaylistItemApiCallGet,getEventReturn:T.apiCallEvents.currentPlaylistItemApiCallGetReturn}),this.addProperty(t,e,"activeSubtitles",{getEvent:T.apiCallEvents.activeSubtitlesApiCallGet,getEventReturn:T.apiCallEvents.activeSubtitlesApiCallGetReturn}),Object.defineProperty(e,"playbackRate",{get:function(){return Promise.resolve(1)}}),this.addProperty(t,e,"availableQualities",{getEvent:T.apiCallEvents.availableQualitiesApiCallGet,getEventReturn:T.apiCallEvents.availableQualitiesApiCallGetReturn}),this.addProperty(t,e,"autoplay",{setEvent:T.apiCallEvents.autoplayApiCallSet,getEvent:T.apiCallEvents.autoplayApiCallGet,getEventReturn:T.apiCallEvents.autoplayApiCallGetReturn})},e.addMethods=function(e,t){Object.defineProperty(e,"play",{value:function(){t.publish(T.apiCallEvents.playApiCall)}}),Object.defineProperty(e,"pause",{value:function(){t.publish(T.apiCallEvents.pauseApiCall)}}),Object.defineProperty(e,"togglePlay",{value:function(){t.publish(T.apiCallEvents.togglePlayApiCall)}}),Object.defineProperty(e,"skipAd",{value:function(){t.publish(T.apiCallEvents.skipAdApiCall)}}),Object.defineProperty(e,"toggleCast",{value:function(){t.publish(T.apiCallEvents.toggleCastApiCall)}}),Object.defineProperty(e,"toggleMute",{value:function(){t.publish(T.apiCallEvents.toggleMuteApiCall)}}),Object.defineProperty(e,"rewindSeconds",{value:function(e){t.publish(T.apiCallEvents.rewindSecondsApiCall,e)}}),Object.defineProperty(e,"fastSeek",{value:function(e){t.publish(T.apiCallEvents.fastSeekApiCall,e)}}),Object.defineProperty(e,"liveStartOver",{value:function(){t.publish(T.apiCallEvents.liveStartOverApiCall)}}),Object.defineProperty(e,"toggleSubtitles",{value:function(){t.publish(T.apiCallEvents.toggleSubtitlesApiCall)}}),Object.defineProperty(e,"toggleFullscreen",{value:function(){t.publish(T.apiCallEvents.toggleFullscreenApiCall)}}),Object.defineProperty(e,"disableInterface",{value:function(){t.publish(T.apiCallEvents.disableInterfaceApiCall)}}),Object.defineProperty(e,"enableInterface",{value:function(){t.publish(T.apiCallEvents.enableInterfaceApiCall)}}),Object.defineProperty(e,"throwError",{value:function(e,n){void 0===n&&(n=null),t.publish(T.apiCallEvents.throwErrorApiCall,{message:e,content:n})}}),Object.defineProperty(e,"showTitle",{value:function(e){t.publish(T.apiCallEvents.showTitleApiCall,e)}}),Object.defineProperty(e,"next",{value:function(){t.publish(T.apiCallEvents.nextApiCall)}}),Object.defineProperty(e,"previous",{value:function(){t.publish(T.apiCallEvents.previousApiCall)}}),Object.defineProperty(e,"goto",{value:function(e){t.publish(T.apiCallEvents.gotoApiCall,e)}}),Object.defineProperty(e,"addToPlaylist",{value:function(e,n){t.publish(T.apiCallEvents.addToPlaylistApiCall,{mediaReference:e,digitalData:n})}}),Object.defineProperty(e,"setQuality",{value:function(e){t.publish(T.apiCallEvents.setQualityApiCall,e)}})},e.addProperty=function(e,t,n,r){r.setEvent&&r.getEvent&&r.getEventReturn?Object.defineProperty(t,n,{set:function(t){Promise.resolve(t).then((function(t){e.publish(r.setEvent,t)})).catch((function(){console.warn("Cannot set property "+n+" ("+JSON.stringify(t,null,4)+")")}))},get:function(){return new Promise((function(t,n){e.addOneTimeSubscriber(r.getEventReturn,(function(e){t(e.content)})),e.publish(r.getEvent)}))}}):(r.setEvent&&Object.defineProperty(t,n,{set:function(t){e.publish(r.setEvent,t)}}),r.getEvent&&r.getEventReturn&&Object.defineProperty(t,n,{get:function(){return new Promise((function(t,n){e.addOneTimeSubscriber(r.getEventReturn,(function(e){t(e.content)})),e.publish(r.getEvent)}))}}))},e}(),vt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},bt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},mt=function(){function e(e,t,n){var r=this;this.config=e;var i,a=new Se(n,e),l={playlist:t,isFirstPlaylistItem:!0,mediaEnricher:null,alreadyInError:!1,wasPlaying:null,position:0};ft.decorateEventingApi(this,n);var s=function(o){return vt(r,void 0,void 0,(function(){var r,s,c;return bt(this,(function(p){switch(p.label){case 0:if(p.trys.push([0,12,,16]),!o)throw new Error("MediaEnricher not provided!");return l.mediaEnricher&&(l.mediaEnricher.destroy(),l.mediaEnricher=null),l.mediaEnricher=o,Ae.validatePlaylist(t),r=void 0,o.isVRT()||o.isStandAloneVideo()?i?[3,2]:[4,(i=this.config.playerMode===u.VIDEO?new Je(this.config,n):new et(this.config,n)).setupUserInterface(n)]:[3,4];case 1:return p.sent(),[3,3];case 2:i.onPlayerResetRequested(),p.label=3;case 3:return r=new yt(e,l.playlist),[3,9];case 4:return i?[3,7]:[4,it.loadPlayerWithVideo(this.config.containerElement,l.playlist.current().mediaReference,n)];case 5:return[4,(i=p.sent()).setupUserInterface(n)];case 6:return p.sent(),[3,8];case 7:p.label=8;case 8:r=new Ie(e,l.playlist),p.label=9;case 9:return[4,r.preparePlayerForPlayback(n,i,o)];case 10:return p.sent(),r.restorePlayback(n,l.isFirstPlaylistItem,l.wasPlaying,l.position,a.userPreferences),ft.decoratePublicApi(this,n),n.publish(T.internalPlayerEvents.ready),[4,O.wait(33)];case 11:return p.sent(),a.bindToPlayer(),n.publish(T.publicPlayerEvents.canplay),[3,16];case 12:return s=p.sent(),l.alreadyInError?[2]:[3,13];case 13:return c=s||"incorrect configuration!",console.error("Player cannot be started: "+c),b.errorToSentry("Player startup",{name:"General error",code:d.PLAYER_API_ERROR_GENERAL,content:{config:e,error:s}}),[4,O.wait(500)];case 14:return p.sent(),n.errorHandler.handleError(d.PLAYER_API_ERROR_GENERAL,"errors-the-player-cannot-be-started"+c,e),[2];case 15:return[3,16];case 16:return[2]}}))}))},c=function(){l.isFirstPlaylistItem=!1,l.alreadyInError=!1,l.position=null,n.publish(T.internalPlayerEvents.reset)};vt(r,void 0,void 0,(function(){return bt(this,(function(r){return s(Ae.createMediaEnricher(e,n,t.current())),[2]}))})),n.addSubscriber(T.publicPlayerEvents.error,(function(){l.alreadyInError=!0})),n.addSubscriber(T.internalPlayerEvents.mediaReferenceChanged,(function(r){try{l.wasPlaying=i.isPlaying(),l.playlist=new at(r.content.newMediaReferences,r.content.newDigitalDatas),c(),s(Ae.createMediaEnricher(e,n,t.current()))}catch(e){n.errorHandler.handleError(d.PLAYER_API_ERROR_PLAYLIST,e,r)}})),n.addSubscriber(T.publicPlayerEvents.ended,(function(r){if(l.playlist.peek())switch(e.nextUpAutoPlay.toLowerCase()){case o.ON:l.playlist.next(),n.publish(T.publicPlayerEvents.nextupremoved),l.wasPlaying=!0,c(),s(Ae.createMediaEnricher(e,n,t.current()));break;case o.OFF_STOP_AT_BEGIN:l.playlist.next(),n.publish(T.publicPlayerEvents.nextupremoved),l.wasPlaying=!1,c(),s(Ae.createMediaEnricher(e,n,t.current()));break;case o.OFF_STOP_AT_END:break;default:throw new Error("Unknown next-up-autoplay parameter!")}})),n.addSubscriber(T.publicPlayerEvents.nextsourcerequested,(function(r){n.publish(T.publicPlayerEvents.nextupremoved),l.wasPlaying=i.isPlaying(),l.playlist.next()&&(c(),s(Ae.createMediaEnricher(e,n,t.current())))})),n.addSubscriber(T.publicPlayerEvents.previoussourcerequested,(function(r){n.publish(T.publicPlayerEvents.nextupremoved),l.wasPlaying=i.isPlaying(),l.playlist.previous()&&(c(),s(Ae.createMediaEnricher(e,n,t.current())))})),n.addSubscriber(T.internalPlayerEvents.playlistSourceRequested,(function(r){n.publish(T.publicPlayerEvents.nextupremoved);var a=null!==r.content.index?r.content.index:l.playlist.getIndexForMediaReference(r.content.mediaReference);l.playlist.setTo(a)&&(l.wasPlaying=i.isPlaying(),c(),s(Ae.createMediaEnricher(e,n,t.current())))})),n.addSubscriber(T.internalPlayerEvents.nextupAnnounced,(function(e){return vt(r,void 0,void 0,(function(){var r,i,a,o;return bt(this,(function(s){switch(s.label){case 0:return l.mediaEnricher=Ae.createMediaEnricher(this.config,n,l.playlist.peek()),i=(r=n).publish,a=[T.publicPlayerEvents.nextupannounced],o={},[4,l.mediaEnricher.mediaInfo];case 1:return i.apply(r,a.concat([(o.mediaInfo=s.sent().mapToPublicMediaInfo(),o.nextUpPlaylistItem=t.peek(),o.remainingDuration=e.content.remainingDuration,o)])),[2]}}))}))}));var p=function(e){return void 0===e&&(e=null),vt(r,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return c(),l.wasPlaying=i.isPlaying(),l.position=i.playHeadPosition(),[4,s(e)];case 1:return t.sent(),[2]}}))}))};n.addSubscriber(T.internalPlayerEvents.newIdentityTokenReceived,(function(e){return vt(r,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return this.config.identityToken=e.content.newIdentityToken,[4,p(Ae.createMediaEnricher(this.config,n,l.playlist.current()))];case 1:return t.sent(),n.publish(T.internalPlayerEvents.identityTokenUpdated),[2]}}))}))})),n.addSubscriber(T.internalPlayerEvents.forceReload,(function(e){return vt(r,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return this.config.identityToken=e.content.newIdentityToken,e.content.performLiveStartOver&&!0===e.content.performLiveStartOver?this.config.isLiveStartOver=!0:this.config.isLiveStartOver=!1,[4,p(Ae.createMediaEnricher(this.config,n,l.playlist.current()))];case 1:return t.sent(),[2]}}))}))})),n.addSubscriber(T.internalPlayerEvents.unLoad,(function(e){return vt(r,void 0,void 0,(function(){return bt(this,(function(e){return this.config.identityToken="",i.setSource(V.createDummyMediaInfo()),n.publish(T.internalPlayerEvents.reset),n.publish(T.internalPlayerEvents.showError,{name:"Fout",message:"Inloggen is vereist!"}),[2]}))}))}))}return e.prototype.play=function(){console.error("Player API not available!")},e.prototype.pause=function(){console.error("Player API not available!")},e.prototype.togglePlay=function(){console.error("Player API not available!")},e.prototype.skipAd=function(){console.error("Player API not available!")},e.prototype.toggleCast=function(){console.error("Player API not available!")},e.prototype.rewindSeconds=function(e){console.error("Player API not available!")},e.prototype.toggleMute=function(){console.error("Player API not available!")},e.prototype.fastSeek=function(e){console.error("Player API not available!")},e.prototype.liveStartOver=function(){console.error("Player API not available!")},e.prototype.toggleSubtitles=function(){console.error("Player API not available!")},e.prototype.toggleFullscreen=function(){console.error("Player API not available!")},e.prototype.showTitle=function(e){console.error("Player API not available!")},e.prototype.disableInterface=function(){console.error("Player API not available!")},e.prototype.enableInterface=function(){console.error("Player API not available!")},e.prototype.next=function(){console.error("Player API not available!")},e.prototype.previous=function(){console.error("Player API not available!")},e.prototype.goto=function(e){console.error("Player API not available!")},e.prototype.addToPlaylist=function(e){console.error("Player API not available!")},e.prototype.setQuality=function(e){console.error("Player API not available!")},e.prototype.addEventListener=function(e,t){console.error("Player API not available!")},e.prototype.removeEventListener=function(e,t){console.error("Player API not available!")},e.prototype.throwError=function(e,t){void 0===t&&(t=null),console.error("Player API not available!")},e.prototype.destroy=function(){console.error("Player API not available!")},e}(),gt=function(){function e(){}return e.getColor=function(e){switch(e){case"green":return this.GREEN;case"blue":return this.BLUE;case"red":return this.RED;case"white":return this.WHITE;case"ketnet":return this.KETNET;default:return console.warn("WARNING: unknown color '"+e+"' found in config. Fallback to default color!"),this.GREEN}},e.GREEN={name:"green",styleName:"vrt-green",value:"#53EC66"},e.BLUE={name:"blue",styleName:"vrt-blue",value:"#0098CC"},e.RED={name:"red",styleName:"vrt-red",value:"#BC2821"},e.WHITE={name:"white",styleName:"vrt-white",value:"#FFFFFF"},e.KETNET={name:"ketnet",styleName:"vrt-ketnet",value:"#F72154"},e}(),Et=function(){return(Et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(e){e.DEFAULT="default",e.DUMMY="dummy",e.KETNET="ketnet",e.SPORZA="sporza",e.VRTNU="vrtnu",e.VRTNWS="vrtnws"}(lt||(lt={}));var At=function(){function e(){}return e.getPreset=function(e){if(!e)return this.DEFAULT;switch(e.toLowerCase()){case"default":return this.DEFAULT;case"dummy":return this.DUMMY;case"ketnet":return this.KETNET;case"sporza":return this.SPORZA;case"vrtnu":return this.VRT_NU;case"vrtnws":return this.VRT_NWS;default:return console.warn("WARNING: unknown preset '"+e.toLowerCase()+"' found in config. Falling back to the default preset!"),this.DEFAULT}},e.mergeWithConfig=function(e,t){var n=Et(Et({},e),t);return n.uiLanguage=c.isLanguageSupported(n.uiLanguage)?n.uiLanguage.toLowerCase():h.DEFAULTS.uiLanguage,"string"==typeof n.color&&(n.color=gt.getColor(n.color)),Object.values(lt).includes(n.skin)||(console.warn("WARNING: skin '"+t.skin+"' not found. Falling back to the default skin!"),t.skin="default"),n},e.DEFAULT={skin:lt.DEFAULT,color:gt.GREEN},e.DUMMY={skin:lt.DUMMY,color:gt.GREEN},e.KETNET={skin:lt.KETNET,color:gt.KETNET},e.SPORZA={skin:lt.SPORZA,color:gt.GREEN},e.VRT_NU={skin:lt.VRTNU,color:gt.GREEN},e.VRT_NWS={skin:lt.VRTNWS,color:gt.GREEN},e}(),Pt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},Rt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},wt=function(e,t,n){var r=this;this.version="1.9.9-prod-2021-10-21T12:48:33",this.playerCount=0,this.getNextId=function(){return"vrtplayer-id-"+r.playerCount++};var i=[],a=new WeakMap;this.get=function(e,t,n,r,i,a,l){return o(e,t,n,r,i,a,l)},this.updateIdentityToken=function(e){return Pt(r,void 0,void 0,(function(){var t,n;return Rt(this,(function(r){switch(r.label){case 0:if(te.lastIdentityToken===e)return[2];h.DEFAULTS.identityToken=e,te.clearToken(),t=function(t){var n;return Rt(this,(function(r){switch(r.label){case 0:return n=i[t],0!==t?[3,2]:(n.playerPublisher.publish(T.internalPlayerEvents.newIdentityTokenReceived,{newIdentityToken:e}),[4,new Promise((function(e,t){n.playerPublisher.addSubscriber(T.internalPlayerEvents.identityTokenUpdated,(function(t){e()}))}))]);case 1:return r.sent(),[3,3];case 2:n.playerPublisher.publish(T.internalPlayerEvents.forceReload,{newIdentityToken:e}),r.label=3;case 3:return[2]}}))},n=0,r.label=1;case 1:return n<i.length?[5,t(n)]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},this.unloadPlayers=function(){return Pt(r,void 0,void 0,(function(){var e,t;return Rt(this,(function(n){for(h.DEFAULTS.identityToken="",te.clearToken(),e=0,t=i;e<t.length;e++)t[e].playerPublisher.publish(T.internalPlayerEvents.unLoad);return[2]}))}))};var o=function(e,t,n,i,o,l,s){if(!e)throw new Error("The get method should always be called with a player element!");var c=a.get(e)||new Promise((function(a,c){var p;p=e.hasAttribute("data-id")?e.getAttribute("data-id"):r.getNextId(),e.setAttribute("data-id",p),u(e,t,n,i,o).then((function(t){var n=document.getElementById(p);n&&n instanceof HTMLIFrameElement?e=n:y(e,t),l&&l(t),a(t)})).catch((function(t){e.parentElement.removeChild(e),s(t),c(t)}))}));return a.set(e,c),c},l=!0,s=!1,u=function(t,a,o,u,p){return new Promise((function(y,f){return Pt(r,void 0,void 0,(function(){var r,v,b,m,g,E,A,P=this;return Rt(this,(function(R){try{r=t.getAttribute("data-id"),p=At.mergeWithConfig(At.getPreset(a.preset),p),v=new T(p.uiLanguage),b=function(){return Pt(P,void 0,void 0,(function(){return Rt(this,(function(r){switch(r.label){case 0:return c(t),[4,d(t,p.skin)];case 1:return r.sent(),[2,new Promise((function(r,l){if(a.eventMappings)for(var s=0,c=a.eventMappings;s<c.length;s++){var d=c[s];v.addSubscriber(v.detectPublicEventTypeFromString(d.event),d.handler)}var y=function(e,t){return!!t.find((function(t){if(t.playerElement.id===e.id)return t}))};v.addOneTimeSubscriber(T.internalPlayerEvents.ready,(function(){y(t,i)||(i.push({playerElement:t,playerInstance:b,playerPublisher:v}),r(b))})),v.addOneTimeSubscriber(T.publicPlayerEvents.error,(function(){y(t,i)||(i.push({playerElement:t,playerInstance:b,playerPublisher:v}),r(b))})),v.addOneTimeSubscriber(T.internalPlayerEvents.destroy,(function(e){i.splice(i.indexOf(i.find((function(e){return e.playerElement===t}))),1)}));var f=new at(a.mediaReference?a.mediaReference:a.mediaReferences?a.mediaReferences:null,o),b=new mt({productionMode:e,containerElement:t,libraryLocation:n,aggregatorUrl:a.aggregatorUrl,clientCode:a.clientCode?a.clientCode:null,identityToken:a.identityToken?a.identityToken:h.DEFAULTS.identityToken,showNoErrors:a.customErrorHandling,preloadMode:a.preloadMode?a.preloadMode:h.DEFAULTS.preloadMode,abrStrategy:a.abrStrategy?a.abrStrategy:h.DEFAULTS.abrStrategy,playerMode:a.playerMode?a.playerMode:h.DEFAULTS.playerMode,aspectRatio:a.aspectRatio?a.aspectRatio:h.DEFAULTS.aspectRatio,cimId:a.cimId?a.cimId:h.DEFAULTS.cimId,nextUpDelay:a.nextUpDelay?a.nextUpDelay:h.DEFAULTS.nextUpDelay,nextUpAutoPlay:a.nextUpAutoPlay?a.nextUpAutoPlay:h.DEFAULTS.nextUpAutoPlay,authoringMode:!1!==a.authoringMode?a.authoringMode:h.DEFAULTS.authoringMode,startMutedOverride:!1!==a.startMutedOverride?a.startMutedOverride:h.DEFAULTS.startMutedOverride,autoplay:!1!==a.autoplay?a.autoplay:h.DEFAULTS.autoplay,analyticsAssetNameOverride:a.analyticsAssetNameOverride?a.analyticsAssetNameOverride:null,isLiveStartOver:!1!==a.isLiveStartOver?a.isLiveStartOver:h.DEFAULTS.isLiveStartOver,startOverBegin:a.startOverBegin?a.startOverBegin:h.DEFAULTS.startOverBegin,startOverEnd:a.startOverEnd?a.startOverEnd:h.DEFAULTS.startOverEnd,uiConfig:p,adConfig:u},f,v)}))]}}))}))};try{(m=te.loadStoredToken(a.aggregatorUrl))&&!m.hasNotExpired()&&(te.clearToken(),l=!0,s=!1)}catch(e){te.clearToken(),l=!0,s=!1}if(!(g=a.mediaReference?a.mediaReference:a.mediaReferences&&a.mediaReferences.length>0?a.mediaReferences[0]:null))throw new Error("["+r+"]A single mediaReference or mediaReferences array is required!");E=Ae.isVrtMediaReference(g),l&&E?(l=!1,v.addOneTimeSubscriber(T.internalPlayerEvents.tokenAcquired,(function(e){s=!0})),y(b())):s||!E?y(b()):A=setInterval((function(){s&&(clearInterval(A),y(b()))}),50)}catch(e){f("Cannot create player: "+e)}return[2]}))}))}))},c=function(e){var t=document.createElement("div");t.className="player-controls-container",t.style.display="none",e.appendChild(t)},p=function(e,t,n,r,i){var a=t.querySelector(n);a&&a.addEventListener("click",(function(){i?e[r](i):e[r]()}))},d=function(e,n){return Pt(r,void 0,void 0,(function(){var r,i,a;return Rt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e.getAttribute("data-id"),[4,_.doGet(t+"templates/"+n+"/overlay.html",!1,[])];case 1:return r=o.sent(),[4,_.doGet(t+"templates/"+n+"/controls.html",!1,[])];case 2:return i=o.sent(),e.classList.add("theoplayer-container","video-js","theoplayer-skin"),e.innerHTML+=r.response,e.children[0].innerHTML=i.response,[3,4];case 3:throw a=o.sent(),new Error("Speler skin kan niet geladen worden! ("+a+")");case 4:return[2]}}))}))},y=function(e,t){p(t,e,".player-overlay-cast","toggleCast"),p(t,e,".player-overlay-airplay","toggleCast"),p(t,e,".player-overlay-skip","skipAd"),p(t,e,".player-up-next-container","next"),p(t,e,".player-overlay-btn-play","play"),p(t,e,".player-overlay-btn-mobile-play-toggle","togglePlay"),p(t,e,".player-controls-play-pause","togglePlay"),p(t,e,".player-controls-goback","rewindSeconds",10),p(t,e,".player-controls-forward","rewindSeconds",-10),p(t,e,".player-controls-mute","toggleMute"),p(t,e,".player-controls-startover","liveStartOver"),p(t,e,".player-controls-subtitles","toggleSubtitles"),p(t,e,".player-controls-fullscreen","toggleFullscreen")}},St=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},Tt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};new(function(){function e(){var e=this;this.window=window,this.isProductionMode=!1,D.loadPolyfills((function(){return St(e,void 0,void 0,(function(){var e;return Tt(this,(function(t){switch(t.label){case 0:this.cdnUrl=D.getCdnUrl(),this.cdnUrl,t.label=1;case 1:return t.trys.push([1,5,,6]),[4,D.loadLibrary("https://browser.sentry-cdn.com/5.17.0/bundle.min.js",{attributes:{integrity:"sha384-lowBFC6YTkvMIWPORr7+TERnCkZdo5ab00oH5NkFLeQUAmBTLGwJpFjF6djuxJ/5",crossOrigin:"anonymous"}},!0)];case 2:return t.sent(),this.window.Sentry&&this.window.Sentry.init({dsn:"https://a49787537bc74c57bee5982de257cdf8@o140591.ingest.sentry.io/1534551",sampleRate:.1,environment:"Production",integrations:{globalHandlers:{onerror:!1,onunhandledrejection:!1}},ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"],blacklistUrls:[/extensions\//i,/^chrome:\/\//i],whitelistUrls:[/(mediaplayer\/js\/main)+/g],beforeSend:function(e,t){return t&&t.originalException&&t.originalException.stack&&t.originalException.stack.search("mediaplayer/js/main")>-1?e:null}}),[4,Promise.all([D.loadCSS(this.cdnUrl+"css/player.css"),D.loadCSS(this.cdnUrl+"theo/ui.css"),D.loadLibrary(this.cdnUrl+"theo/THEOplayer.js",{}),D.loadLibrary(this.cdnUrl+"js/focus/focus-visible.js",{}),D.loadLibrariesSequential([this.cdnUrl+"js/element-queries/ResizeSensor.js",this.cdnUrl+"js/element-queries/ElementQueries.js"]),D.loadLibrariesSequential([this.cdnUrl+"js/tippy/popper.min.js",this.cdnUrl+"js/tippy/index.all.min.js"]),D.loadLibraryOnCondition("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",we.canChromecast(),!0),D.loadLibrary("https://www.youtube.com/iframe_api",{},!0,"onYouTubeIframeAPIReady"),D.loadLibrary("https://imasdk.googleapis.com/js/sdkloader/ima3.js",{},!0),this.productionModeCheck()])];case 3:return t.sent(),this.window.ElementQueries.listen(),this.window.ElementQueries.init(),Promise.all([I.loadLibrary(),G.loadLibrary()]).then((function(){})),[4,this.registerPlayerCreationFunctions()];case 4:return t.sent(),window.dispatchEvent(new CustomEvent("vrtPlayerBootstrapped")),[3,6];case 5:return e=t.sent(),window.dispatchEvent(new CustomEvent("vrtPlayerBootstrapFailed")),b.errorToSentry("Player bootstrap",e),[3,6];case 6:return[2]}}))}))}))}return e.prototype.productionModeCheck=function(){var e=this;return new Promise((function(t,n){if(null!==document.getElementById("devEnabled"))var r=setInterval((function(){null!==document.body&&(clearInterval(r),document.body.classList.add("dev"))}),10);else e.isProductionMode=!0;t()}))},e.prototype.registerPlayerCreationFunctions=function(){return St(this,void 0,void 0,(function(){var e;return Tt(this,(function(t){switch(t.label){case 0:return e=this.window,[4,new wt(this.isProductionMode,this.cdnUrl,this.cdnUrl+"theo/")];case 1:return e.VRTMediaPlayer=t.sent(),[2]}}))}))},e}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvdXRpbHMvdHJhbnNsYXRpb24vdHJhbnNsYXRvci50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbW9kZWwvY29uZmlnLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9lcnJvci1oYW5kbGVyLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC9xdWFsaXR5LnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC92aWRlby1xdWFsaXR5LnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC9ldmVudGluZy9wbGF5ZXItZXZlbnRzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC9tZWRpYS1pbmZvLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC9ldmVudGluZy9pbnRlcm5hbC1wbGF5ZXItZXZlbnRzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC9ldmVudGluZy9wdWJsaWMtcGxheWVyLWV2ZW50cy50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbW9kZWwvZXZlbnRpbmcvYXBpLWNhbGwtZXZlbnRzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9wbGF5ZXIvcHVibGlzaGVyLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy91dGlscy9wcm9taXNlLXV0aWxzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9hbmFseXRpY3MvZGVmZXJyZWQtZXhlY3V0b3IudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL2xvZ2ljL2FuYWx5dGljcy9hZG9iZS1hbmFseXRpY3Mtc2VydmljZS50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvdXRpbHMvcmVtb3RlLXV0aWxzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy91dGlscy9icm93c2VyLXV0aWxzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9hbmFseXRpY3MvY2ltLWFuYWx5dGljcy1zZXJ2aWNlLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC9zb3VyY2UtZGVzY3JpcHRpb24udHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL21vZGVsL3R5cGVkLXNvdXJjZS50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbG9naWMvdXNlci1wcmVmZXJlbmNlcy1tYW5hZ2VyLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9hbmFseXRpY3MvYW5hbHl0aWNzLXJlZmVyZW5jZS1leHRyYWN0b3IudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL2xvZ2ljL3NvdXJjZS1zZXJ2aWNlL3NvdXJjZS1zZXJ2aWNlLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9zb3VyY2Utc2VydmljZS9zb3VyY2Utc2VydmljZS1zdGFuZGFsb25lLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9tZWRpYS1lbnJpY2hlci9tZWRpYS1lbnJpY2hlci50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbG9naWMvbWVkaWEtZW5yaWNoZXIvbWVkaWEtZW5yaWNoZXItc3RhbmRhbG9uZS12aWRlby50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbW9kZWwvdG9rZW4udHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL2xvZ2ljL3Rva2VuLWZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL2xvZ2ljL2FnZ3JlZ2F0b3Itc2VydmljZS50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbW9kZWwvZHJtLWNvbmZpZy50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbG9naWMvZHJtLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL21vZGVsL3NjaGVkdWxlLWl0ZW0udHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL2xvZ2ljL3Byb2dyYW1taW5nLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL2xvZ2ljL3NvdXJjZS1zZXJ2aWNlL3NvdXJjZS1zZXJ2aWNlLXZydC50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbG9naWMvbWVkaWEtZW5yaWNoZXIvbWVkaWEtZW5yaWNoZXItdnJ0LnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9tZWRpYS1lbnJpY2hlci9tZWRpYS1lbnJpY2hlci15b3V0dWJlLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9jb250ZW50LWRldGVjdG9yLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC9pbnRlcm5hbC1sb2dpYy50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbW9kZWwvcGxheWJhY2stc3RhdGUudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL3V0aWxzL2NhcGFiaWxpdGllcy50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvcGxheWVyL3BsYXliYWNrL3BsYXliYWNrLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9wbGF5ZXIvcGxheWJhY2sveW91dHViZS1wbGF5YmFjay50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbW9kZWwvYXVkaW8tcXVhbGl0eS50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvdXRpbHMvdGltZS11dGlscy50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvdXRpbHMvYWNjZXNzaWJpbGl0eS11dGlscy50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvdXRpbHMvZG9tLXV0aWxzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9wbGF5ZXIvdWktY29udHJvbHMvc2tpbi12YWxpZGF0b3IudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL3BsYXllci91aS1jb250cm9scy9jb250cm9scy1za2luLXZhbGlkYXRvci50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvcGxheWVyL3VpLWNvbnRyb2xzL3BsYXllci1jb250cm9scy50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvcGxheWVyL3VpLWNvbnRyb2xzL21lZGlhLWNvbnRyb2xzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9wbGF5ZXIvdWktY29udHJvbHMvb3ZlcmxheS1za2luLXZhbGlkYXRvci50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvcGxheWVyL3VpLWNvbnRyb2xzL292ZXJsYXktY29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL3BsYXllci9hYnN0cmFjdGlvbi1sYXllci9wbGF5ZXItYWJzdHJhY3Rpb24tbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL3BsYXllci9hYnN0cmFjdGlvbi1sYXllci90aGVvLWFic3RyYWN0aW9uLWxheWVyLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9wbGF5ZXIvYWJzdHJhY3Rpb24tbGF5ZXIvaGVhZGxlc3MtdGhlby1hYnN0cmFjdGlvbi1sYXllci50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvcGxheWVyL2Fic3RyYWN0aW9uLWxheWVyL3lvdXR1YmUtYWJzdHJhY3Rpb24tbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL21vZGVsL3BsYXlsaXN0LnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9tb2RlbC9wcmVzZXRzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9sb2dpYy9wZWJibGUtc2VydmljZS50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvcGxheWVyL3BsYXliYWNrL3JlZ3VsYXItcGxheWJhY2sudHMiLCJ3ZWJwYWNrOi8vdnJ0LW1lZGlhcGxheWVyLy4vc3JjL3BsYXllci9wbGF5ZXItYXBpLWRlY29yYXRvci50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvdnJ0LXBsYXllci50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvbW9kZWwvY29sb3JzLnRzIiwid2VicGFjazovL3ZydC1tZWRpYXBsYXllci8uL3NyYy9wbGF5ZXItY3JlYXRvci50cyIsIndlYnBhY2s6Ly92cnQtbWVkaWFwbGF5ZXIvLi9zcmMvYm9vdHN0cmFwcGVyLnRzIl0sIm5hbWVzIjpbIkxhbmd1YWdlIiwiTkVYVF9VUF9BVVRPUExBWSIsIlBSRUxPQURfTU9ERVMiLCJBQlJfU1RSQVRFR0lFUyIsIlBMQVlFUl9NT0RFUyIsImlzTGFuZ3VhZ2VTdXBwb3J0ZWQiLCJsYW5ndWFnZSIsImxhbmd1YWdlcyIsIk9iamVjdCIsInZhbHVlcyIsImlzU3VwcG9ydGVkIiwiaW5kZXhPZiIsInRvTG93ZXJDYXNlIiwiY29uc29sZSIsIndhcm4iLCJjb252ZXJ0VG9TdXBwb3J0ZWRUaGVvTGFuZ3VhZ2UiLCJEVVRDSCIsIkRVVENIX0tFVE5FVCIsIkZSRU5DSCIsIkdFUk1BTiIsIkVOR0xJU0giLCJnZXRWYWx1ZSIsImtleSIsInJldHVybk51bGxGb3JVbmtub3duS2V5cyIsInZhbHVlIiwicmV0cmlldmVkVmFsdWUiLCJ0aGlzIiwidHJhbnNsYXRpb25zIiwiZXJyb3IiLCJ0cmFuc2xhdGVBbGxFbGVtZW50cyIsInJvb3RFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtZW50IiwiVHJhbnNsYXRvciIsImdldEF0dHJpYnV0ZSIsImhhc0F0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwibmwiLCJmciIsImRlIiwiZW4iLCJubF9rZXRuZXQiLCJFcnJvckNvZGVzIiwicHJvZHVjdGlvbk1vZGUiLCJjb250YWluZXJFbGVtZW50IiwibGlicmFyeUxvY2F0aW9uIiwiYWdncmVnYXRvclVybCIsImNsaWVudENvZGUiLCJpZGVudGl0eVRva2VuIiwic2hvd05vRXJyb3JzIiwicHJlbG9hZE1vZGUiLCJwbGF5ZXJNb2RlIiwiYXNwZWN0UmF0aW8iLCJhZENvbmZpZyIsInVpQ29uZmlndXJhdGlvbiIsImNpbUlkIiwibmV4dFVwRGVsYXkiLCJuZXh0VXBBdXRvUGxheSIsImF1dGhvcmluZ01vZGUiLCJ1aUNvbmZpZyIsImlzTGl2ZVN0YXJ0T3ZlciIsImdldFRoZW9Db25maWciLCJjb25maWciLCJhbGxvd05hdGl2ZUZ1bGxzY3JlZW4iLCJtdXRlZEF1dG9wbGF5IiwicGVyc2lzdFZvbHVtZSIsImlzRW1iZWRkYWJsZSIsInVpIiwiZmx1aWQiLCJ1aUxhbmd1YWdlIiwiY2FzdCIsInN0cmF0ZWd5IiwiY2hyb21lY2FzdCIsImFwcElEIiwiYWRzIiwic2hvd0NvdW50ZG93biIsIkRFRkFVTFRTIiwic2tpbiIsImNvbG9yIiwiTUVUQURBVEEiLCJhYnJTdHJhdGVneSIsIkJBTkRXSURUSCIsInN0YXJ0TXV0ZWRPdmVycmlkZSIsImF1dG9wbGF5IiwiVklERU8iLCJzdGFydE92ZXJCZWdpbiIsInN0YXJ0T3ZlckVuZCIsImJhbmR3aWR0aCIsImZyYW1lcmF0ZSIsIndpZHRoIiwiaGVpZ2h0IiwiUXVhbGl0eSIsInB1Ymxpc2hlciIsImhhbmRsZUVycm9yRnJvbUFnZ3JlZ2F0b3IiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJKU09OIiwicGFyc2UiLCJlIiwiY29kZSIsIm1lc3NhZ2UiLCJldmVudCIsIlB1Ymxpc2hlciIsInB1YmxpY1BsYXllckV2ZW50cyIsImNvbnRlbnQiLCJBR0dSRUdBVE9SX0VSUk9SX0lOVkFMSURfVE9LRU4iLCJBR0dSRUdBVE9SX0VSUk9SX1ZJREVPX05PVF9GT1VORCIsIkFHR1JFR0FUT1JfRVJST1JfSU5WQUxJRF9JTlRFUlZBTCIsIkFHR1JFR0FUT1JfRVJST1JfR0VPQkxPQ0tFRCIsIkFHR1JFR0FUT1JfRVJST1JfTk9UX0FVVEhFTlRJQ0FURUQiLCJBR0dSRUdBVE9SX0VSUk9SX0lOQ09NUExFVEVfUFJPRklMRSIsIkFHR1JFR0FUT1JfRVJST1JfTk9fUk9BTUlORyIsIkFHR1JFR0FUT1JfUFJPWFlfRVJST1IiLCJBR0dSRUdBVE9SX0VSUk9SX05PVF9BVVRIRU5USUNBVEVEX0FORF9ST0FNSU5HX1JFUVVJUkVEIiwiQUdHUkVHQVRPUl9FUlJPUl9BR0VfUkVTVFJJQ1RFRCIsIkFHR1JFR0FUT1JfRVJST1JfR0VORVJBTCIsInB1Ymxpc2giLCJleHRyYUV2ZW50IiwicGxheW5vdGFsbG93ZWQiLCJoYW5kbGVFcnJvckZyb21WMkFnZ3JlZ2F0b3IiLCJzdGF0dXMiLCJoYW5kbGVZb3VUdWJlRXJyb3IiLCJpbnRlcm5hbENvZGUiLCJQTEFZRVJfWU9VVFVCRV9FUlJPUl9JTlZBTElEX1BBUkFNIiwiUExBWUVSX1lPVVRVQkVfRVJST1JfSFRNTDUiLCJQTEFZRVJfWU9VVFVCRV9FUlJPUl9WSURFT19OT1RfRk9VTkQiLCJQTEFZRVJfWU9VVFVCRV9FUlJPUl9FTUJFRCIsIlBMQVlFUl9ZT1VUVUJFX0VSUk9SX0dFTkVSQUwiLCJoYW5kbGVFcnJvciIsImtleU9yTWVzc2FnZSIsInRyYW5zbGF0ZWRLZXkiLCJoYW5kbGVXYXJuaW5nIiwid2FybmluZyIsImVycm9yVG9TZW50cnkiLCJmaW5nZXJwcmludE5hbWUiLCJ3Iiwid2luZG93IiwiU2VudHJ5Iiwid2l0aFNjb3BlIiwic2NvcGUiLCJzcGVjaWZpY0Vycm9yIiwibmFtZSIsInN0cmluZ2lmeSIsIkVycm9yIiwiZGF0YSIsInNldEZpbmdlcnByaW50IiwiY2FwdHVyZUV4Y2VwdGlvbiIsImNyZWF0ZUVycm9yIiwiTWVkaWFUeXBlcyIsInJlYWR5IiwicGxheSIsInVwZGF0ZVRpdGxlIiwidXBkYXRlVGljayIsImFkSXNQbGF5aW5nVGljayIsInByb21vdGlvbmFsSXNQbGF5aW5nVGljayIsInRyYWlsZXJJc1BsYXlpbmdUaWNrIiwib25ib2FyZGluZ0lzUGxheWluZ1RpY2siLCJub3JtYWxDb250ZW50SXNQbGF5aW5nVGljayIsInhDZG5DaGFuZ2VkIiwibWVkaWFSZWZlcmVuY2VDaGFuZ2VkIiwic2hvd0Vycm9yIiwiZHVyYXRpb25TZXQiLCJuZXh0dXBBbm5vdW5jZWQiLCJwbGF5bGlzdFNvdXJjZVJlcXVlc3RlZCIsIm5ld0lkZW50aXR5VG9rZW5SZWNlaXZlZCIsImlkZW50aXR5VG9rZW5VcGRhdGVkIiwiZm9yY2VSZWxvYWQiLCJ0b2tlbkFjcXVpcmVkIiwicmVzZXQiLCJ1bkxvYWQiLCJkZXN0cm95IiwiY3JpdGljYWxFcnJvciIsInVwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsImtleXMiLCJwcm9wZXJ0eU5hbWUiLCJQbGF5ZXJFdmVudHMiLCJjYW5wbGF5IiwicGxheWluZyIsInBhdXNlIiwiZW5kZWQiLCJzZWVraW5nIiwic2Vla2VkIiwidm9sdW1lY2hhbmdlIiwiYnVmZmVyaW5nQ29tcGxldGVkIiwidGltZXVwZGF0ZSIsImZpcnN0cGxheSIsInN0YXJ0b3ZlciIsImFkYnJlYWtiZWdpbiIsImFkYnJlYWtlbmQiLCJhZHNraXBwZWQiLCJwcm9tb3Rpb25hbHN0YXJ0ZWQiLCJuZXh0cHJvbW90aW9uYWxzdGFydGVkIiwicHJvbW90aW9uYWxlbmRlZCIsInByb21vdGlvbmFsc2tpcHBlZCIsImZ1bGxzY3JlZW5lbnRlciIsImZ1bGxzY3JlZW5leGl0IiwiY2FzdGluZ3N0YXJ0ZWQiLCJjYXN0aW5nc3RvcHBlZCIsImJ1ZmZlcmluZyIsInF1YWxpdHljaGFuZ2VkIiwic291cmNlbG9hZGVkIiwic291cmNlY2hhbmdlZCIsIm5leHRzb3VyY2VyZXF1ZXN0ZWQiLCJwcmV2aW91c3NvdXJjZXJlcXVlc3RlZCIsImxpdmVwcm9ncmFtY2hhbmdlIiwibmV4dHVwYW5ub3VuY2VkIiwibmV4dHVwcmVtb3ZlZCIsImV4aXRpbmciLCJzZWVrQWxsb3dlZCIsInNlZWtOb3RBbGxvd2VkIiwiZGljdCIsImV2ZW50SW5zdGFuY2UiLCJkaWN0aW9uYXJ5IiwiZ2V0QnlOYW1lIiwiZGVzdHJveUFwaUNhbGwiLCJwbGF5QXBpQ2FsbCIsInBhdXNlQXBpQ2FsbCIsInRvZ2dsZVBsYXlBcGlDYWxsIiwic2tpcEFkQXBpQ2FsbCIsInRvZ2dsZUNhc3RBcGlDYWxsIiwidG9nZ2xlTXV0ZUFwaUNhbGwiLCJyZXdpbmRTZWNvbmRzQXBpQ2FsbCIsImZhc3RTZWVrQXBpQ2FsbCIsImxpdmVTdGFydE92ZXJBcGlDYWxsIiwidG9nZ2xlU3VidGl0bGVzQXBpQ2FsbCIsInRvZ2dsZUZ1bGxzY3JlZW5BcGlDYWxsIiwiZGlzYWJsZUludGVyZmFjZUFwaUNhbGwiLCJlbmFibGVJbnRlcmZhY2VBcGlDYWxsIiwidGhyb3dFcnJvckFwaUNhbGwiLCJzaG93VGl0bGVBcGlDYWxsIiwibmV4dEFwaUNhbGwiLCJwcmV2aW91c0FwaUNhbGwiLCJnb3RvQXBpQ2FsbCIsImFkZFRvUGxheWxpc3RBcGlDYWxsIiwic2V0UXVhbGl0eUFwaUNhbGwiLCJtdXRlQXBpQ2FsbFNldCIsIm11dGVBcGlDYWxsR2V0IiwibXV0ZUFwaUNhbGxHZXRSZXR1cm4iLCJ2b2x1bWVBcGlDYWxsU2V0Iiwidm9sdW1lQXBpQ2FsbEdldCIsInZvbHVtZUFwaUNhbGxHZXRSZXR1cm4iLCJkdXJhdGlvbkFwaUNhbGxHZXQiLCJkdXJhdGlvbkFwaUNhbGxHZXRSZXR1cm4iLCJjdXJyZW50VGltZUFwaUNhbGxTZXQiLCJjdXJyZW50VGltZUFwaUNhbGxHZXQiLCJjdXJyZW50VGltZUFwaUNhbGxHZXRSZXR1cm4iLCJjdXJyZW50RGF0ZVRpbWVBcGlDYWxsR2V0IiwiY3VycmVudERhdGVUaW1lQXBpQ2FsbEdldFJldHVybiIsInBhdXNlZEFwaUNhbGxHZXQiLCJwYXVzZWRBcGlDYWxsR2V0UmV0dXJuIiwibG9vcEFwaUNhbGxTZXQiLCJsb29wQXBpQ2FsbEdldCIsImxvb3BBcGlDYWxsR2V0UmV0dXJuIiwiY3VycmVudFNyY0FwaUNhbGxHZXQiLCJjdXJyZW50U3JjQXBpQ2FsbEdldFJldHVybiIsImN1cnJlbnRNZWRpYVJlZmVyZW5jZUFwaUNhbGxHZXQiLCJjdXJyZW50TWVkaWFSZWZlcmVuY2VBcGlDYWxsR2V0UmV0dXJuIiwic3JjQXBpQ2FsbFNldCIsInNyY0FwaUNhbGxHZXQiLCJzcmNBcGlDYWxsR2V0UmV0dXJuIiwic2Vla2FibGVBcGlDYWxsR2V0Iiwic2Vla2FibGVBcGlDYWxsR2V0UmV0dXJuIiwiaGFzUGxheWVkQXBpQ2FsbEdldCIsImhhc1BsYXllZEFwaUNhbGxHZXRSZXR1cm4iLCJjb250cm9sc0FwaUNhbGxTZXQiLCJjb250cm9sc0FwaUNhbGxHZXQiLCJjb250cm9sc0FwaUNhbGxHZXRSZXR1cm4iLCJwbGF5bGlzdFNpemVBcGlDYWxsR2V0IiwicGxheWxpc3RTaXplQXBpQ2FsbEdldFJldHVybiIsImN1cnJlbnRQbGF5bGlzdEl0ZW1BcGlDYWxsR2V0IiwiY3VycmVudFBsYXlsaXN0SXRlbUFwaUNhbGxHZXRSZXR1cm4iLCJhY3RpdmVTdWJ0aXRsZXNBcGlDYWxsR2V0IiwiYWN0aXZlU3VidGl0bGVzQXBpQ2FsbEdldFJldHVybiIsImF2YWlsYWJsZVF1YWxpdGllc0FwaUNhbGxHZXQiLCJhdmFpbGFibGVRdWFsaXRpZXNBcGlDYWxsR2V0UmV0dXJuIiwiYXV0b3BsYXlBcGlDYWxsU2V0IiwiYXV0b3BsYXlBcGlDYWxsR2V0IiwiYXV0b3BsYXlBcGlDYWxsR2V0UmV0dXJuIiwibWFwIiwiTWFwIiwiZXJyb3JIYW5kbGVyIiwiRXJyb3JIYW5kbGVyIiwiaGFzIiwiZ2V0Iiwic2xpY2UiLCJoYW5kbGVyIiwiYWN0dWFsRXZlbnQiLCJhc3NpZ24iLCJQTEFZRVJfQVBJX0VSUk9SX0VWRU5UX0hBTkRMRVIiLCJoYW5kbGVyU3RyaW5nIiwidG9TdHJpbmciLCJhZGRTdWJzY3JpYmVyIiwicHVzaCIsInNldCIsImFkZE9uZVRpbWVTdWJzY3JpYmVyIiwidGhhdCIsImhhbmRsZXJXcmFwcGVyIiwiaGFuZGxlZEV2ZW50IiwicmVtb3ZlU3Vic2NyaWJlciIsImFkZE9uZVRpbWVGaXJzdE9mTXVsdGlwbGVFdmVudHNTdWJzY3JpYmVyIiwiZXZlbnRzIiwib25lVGltZUhhbmRsZXIiLCJoYW5kbGVycyIsImluZGV4T2ZIYW5kbGVyIiwic3BsaWNlIiwiZGV0ZWN0UHVibGljRXZlbnRUeXBlRnJvbVN0cmluZyIsImFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIiLCJldmVudEhhbmRsZXJzIiwiZXZlbnRIYW5kbGVyIiwiUHVibGljUGxheWVyRXZlbnRzIiwiaW50ZXJuYWxQbGF5ZXJFdmVudHMiLCJJbnRlcm5hbFBsYXllckV2ZW50cyIsImFwaUNhbGxFdmVudHMiLCJBcGlDYWxsRXZlbnRzIiwid2FpdCIsImR1cmF0aW9uIiwiUHJvbWlzZSIsInJlcyIsInNldFRpbWVvdXQiLCJiYWNrb2ZmIiwicmV0cmllcyIsImZuIiwiaW5pdGlhbERlbGF5IiwiY2F0Y2giLCJlcnIiLCJQcm9taXNlVXRpbHMiLCJ0aGVuIiwicmVqZWN0IiwiZGVib3VuY2UiLCJmdW5jIiwidGltZW91dCIsImxhdGVyIiwiY2xlYXJUaW1lb3V0IiwiYXJncyIsInR5cGUiLCJleGVjdXRpb25RdWV1ZSIsImV4ZWN1dGVPclF1ZXVlIiwiaW5zdGFuY2UiLCJleGVjdXRpb24iLCJpc0xvYWRlZEFuZENhbkV4ZWN1dGUiLCJjbGVhclF1ZXVlIiwibGVuZ3RoIiwic2hpZnQiLCJwbGF5ZXJBYnN0cmFjdGlvbkxheWVyIiwibWVkaWFJbmZvIiwicGxheWVyU3RhcnR1cFRpbWUiLCJsYXN0Qml0UmF0ZSIsImxhc3RGcmFtZXJhdGUiLCJwYWwiLCJzZXNzaW9uU3RhcnRlZCIsImJsb2NrRXZlbnRzIiwibG9hZEFkb2JlQW5hbHl0aWNzIiwibG9hZExpYnJhcnkiLCJyZXNvbHZlIiwiQWRvYmVBbmFseXRpY3NTZXJ2aWNlIiwiaXNBZG9iZUFuYWx5dGljc0xpYnJhcnlMb2FkZWQiLCJhbmFseXRpY3MiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJvbmVycm9yIiwib25sb2FkIiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiVmlzaXRvciIsIkFwcE1lYXN1cmVtZW50IiwiQURCIiwiTWVkaWFIZWFydGJlYXQiLCJNZWRpYUhlYXJ0YmVhdERlbGVnYXRlIiwibWVkaWFIZWFydGJlYXQiLCJoZWFydGJlYXREZWxlZ2F0ZSIsImdldEN1cnJlbnRQbGF5YmFja1RpbWUiLCJnZXRRb1NPYmplY3QiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImhlYXJ0YmVhdEluc3RhbmNlIiwiY3JlYXRlSGVhcnRiZWF0RGVsZWdhdGUiLCJnZXRJbnN0YW5jZSIsImRlYnVnTG9nZ2luZyIsIk1lZGlhSGVhcnRiZWF0Q29uZmlnIiwiUExBWUVSX0ZVTkNUSU9OU19BRE9CRV9BTkFMWVRJQ1NfRVJST1IiLCJfY29uZmlnIiwiZGlnaXRhbERhdGEiLCJwYWdlIiwiYnJhbmRfdGVjaG5vbG9neSIsIm92cCIsImNoYW5uZWwiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiYWRkSW5pdGlhbExpc3RlbmVycyIsIm1lZGlhRGVsZWdhdGUiLCJ1cGRhdGVQbGF5YmFja1RpbWUiLCJiaW5kIiwidXBkYXRlUW9TIiwiY3JlYXRlTWVkaWFPYmplY3QiLCJzdHJlYW1UeXBlIiwibWVkaWFUeXBlIiwiaXNMaXZlU3RyZWFtIiwiU3RyZWFtVHlwZSIsIkxJVkUiLCJWT0QiLCJBVURJTyIsIkFPRCIsInRpdGxlIiwib3ZlcnJpZGRlbkFzc2V0TmFtZSIsImdldEFzc2V0TmFtZSIsInN0YW5kYXJkVmlkZW9NZXRhZGF0YSIsIlZpZGVvTWV0YWRhdGFLZXlzIiwiU0hPVyIsInByb2dyYW1fbmFtZSIsIlNFQVNPTiIsImVwaXNvZGVfc2Vhc29uIiwiQVNTRVRfSUQiLCJlcGlzb2RlX3doYXRzb25JZCIsIkdFTlJFIiwibGFiZWwiLCJFUElTT0RFIiwibWVkaWFPYmplY3QiLCJhbmFseXRpY3NSZWZlcmVuY2UiLCJTVFJFQU1fRk9STUFUIiwic2V0VmFsdWUiLCJNZWRpYU9iamVjdEtleSIsIlN0YW5kYXJkVmlkZW9NZXRhZGF0YSIsImNyZWF0ZUN1c3RvbU1ldGFkYXRhIiwiY29udGVudEJyYW5kIiwicHJvZ3JhbVdoYXRzb25JZCIsInRvdWNoUG9pbnRCcmFuZCIsInBsYXRmb3JtIiwicGFnZU5hbWUiLCJwYXRobmFtZSIsImJyYW5kX21lZGlhIiwicGFnZV91cmkiLCJwcm9ncmFtX3doYXRzb25JZCIsImN1c3RvbU1ldGFEYXRhIiwidG91Y2hwb2ludEJyYW5kIiwicHJvZ3JhbV93aGF0c29uaWQiLCJwbGF5ZXJWZXJzaW9uIiwibWVkaWEiLCJEYXRlIiwibm93IiwiYWRkUGxheWJhY2tFdmVudExpc3RlbmVycyIsInRyYWNrU2Vzc2lvblN0YXJ0IiwidHJhY2tQbGF5IiwidHJhY2tQYXVzZSIsInRyYWNrRXZlbnQiLCJFdmVudCIsIlNlZWtTdGFydCIsIlNlZWtDb21wbGV0ZSIsInRyYWNrQ29tcGxldGUiLCJ0cmFja1Nlc3Npb25FbmQiLCJxdWFsaXR5IiwiZ2V0QWN0aXZlUXVhbGl0eSIsIlZpZGVvUXVhbGl0eSIsImFkQ29udGV4dERhdGEiLCJhZmZpbGlhdGUiLCJjYW1wYWlnbiIsImFkQnJlYWtJbmZvIiwiY3JlYXRlQWRCcmVha09iamVjdCIsImFkSW5mbyIsImNyZWF0ZUFkT2JqZWN0IiwiaWQiLCJzdGFuZGFyZEFkTWV0YWRhdGEiLCJBZE1ldGFkYXRhS2V5cyIsIkFEVkVSVElTRVIiLCJhZHZlcnRpc2VyIiwiQ0FNUEFJR05fSUQiLCJTdGFuZGFyZEFkTWV0YWRhdGEiLCJBZEJyZWFrU3RhcnQiLCJBZFN0YXJ0IiwiQWRDb21wbGV0ZSIsIkFkQnJlYWtDb21wbGV0ZSIsIkFkU2tpcCIsImNyZWF0ZVFvU09iamVjdCIsImdldERyb3BwZWRGcmFtZUNvdW50IiwicGxheUhlYWQiLCJwbGF5SGVhZFBvc2l0aW9uIiwiaXNOYU4iLCJEZWZlcnJlZEV4ZWN1dG9yIiwiZXh0cmFjdERvbWFpbiIsInVybCIsInNwbGl0IiwiZG9HZXQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJoZWFkZXJzIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUZXh0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsImFkZEhlYWRlcnMiLCJzZW5kIiwiZG9Qb3N0IiwiaGVhZGVyIiwic2V0UmVxdWVzdEhlYWRlciIsImlzTW9iaWxlIiwiYSIsImNoZWNrIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVuZG9yIiwib3BlcmEiLCJ0ZXN0Iiwic3Vic3RyIiwiaXNNb2JpbGVPclRhYmxldCIsImlzQW5kcm9pZCIsIkJyb3dzZXJVdGlscyIsImlzVGhlb1BsYXllckxvYWRlZCIsIlRIRU9wbGF5ZXIiLCJ2aWRlb2pzIiwiYnJvd3NlciIsIklTX0FORFJPSUQiLCJJU19OQVRJVkVfQU5EUk9JRCIsIklTX09MRF9BTkRST0lEIiwiaXNJT1MiLCJJU19JT1MiLCJpc0Nocm9tZSIsIklTX0NIUk9NRSIsImRldGVjdEJyb3dzZXIiLCJpc0ZpcmVGb3giLCJJU19GSVJFRk9YIiwiaXNFZGdlIiwiSVNfRURHRSIsImlzSUUiLCJJRV9WRVJTSU9OIiwiaXNJRW9yRWRnZSIsImlzU2FmYXJpIiwiSVNfQU5ZX1NBRkFSSSIsImZpeElFIiwicGxheWVyRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImdldFBsYXRmb3JtIiwibG9hZFBvbHlmaWxscyIsIm9uUG9seWZpbGxzTG9hZGVkIiwicHJvbWlzZXMiLCJsb2FkTGlicmFyaWVzU2VxdWVudGlhbCIsImxpYnJhcnlVcmxzIiwicmVzb2x2ZU9uRXJyb3IiLCJsaWJyYXJ5VXJsIiwibG9hZExpYnJhcnlPbkNvbmRpdGlvbiIsImxpYlVybCIsImNvbmRpdGlvbiIsIm9wdGlvbnMiLCJyZXNvbHZlT25DYWxsYmFja05hbWUiLCJsaWIiLCJhdHRyaWJ1dGVzIiwibG9hZENTUyIsImNzc0xpYlVybCIsIlJlbW90ZVV0aWxzIiwiY3NzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzdHlsZSIsImNyZWF0ZVRleHROb2RlIiwiZ2V0Q2RuVXJsIiwicGxheWVyUm9vdCIsInNjcmlwdCIsInNlYXJjaCIsInJlcGxhY2UiLCJnZXRTaXRlVXJsUmVkdWNlZFRvRmlyc3RQYXRoSXRlbSIsImlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJ1YSIsIm1hdGNoIiwicGxheWVySWQiLCJpbnRlcnZhbENvdW50ZXIiLCJHZW1pdXNQbGF5ZXIiLCJnZW1pdXNQbGF5ZXIiLCJjdXJyZW50RG9tYWluIiwidm9sdW1lIiwiZ2V0Vm9sdW1lRm9yR2VtaXVzIiwicmVzb2x1dGlvbiIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwic2V0VmlkZW9PYmplY3QiLCJQTEFZRVJfRlVOQ1RJT05TX0NJTV9BTkFMWVRJQ1NfRVJST1IiLCJhZGRMaXN0ZW5lcnMiLCJub3JtYWxDb250ZW50U3RhcnRlZEhhbmRsZXIiLCJpc1BsYXlpbmciLCJwbGF5YmFja1N0YXJ0ZWRIYW5kbGVyIiwiZXZ0IiwibmV3UHJvZ3JhbSIsImNyZWF0ZUFkZGl0aW9uYWxQcm9ncmFtUGFyYW1ldGVycyIsInByb2dyYW1FdmVudCIsImNyZWF0ZUFkZGl0aW9uYWxQbGF5UGFyYW1ldGVycyIsImdldER1cmF0aW9uIiwidmlkZW8iLCJoYXNPd25Qcm9wZXJ0eSIsImF1dG9QbGF5IiwicGFydElkIiwicHJvZ3JhbVR5cGUiLCJwcm9ncmFtRHVyYXRpb24iLCJwcm9ncmFtTmFtZSIsInNlIiwiZ2V0U2l0ZVNlY3Rpb24iLCJjdCIsImdldENvbnRlbnRUeXBlIiwic3QiLCJnZXRTb3VyY2VUeXBlIiwidHYiLCJnZXRDaGFubmVsTmFtZUZvckdlbWl1cyIsIk1hdGgiLCJyb3VuZCIsImdldFZvbHVtZSIsImNoYW5uZWxJZCIsImNvbnRlbnRUeXBlIiwiaXNMaXZlIiwic2l0ZVNlY3Rpb25fMSIsInNpdGVTZWN0aW9uXzIiLCJzb3VyY2VzIiwidGV4dFRyYWNrcyIsIm1ldGFEYXRhIiwiZ2V0U291cmNlIiwibWVkaWFSZWZlcmVuY2UiLCJjaGFwdGVyaW5nIiwiZHJtIiwiZHJtRXhwaXJlZCIsIm1lZGlhU2VjdGlvbnMiLCJwb3N0ZXJJbWFnZVVybCIsInNob3J0RGVzY3JpcHRpb24iLCJza2luVHlwZSIsInRhcmdldFVybHMiLCJjdXJyZW50U291cmNlIiwibGl2ZVNjaGVkdWxlIiwiYWN0aXZlU2NoZWR1bGVJdGVtIiwiYWN0aXZlUGxheWxpc3RJdGVtIiwicmVtYWluaW5nUGxheWxpc3RJdGVtRHVyYXRpb24iLCJjcmVhdGVEdW1teU1lZGlhSW5mbyIsImR1bW15TWVkaWFJbmZvIiwiTWVkaWFJbmZvIiwiU291cmNlRGVzY3JpcHRpb24iLCJjb250ZW50UHJvdGVjdGlvbiIsImlzTGl2ZVRvVXJsIiwidGFyZ2V0VXJsIiwiYXNzZXROYW1lSWZOb3RGb3VuZCIsImFzc2V0TmFtZSIsImJyb2FkY2FzdERhdGUiLCJlcGlzb2RlX2Jyb2FkY2FzdF9kYXRlIiwiYkRhdGUiLCJnZXREYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsInN1YnN0cmluZyIsImVwaXNvZGVfbmFtZSIsImdldEFzc2V0SWQiLCJtYXBUb1B1YmxpY01lZGlhSW5mbyIsImdldFJlYWxTZWVrVGltZSIsInNlY29uZHNGcm9tU3RhcnQiLCJ0aW1lQmVmb3JlTWFpbkNvbnRlbnQiLCJzZWN0aW9uIiwiZXZlbnRUeXBlIiwiVXNlclByZWZlcmVuY2VzVHlwZXMiLCJleHRyYWN0VnJ0Vm9kUmVmZXJlbmNlIiwiaW5wdXQiLCJwb3AiLCJleHRyYWN0VnJ0TGl2ZVJlZmVyZW5jZSIsInJlZmVyZW5jZVBpZWNlcyIsImV4dHJhY3RTdGFuZGFsb25lUmVmZXJlbmNlIiwib3V0cHV0IiwiZXh0cmFjdFlvdXR1YmVSZWZlcmVuY2UiLCJzdHJlYW1UeXBlTWFwcGluZyIsIm1wZWdfZGFzaCIsIm1kcEZpcnN0U29ydE9yZGVyIiwiaGxzRmlyc3RTb3J0T3JkZXIiLCJobHNBZXNGaXJzdFNvcnRPcmRlciIsImhscyIsImhsc19hZXMiLCJtYXBTb3VyY2VzIiwiZHJtQ29uZmlnIiwiZ2V0TmV4dFNvdXJjZSIsImFkU291cmNlIiwiZ2V0U3RhcnRPdmVyU291cmNlIiwic291cmNlIiwiY2FuRG9TdGFydE92ZXIiLCJTb3VyY2VTZXJ2aWNlIiwicGxheWxpc3RJdGVtIiwic291cmNlU2VydmljZSIsImVucmljaE1lZGlhIiwicGxheWVySW5zdGFuY2UiLCJwcmVwYXJlU291cmNlcyIsInVwZGF0ZU1lZGlhRW5yaWNobWVudCIsImF1dG9VcGRhdGVMaXZlU2NoZWR1bGUiLCJpbnRlcnZhbEluU2Vjb25kcyIsIm9uTGl2ZVNjaGVkdWxlVXBkYXRlZCIsImlzVlJUIiwiaXNTdGFuZEFsb25lVmlkZW8iLCJpc1lvdVR1YmUiLCJTb3VyY2VTZXJ2aWNlU3RhbmRhbG9uZSIsIkFuYWx5dGljc1JlZmVyZW5jZUV4dHJhY3RvciIsImFuYWx5dGljc0Fzc2V0TmFtZU92ZXJyaWRlIiwiVHlwZWRTb3VyY2UiLCJuZXdEdXJhdGlvbiIsIk1lZGlhRW5yaWNoZXIiLCJ2cnRQbGF5ZXJUb2tlbiIsImV4cGlyYXRpb25EYXRlIiwiaGFzTm90RXhwaXJlZCIsImdldFRpbWUiLCJpc05vdFdvcmxkV2lkZSIsImlzVjJBZ2dyZWdhdG9yIiwicGxheWVyVG9rZW5TdG9yYWdlTmFtZSIsImNsZWFyVG9rZW4iLCJsb2FkU3RvcmVkVG9rZW4iLCJzdG9yZWRUb2tlbiIsImdldEl0ZW0iLCJzZXRQcm90b3R5cGVPZiIsIlRva2VuIiwicHJvdG90eXBlIiwiZ2V0VG9rZW4iLCJUb2tlbkZhY3RvcnkiLCJsYXN0SWRlbnRpdHlUb2tlbiIsInRva2VuIiwiQUdHUkVHQVRPUl9UT0tFTl9FUlJPUl9TVE9SRURfVE9LRU5fTUFMRk9STUVEIiwidG9rZW5Jc1ZhbGlkIiwicmVxdWVzdE5ld1Rva2VuIiwicGF5bG9hZCIsIkFHR1JFR0FUT1JfVE9LRU5fRVJST1JfQ0FOTk9UX0dFVF9UT0tFTiIsInRva2VuVXRpbHMiLCJhZ2dyZWdhdGVNZWRpYSIsImdldE1lZGlhSW5mbyIsInZydFRva2VuIiwicHJlTWVkaWFJbmZvIiwicGxheWxpc3QiLCJpbnRlZ3JhdGlvbiIsImNvbnRlbnRQcm90ZWN0aW9ucyIsIndpZGV2aW5lIiwicGxheXJlYWR5IiwiZmFpcnBsYXkiLCJ3aWRldmluZURybSIsImNlcnRpZmljYXRlVVJMIiwibGljZW5zZUFjcXVpc2l0aW9uVVJMIiwidXNlQ3JlZGVudGlhbHMiLCJmYWlycGxheURybSIsInBsYXlyZWFkeURybSIsImdlbmVyYXRlRHJtQ29uZmlnIiwiZHJtVG9rZW4iLCJEUk1Db25maWciLCJkZXRlcm1pbmVEUk1Gb3JCcm93c2VyIiwiaXNEcm1Ub2tlbkFib3V0VG9FeHBpcmUiLCJ2YWxpZFVudGlsIiwicmVtYWluaW5nVGltZSIsInBhcnNlSW50IiwicmVtYXBBRVNUb2tlbk9udG9MaWNlbnNlUmVxdWVzdCIsImxvd2VyQ2FzZVVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm5vQnJvYWRDYXN0IiwiU2NoZWR1bGVJdGVtIiwibWFwTWVkaWFTZWN0aW9ucyIsImkiLCJpbmRleCIsIm1hcFBsYXlsaXN0RHVyYXRpb25zVG9QbGF5dGltZSIsImRldGVybWluZUR1cmF0aW9uUGVyQmxvY2siLCJnZXRSZW1haW5pbmdCbG9ja0R1cmF0aW9uIiwiY3VycmVudFBsYXllclBvc2l0aW9uSW5TZWNvbmRzIiwiZ2V0QWN0aXZlUGxheWxpc3RJdGVtIiwibGFzdFBsYXlsaXN0SXRlbUluZGV4T2ZDdXJyZW50QmxvY2siLCJwbGF5bGlzdER1cmF0aW9uTWFwcGluZ1BlckJsb2NrIiwiYmxvY2siLCJwbGF5TGlzdEluZGV4ZXMiLCJpdGVtIiwiZW5kIiwicGxheWxpc3RUaW1lTWFwcGluZyIsInJlbWFpbmluZ0Jsb2NrRHVyYXRpb24iLCJOYU4iLCJnZXRMaXZlU2NoZWR1bGUiLCJsaXZlU2NoZWR1bGVMYXN0TW9kaWZpZWQiLCJyZXBseSIsImdldFJlc3BvbnNlSGVhZGVyIiwic2NoZWR1bGUiLCJBR0dSRUdBVE9SX1NDSEVEVUxFX0VSUk9SX0NBTk5PVF9HRVRfU0NIRURVTEUiLCJnZXRBY3RpdmVTY2hlZHVsZUl0ZW0iLCJzY2hlZHVsZUl0ZW1zIiwiaXRlbVN0YXJ0VGltZSIsInRpbWUiLCJuZXh0SXRlbSIsIm5leHRJdGVtU3RhcnRUaW1lIiwicHJldmlvdXNEdXJhdGlvbiIsImN1cnJlbnRJdGVtIiwiYmxvY2tJdGVtIiwiaiIsImN1cnJlbnRUaW1lbGluZVBvc2l0aW9uSW5NaWxsaXMiLCJ0eXBlQ2hhbmdlZCIsInByZXZpb3VzVHlwZSIsInByZXZpb3VzTWVkaWFTZWN0aW9uIiwidHlwZXMiLCJQUk9NT1RJT05BTCIsIlNUQU5EQVJEIiwiVFJBSUxFUiIsIk9OQk9BUkRJTkciLCJzb3J0IiwiYiIsInVuZGVmaW5lZCIsIlNvdXJjZVNlcnZpY2VWcnQiLCJwcm9ncmFtbWluZ1NlcnZpY2UiLCJQcm9ncmFtbWluZ1NlcnZpY2UiLCJhZ2dyZWdhdG9yU2VydmljZSIsIkFnZ3JlZ2F0b3JTZXJ2aWNlIiwiZHJtU2VydmljZSIsIkRybVNlcnZpY2UiLCJhY3RpdmVJdGVtV2l0aFJlbWFpbmluZ0Jsb2NrRHVyYXRpb24iLCJkZXRlY3RQcm9tb3Rpb25hbFByb2dyZXNzIiwibGl2ZVNjaGVkdWxlSW50ZXJ2YWwiLCJ1cGRhdGVkTGl2ZVNjaGVkdWxlIiwiaXNBZFBsYXlpbmciLCJpc0ZpcnN0UHJvbW90aW9uYWxQbGF5aW5nIiwicmVzb3VyY2VVcmkiLCJpc05leHRQcm9tb3Rpb25hbFBsYXlpbmciLCJpc01haW5Db250ZW50UGxheWluZ0FmdGVyUHJvbW90aW9uYWxzIiwiYWN0dWFsTWVkaWFSZWZlcmVuY2UiLCJjcmVhdGVNZWRpYUVucmljaGVyIiwiaXNTdGFuZEFsb25lTWVkaWFSZWZlcmVuY2UiLCJNZWRpYUVucmljaGVyU3RhbmRhbG9uZVZpZGVvIiwiaXNZb3VUdWJlTWVkaWFSZWZlcmVuY2UiLCJNZWRpYUVucmljaGVyWW91dHViZSIsIk1lZGlhRW5yaWNoZXJWcnQiLCJpc1ZydE1lZGlhUmVmZXJlbmNlIiwiQ29udGVudERldGVjdG9yIiwidmFsaWRhdGVQbGF5bGlzdCIsInl0Q291bnRlciIsInJlZ0NvdW50ZXIiLCJpdGVtcyIsIm1lZGlhRW5yaWNoZXIiLCJwZWJibGVTZXJ2aWNlIiwidGl0bGVJc0hpZGRlbiIsInBsYXllckVycm9ySW5TdGFydHVwIiwiYWRJbnRlZ3JhdGlvbiIsImNhblNraXBBZE9yUHJvbW90aW9uYWwiLCJuZXh0VXBEaXNwYXRjaGVkIiwiY2FuU2Vla0Rpc3BhdGNoZWQiLCJwbGF5ZXJEZXN0cm95ZWQiLCJjYW5DaHJvbWVjYXN0IiwiY2FuQWlycGxheSIsInVzZXJQcmVmZXJlbmNlc1VybCIsInVwZGF0ZVByZWZlcmVuY2VzSGFuZGxlciIsInVzZXJQcmVmZXJlbmNlcyIsInNhdmVVc2VyUHJlZmVyZW5jZXMiLCJsb2FkVXNlclByZWZlcmVuY2VzRm9yU2l0ZSIsInNpdGUiLCJsb2FkVXNlclByZWZlcmVuY2VzIiwiZmluZCIsInVzZXJQcmVmZXJlbmNlc1N0b3JhZ2VTdHJpbmciLCJiaW5kVG9QbGF5ZXIiLCJ2b2x1bWVDaGFuZ2VIYW5kbGVyIiwiVk9MVU1FIiwidXNlclByZWZlcmVuY2VzRm9yQWxsU2l0ZXMiLCJzaXRlSW5kZXgiLCJmaW5kSW5kZXgiLCJ1cGRhdGVUaWNrVGltZSIsInN0YXRlIiwiUGxheWJhY2tTdGF0ZSIsInByZXBhcmVQbGF5ZXJGb3JQbGF5YmFjayIsIm9uUGxheWVyRXJyb3IiLCJvblBsYXllcldhcm5pbmciLCJvblBsYXllclJlc2V0UmVxdWVzdGVkIiwib25QbGF5ZXJEZXN0cm95UmVxdWVzdGVkIiwiaWxjIiwiSW50ZXJuYWxMb2dpYyIsInNldHVwQWRzIiwic2V0QXV0b3BsYXkiLCJhbmFseXRpY3NXcmFwcGVyIiwic2V0dXBBbmFseXRpY3MiLCJtYXBBcGlDYWxscyIsInByZXBhcmVTb3VyY2VGb3JQbGF5YmFjayIsIm1hcmtQbGF5ZXJSZWFkeUZvclBsYXliYWNrIiwicmVzdG9yZVBsYXliYWNrIiwiaXNGaXJzdFBsYXliYWNrIiwid2FzUGxheWluZyIsInBvc2l0aW9uIiwic2V0Vm9sdW1lIiwiSW5maW5pdHkiLCJzZWVrIiwibWFya1BsYXllclJlYWR5Rm9yUGxheWJhY2tTcGVjaWZpYyIsInVwZGF0ZUludGVydmFsIiwiaGFzTmV4dCIsInJlbWFpbmluZ0R1cmF0aW9uIiwidXBkYXRlVGlja1NwZWNpZmljIiwib25QbGF5ZXJFcnJvclNwZWNpZmljIiwiUExBWUVSX05FVFdPUktfQVBJX0dFTkVSQUwiLCJvblBsYXllclJlc2V0UmVxdWVzdGVkU3BlY2lmaWMiLCJhZG9iZUFuYWx5dGljcyIsImNpbSIsInJlbGVhc2VQbGF5ZXJSZXNvdXJjZXMiLCJwcmV2aW91c1ZvbHVtZUxldmVsIiwicGxheUhlYWREYXRlVGltZVBvc2l0aW9uIiwiaXNQYXVzZWQiLCJzZXRMb29wIiwiaXNMb29waW5nIiwiQXJyYXkiLCJpc0FycmF5IiwiY29uc3RydWN0b3IiLCJTdHJpbmciLCJuZXdNZWRpYVJlZmVyZW5jZXMiLCJuZXdEaWdpdGFsRGF0YXMiLCJuZXdTb3VyY2VzIiwiZ2V0U2Vla2FibGVSYW5nZXMiLCJoYXNQbGF5ZWQiLCJlbmFibGVJbnRlcmZhY2UiLCJkaXNhYmxlSW50ZXJmYWNlIiwiaXNJbnRlcmZhY2VFbmFibGVkIiwiY3VycmVudCIsImdldEFjdGl2ZVN1YnMiLCJnZXRBdmFpbGFibGVRdWFsaXRpZXMiLCJnZXRBdXRvcGxheSIsInNraXBBZCIsInNraXBQcm9tb3Rpb25hbCIsImlzQ2FzdGluZyIsIkNhcGFiaWxpdGllcyIsInN0b3BDYXN0Iiwic3RvcEFpcnBsYXkiLCJzdGFydENhc3QiLCJzdGFydEFpcnBsYXkiLCJwcmV2aW91c1ZvbHVtZSIsIm1haW5Db250ZW50U3RhcnQiLCJzZWVrVG8iLCJ0b2dnbGVTdWJzIiwidG9nZ2xlRnVsbHNjcmVlbiIsIkdFTkVSSUNfRVJST1IiLCJhcHBlbmQiLCJzZXRRdWFsaXR5IiwiQ2ltQW5hbHl0aWNzU2VydmljZSIsInNldFNvdXJjZSIsIm9uU3RhcnRPdmVyIiwiUGxheWJhY2siLCJzYW1wbGVSYXRlIiwic3RyaW5nVG9TZWNvbmRzIiwicGllY2VzIiwicmV2ZXJzZSIsInRvdGFsVGltZUluU2Vjb25kcyIsInJlZ2lzdGVyVG9vbHRpcCIsInJlZmVyZW5jZSIsInRhcmdldCIsImJvZHkiLCJ0aXBweSIsImludGVyYWN0aXZlIiwiYW5pbWF0aW9uIiwiYXJyb3ciLCJhcHBlbmRUbyIsImNoaWxkcmVuIiwiZmxpcE9uVXBkYXRlIiwicG9wcGVyT3B0aW9ucyIsIm1vZGlmaWVycyIsImFsdEF4aXMiLCJ0ZXRoZXIiLCJvblNob3ciLCJjbGljayIsInJlZ2lzdGVyVG9vbHRpcHMiLCJlbGVtZW50cyIsInVwZGF0ZUFyaWFBbmRUb29sdGlwIiwibmV3QXJpYVRleHQiLCJfdGlwcHkiLCJzZXRDb250ZW50IiwiZW5hYmxlVG9vbHRpcEhpZGVPbkVTQ1ByZXNzIiwib25rZXlkb3duIiwiaGlkZUFsbFRvb2x0aXBzIiwiYWRqdXN0QWxsU3ZnRWxlbWVudHNGb3JBY2Nlc3NpYmlsaXR5IiwiZnJvbSIsInN2ZyIsImVuYWJsZVRpbWVFbnRyeU9uRm9jdXMiLCJjYWxsYmFjayIsImV4aXRLZXkiLCJvbmZvY3VzIiwibGluZSIsIm9ua2V5cHJlc3MiLCJvbmJsdXIiLCJUaW1lVXRpbHMiLCJoaWRlQWxsIiwic2V0VmlzaWJsZSIsInZpc2libGUiLCJEb21VdGlscyIsImdldFN0eWxlVmFsdWVzIiwic2V0UHJvcGVydHkiLCJwcm9wZXJ0eSIsInZpc2libGVTdHlsZSIsImludmlzaWJsZVN0eWxlIiwidG9nZ2xlVmlzaWJsZSIsImdldFByb3BlcnR5VmFsdWUiLCJpc1Zpc2libGUiLCJpbnNlcnRCZWZvcmUiLCJlbGVtZW50VG9JbnNlcnQiLCJ0YXJnZXRFbGVtZW50IiwicGFyZW50RWxlbWVudCIsInNldE9yZGVyT25FbGVtZW50cyIsInN0YXJ0Iiwib3JkZXIiLCJzZXRUYWJJbmRleE9uRWxlbWVudHMiLCJ0YWJJbmRleCIsInZpc2libGVQcm9wZXJ0eSIsInN3YXBCdXR0b25JbWFnZXMiLCJidXR0b24iLCJzaG93Rmlyc3QiLCJzdmcxIiwic3ZnMiIsImRpc3BsYXkiLCJza2luRWxlbWVudHMiLCJhZGRFbGVtZW50VG9DaGVjayIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsImFsbEVsZW1lbnRzRXhpc3QiLCJ2YWxpZCIsImRlZmluaXRpb24iLCJ2YWxpZGF0ZSIsIlNraW5WYWxpZGF0b3IiLCJwbGF5ZXIiLCJwbGF5ZXJDb2xvciIsImZhZGVpbkNsYXNzIiwiZmFkZW91dENsYXNzIiwidWlTaG91bGRTaG93IiwicGF1c2VkIiwiY29udGFpbnMiLCJzd2FwQWN0aXZlU3RhdGVzIiwicmVtb3ZlIiwiY29udHJvbEJhciIsInBsYXlQYXVzZSIsImFkVGl0bGUiLCJhZER1cmF0aW9uIiwibGl2ZUNsb2NrIiwiY291bnRkb3duIiwicmV3aW5kMTAiLCJmb3J3YXJkMTAiLCJtdXRlIiwidm9sdW1lU2Vla2VyIiwiY3VycmVudFRpbWUiLCJkaXZpZGVyVGltZSIsInRvdGFsVGltZSIsInNlZWtlciIsInNldHRpbmdzIiwicXVhbGl0eUNvbnRhaW5lciIsInF1YWxpdHlMaXN0IiwicXVhbGl0eUxpc3RJdGVtcyIsInN1YnRpdGxlcyIsImZ1bGxzY3JlZW4iLCJ2YWxpZGF0b3IiLCJDb250cm9sc1NraW5WYWxpZGF0b3IiLCJ3YWl0Rm9yVGhlb1BsYXllclJlYWR5IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImVuYWJsZSIsIm1vZGlmeUNvbnRyb2xzIiwiZGlzYWJsZUZmQW5kUndDb250cm9scyIsImRpc2FibGVWb2x1bWVDb250cm9scyIsImRpc2FibGVGdWxsU2NyZWVuQ29udHJvbCIsImNvbnN0cnVjdEN1c3RvbUZ1bGxzY3JlZW5CdXR0b24iLCJvbmNsaWNrIiwidGVtcENvbnRyb2xzQ29udGFpbmVyIiwib3ZlcnJpZGVTdHlsZXMiLCJzdHlsZU5hbWUiLCJBY2Nlc3NpYmlsaXR5VXRpbHMiLCJzdWJzY3JpYmVGb3JJbnRlcm5hbFBsYXllckV2ZW50cyIsInVwZGF0ZUdlbmVyYWxTdGF0ZSIsIm5ld1RpdGxlIiwiY2hlY2tBY3RpdmUiLCJ1cGRhdGVTdGFydE92ZXJTdXBwb3J0IiwiZW5hYmxlU3RhcnRPdmVyIiwiYWN0aXZhdGVQcm9tb3Rpb25hbFBsYXlpbmdTdGF0ZSIsInByb21vdGlvbmFsVGl0bGUiLCJ1cGRhdGVQcm9tb3Rpb25hbFN0YXRlIiwiYWN0aXZhdGVOb25Qcm9tb3Rpb25hbFBsYXlpbmdTdGF0ZSIsInVwZGF0ZVN1YnRpdGxlc0F2YWlsYWJsZSIsInVwZGF0ZUxpdmVDbG9jayIsImFjdGl2YXRlUGxheVN0YXRlIiwiY3VycmVudFZvbHVtZSIsImFjdGl2YXRlUGF1c2VkU3RhdGUiLCJvblZvbHVtZUNoYW5nZSIsInVwZGF0ZUZ1bGxzY3JlZW5JbmRpY2F0b3IiLCJlbmFibGVkVGltZUVudHJ5T25TZWVrZXIiLCJzZWNvbmRzUmVtYWluaW5nIiwic2Vjb25kc1JlbWFpbmluZ1RleHQiLCJhY3RpdmF0ZUxpdmVTdHJlYW1TdGF0ZSIsImFjdGl2YXRlVk9EU3RhdGUiLCJsZWZ0IiwibGl2ZVBsYXlIZWFkRGF0ZVRpbWVQb3NpdGlvbiIsInRvVGltZVN0cmluZyIsInRyaW0iLCJwbGF5SGVhZEF0TGl2ZVBvaW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInRyYWNrIiwia2luZCIsInRvZ2dsZVN1YnRpdGxlcyIsInRvZ2dsZU9uIiwidG9nZ2xlUHJlc2VudGF0aW9uTW9kZSIsInByZXNlbnRhdGlvbiIsImN1cnJlbnRNb2RlIiwicmVxdWVzdE1vZGUiLCJlbmFibGVkIiwiYW55SXNFbmFibGVkIiwidXBkYXRlUXVhbGl0eUxpc3RJdGVtcyIsImF2YWlsYWJsZVF1YWxpdGllcyIsImFjdGl2ZVF1YWxpdHkiLCJpc0F1dG8iLCJpbm5lckhUTUwiLCJhdmFpbGFibGVRdWFsaXR5IiwibmV3UXVhbGl0eUVsZW1lbnQiLCJjcmVhdGVRdWFsaXR5SXRlbSIsInF1YWxpdHlJdGVtIiwicmVzb2x1dGlvblRleHQiLCJ1c2FnZVRleHQiLCJ0b0ZpeGVkIiwiZmlsdGVyIiwib3JpZ2luYWxGdWxsc2NyZWVuQnV0dG9uIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiY2hpbGROb2RlcyIsImNsYXNzTmFtZSIsIlBsYXllckNvbnRyb2xzIiwidXBOZXh0RGVsYXkiLCJ1cE5leHRBbmltYXRpb25TdGF0ZSIsIm92ZXJsYXkiLCJwdWxzZSIsInBsYXlQdWxzZUxvZ28iLCJwYXVzZVB1bHNlTG9nbyIsImFpcnBsYXkiLCJjYXN0T25UZXh0Iiwic2tpcCIsIm1vYmlsZVBsYXlQYXVzZVRvZ2dsZSIsInVwTmV4dEJhbm5lciIsInVwTmV4dEJhbm5lckFuaW1hdGlvbiIsInVwTmV4dENhcmQiLCJ1cE5leHRDYXJkQW5pbWF0aW9uIiwiZXJyb3JPdmVybGF5IiwiZXJyb3JUaXRsZSIsImVycm9yTWVzc2FnZSIsIk92ZXJsYXlTa2luVmFsaWRhdG9yIiwidXBOZXh0T3ZlcmxheU92ZXJyaWRlIiwidXBOZXh0VHlwZUlzQ2FyZCIsInBsYXlPdmVybGF5Q29udHJvbCIsImdldFByb3BlcnR5UHJpb3JpdHkiLCJmaWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBsYXllclVwTmV4dFBvc3RlckltYWdlIiwicGxheWVyV2lkdGgiLCJhY3RpdmF0ZVJlYWR5U3RhdGUiLCJzaG93VGl0bGUiLCJpc0hpZGRlbiIsImRlYWN0aXZhdGVDYXN0T3B0aW9uIiwidXBkYXRlU2tpcFN0YXRlIiwiY2FuU2tpcCIsImFjdGl2YXRlQ2FzdE9wdGlvbiIsInNob3dQdWxzZSIsImFjdGl2YXRlUGF1c2VTdGF0ZSIsInVwTmV4dENhcmRDdXJyZW50QW5pbWF0aW9uIiwidXBOZXh0QmFubmVyQ3VycmVudEFuaW1hdGlvbiIsImNyZWF0ZVVwTmV4dENhcmRBbmltYXRpb24iLCJjcmVhdGVVcE5leHRCYW5uZXJBbmltYXRpb24iLCJhYnMiLCJhY3RpdmF0ZUNhc3RTdGF0ZSIsImRlYWN0aXZhdGVDYXN0U3RhdGUiLCJ1cGRhdGVVcE5leHRTdGF0ZSIsImhpZGVFcnJvciIsIm9wYWNpdHkiLCJmcmFtZXdvcmsiLCJzaG93IiwiaXNVcE5leHQiLCJwdWJsaWNNZWRpYUluZm8iLCJkaXNhYmxlVXBOZXh0VWkiLCJwb3N0ZXJJbWFnZVRhZyIsImlubmVyVGV4dCIsImFuaW1hdGFibGVQcm9wZXJ0eSIsInVwZGF0ZSIsImVuZFZhbHVlIiwic3RlcFZhbHVlIiwiY3VycmVudFZhbHVlIiwib2Zmc2V0IiwiYmluZEFic3RyYWN0ZWRQbGF5ZXJFdmVudHMiLCJvbmJlZm9yZXVubG9hZCIsIlBsYXllciIsIkNvbmZpZyIsImFiciIsInRhcmdldEJ1ZmZlciIsInByZWxvYWQiLCJ3aWxsUGxheUZvclRoZUZpcnN0VGltZSIsImhhc1BsYXllZEZvclRoZUZpcnN0VGltZSIsInN0YWxsZWQiLCJjb2xsZWN0WENkbkhlYWRlciIsImNvbGxlY3RYQ2RuSGVhZGVySGFuZGxlciIsInVwZGF0ZWRDZG4iLCJ4Q0ROIiwiY2RuIiwibmV0d29yayIsImFkZFJlc3BvbnNlSW50ZXJjZXB0b3IiLCJzZXR1cFVzZXJJbnRlcmZhY2UiLCJjcmVhdGVPdmVybGF5Q29udHJvbHMiLCJjcmVhdGVNZWRpYUNvbnRyb2xzIiwiUExBWUVSX1VJX1RFTVBMQVRFX0VSUk9SIiwiUExBWUVSX0FQSV9FUlJPUl9HRU5FUkFMIiwiUExBWUVSX0FQSV9FUlJPUl9NT0RFIiwib3ZlcmxheUNvbnRyb2xzIiwiT3ZlcmxheUNvbnRyb2xzIiwiTWVkaWFDb250cm9scyIsIm1lZGlhQ29udHJvbHMiLCJhZGRBRVNOZXR3b3JrSW50ZXJjZXB0b3IiLCJhZGRBRVNOZXR3b3JrSW50ZXJjZXB0b3JIYW5kbGVyIiwicmVtb3ZlUmVxdWVzdEludGVyY2VwdG9yIiwicmVkaXJlY3QiLCJhZGRSZXF1ZXN0SW50ZXJjZXB0b3IiLCJzZXRQb3N0ZXJJbWFnZSIsInBvc3RlciIsInR1cm5TdWJzT2ZmIiwicmVtYWluaW5nUHJvbW90aW9uYWxEdXJhdGlvbiIsInN0b3AiLCJtdXRlZCIsIm9uVm9sdW1lY2hhbmdlIiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsIk1BWF9WQUxVRSIsInR1cm5TdWJzT24iLCJhY3RpdmVUcmFjayIsIm1vZGUiLCJ0YXJnZXRRdWFsaXR5IiwidmlkZW9UcmFja3MiLCJxdWFsaXRpZXMiLCJvbiIsInNjaGVkdWxlQWQiLCJhZCIsImFkTmV0d29ya0ludGVyY2VwdG9yIiwicmVxIiwibWV0aG9kIiwiY2xvc2VkIiwic3VidHlwZSIsInJlc3BvbnNlVHlwZSIsImRvTG9vcCIsImxvb3AiLCJwcmVwYXJlRm9ySW50ZXJhY3Rpb24iLCJwcmVwYXJlV2l0aFVzZXJBY3Rpb24iLCJjdXJyZW50UHJvZ3JhbURhdGVUaW1lIiwic2Vla2FibGUiLCJjYXN0aW5nIiwiaXNGdWxsc2NyZWVuIiwiZ2V0VG90YWxBZER1cmF0aW9uIiwiY3VycmVudEFkcyIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY2FuQWRCZVNraXBwZWQiLCJhZEJyZWFrIiwiY3VycmVudEFkQnJlYWsiLCJza2lwT2Zmc2V0IiwiY2FuU2tpcEFkRnJvbVJlbWFpbmluZyIsIm1heFJlbWFpbmluZ0R1cmF0aW9uIiwiZnJhbWVSYXRlIiwibWV0cmljcyIsImRyb3BwZWRWaWRlb0ZyYW1lcyIsImdldE5hdGl2ZVBsYXllckluc3RhbmNlIiwib25QbGF5Iiwib25QYXVzZSIsIm9uRW5kZWQiLCJvblNlZWtpbmciLCJvblNlZWtDb21wbGV0ZSIsIm9uQnVmZmVycmluZyIsIm9uQnVmZmVyQ29tcGxldGUiLCJvblRpbWVVcGRhdGUiLCJvblZpZGVvUXVhbGl0eUNoYW5nZWQiLCJhdWRpb1RyYWNrcyIsIm9uQXVkaW9RdWFsaXR5Q2hhbmdlZCIsIm9uUmVhZHlTdGF0ZUNoYW5nZWQiLCJvblNvdXJjZUNoYW5nZWQiLCJvbkR1cmF0aW9uQ2hhbmdlZCIsIm9uSW50ZXJuYWxQbGF5ZXJFcnJvciIsIm9uRHJtRXJyb3IiLCJvbkZ1bGxzY3JlZW5DaGFuZ2UiLCJvbkNhc3RTdGF0ZUNoYW5nZWQiLCJvbkNhc3RFcnJvciIsIm9uQWRCcmVha0JlZ2luIiwib25BZEJyZWFrRW5kIiwib25BZFNraXBwZWQiLCJvbkFkRXJyb3IiLCJvbk5ldHdvcmtFcnJvciIsImF1ZGlvIiwiQXVkaW9RdWFsaXR5IiwiYXVkaW9TYW1wbGluZ1JhdGUiLCJsb2FkZWQiLCJwcmV2aW91c0RybUVycm9yIiwic291cmNlRGVzY3JpcHRpb24iLCJtYXhEdXJhdGlvbiIsInJlc291cmNlVVJJIiwiUExBWUVSX0FQSV9FUlJPUl9EUk0iLCJQTEFZRVJfQURTX0FQSV9HRU5FUkFMIiwiUExBWUVSX0NIUk9NRUNBU1RfQVBJX0dFTkVSQUwiLCJQbGF5ZXJBYnN0cmFjdGlvbkxheWVyIiwid2lsbFBsYXlGb3JUaGVGaXJzdFRpbWVPdmVycmlkZGVuIiwiaGFzUGxheWVkRm9yVGhlRmlyc3RUaW1lT3ZlcnJpZGRlbiIsIlRoZW9BYnN0cmFjdGlvbkxheWVyIiwiZmlyc3RUaW1lUGxheSIsInByZXZpb3VzUGxheWJhY2tTdGF0ZSIsImxvYWRQbGF5ZXJXaXRoVmlkZW8iLCJ5b3V0dWJlVXJsIiwiWVQiLCJvblJlYWR5IiwiWW91dHViZUFic3RyYWN0aW9uTGF5ZXIiLCJjdWVWaWRlb0J5SWQiLCJ2aWRlb0lkIiwicGxheVZpZGVvIiwicGF1c2VWaWRlbyIsImdldEN1cnJlbnRUaW1lIiwiZ2V0UGxheWVyU3RhdGUiLCJQbGF5ZXJTdGF0ZSIsIlBMQVlJTkciLCJQQVVTRUQiLCJldmVudEludGVydmFsIiwibGFzdFZvbHVtZSIsIm5ld1ZvbHVtZSIsIkVOREVEIiwiQlVGRkVSSU5HIiwibWVkaWFSZWZlcmVuY2VzIiwiZGlnaXRhbERhdGFzIiwiY3VycmVudEluZGV4IiwicGxheWxpc3RTaXplIiwibmV4dCIsInBlZWsiLCJwcmV2aW91cyIsImhhc1ByZXZpb3VzIiwiZ2V0SW5kZXhGb3JNZWRpYVJlZmVyZW5jZSIsInNldFRvIiwiU2tpbiIsImFkQ29uZmlndXJhdGlvbiIsImFkTWFwcGluZ3MiLCJwYXJ0bmVycyIsInBlYmJsZW1lZGlhIiwiYmFzZVVybCIsImJhc2VWUGFpZFVybCIsImNyZWF0ZUFkRm9yVmlkZW9JZk5lZWRlZCIsImdhbUFkVXJsIiwiZ2VuZXJhdGVHYW1TdHlsZUFkIiwiZ2VuZXJhdGVPbGRTdHlsZUFkIiwidGltZU9mZnNldCIsImlzVmFzdFZpYUltYSIsImlzVlBhaWQiLCJkb21haW4iLCJjYXRlZ29yeSIsInBhcnRuZXIiLCJkb21haW5QYXJ0cyIsImNvbnNlbnQiLCJldUNvbnNlbnQiLCJmaW5hbFVybCIsImlzU3luZGljYXRlZCIsInBhcnRuZXJBZHNBbGxvd2VkIiwiZ2V0Q2F0ZWdvcnlGb3JEb21haW4iLCJjcmVhdGVBZFVybCIsInByZXJvbGxFbmFibGVkRm9yRG9tYWluIiwicHJlcm9sbEVuYWJsZWRGb3JQcm9ncmFtIiwiZGV0ZWN0QWRUZWNoIiwiZG9tYWlucyIsInByb2dyYW1zIiwicHJvZ3JhbSIsIlBlYmJsZVNlcnZpY2UiLCJvbkludGVybmFsUGxheWVyV2FybmluZyIsImRpc2FibGVUaXRsZSIsImN1cnJlbnRUaXRsZSIsIm5ld1Byb2dyYW1UaXRsZSIsImVuc3VyZUxvbmdQbGF5YmFjayIsImFkSXNQbGF5aW5nIiwidHlwZUlzUGxheWluZyIsInNraXBwYWJsZSIsIm5ld0lkZW50aXR5VG9rZW4iLCJwZXJmb3JtTGl2ZVN0YXJ0T3ZlciIsIlBMQVlFUl9GVU5DVElPTlNfU1RBUlRPVkVSIiwiUExBWUVSX0ZVTkNUSU9OU19TT1VSQ0VfRkFMTFRIUk9VR0giLCJBR0dSRUdBVE9SX1YyX1VOTUFQUEVEIiwiZGVjb3JhdGVFdmVudGluZ0FwaSIsInZydFBsYXllciIsImRlZmluZVByb3BlcnR5IiwiZXZlbnROYW1lIiwiZGVjb3JhdGVQdWJsaWNBcGkiLCJpc0V4dGVuc2libGUiLCJpc1NlYWxlZCIsImlzRnJvemVuIiwiUGxheWVyQXBpRGVjb3JhdG9yIiwiYWRkUHJvcGVydGllcyIsImFkZE1ldGhvZHMiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsInNlYWwiLCJmcmVlemUiLCJhZGRQcm9wZXJ0eSIsInNldEV2ZW50IiwiZ2V0RXZlbnQiLCJnZXRFdmVudFJldHVybiIsInNlY29uZHNUb1Jld2luZCIsInNob3VsZFNob3dUaXRsZSIsInRhcmdldEluZGV4T3JNZWRpYVJlZmVyZW5jZSIsImJhc2UiLCJnZXRBbmRTZXRFdmVudHMiLCJyZXNvbHZlZFZhbHVlIiwidXNlclByZWZlcmVuY2VzTWFuYWdlciIsIlVzZXJQcmVmZXJlbmNlc01hbmFnZXIiLCJwbGF5ZXJTdGF0ZSIsImlzRmlyc3RQbGF5bGlzdEl0ZW0iLCJhbHJlYWR5SW5FcnJvciIsInN0YXJ0dXAiLCJwbGF5YmFja0xvZ2ljIiwiSGVhZGxlc3NUaGVvQWJzdHJhY3Rpb25MYXllciIsIlJlZ3VsYXJQbGF5YmFjayIsIllvdXR1YmVQbGF5YmFjayIsImNsZWFudXAiLCJQbGF5bGlzdCIsIlBMQVlFUl9BUElfRVJST1JfUExBWUxJU1QiLCJPTiIsIk9GRl9TVE9QX0FUX0JFR0lOIiwiT0ZGX1NUT1BfQVRfRU5EIiwibmV4dFVwUGxheWxpc3RJdGVtIiwicmVsb2FkSGFuZGxlciIsIm5ld01lZGlhRW5yaWNoZXIiLCJ0b2dnbGVQbGF5IiwidG9nZ2xlQ2FzdCIsInJld2luZFNlY29uZHMiLCJ0b2dnbGVNdXRlIiwiZmFzdFNlZWsiLCJsaXZlU3RhcnRPdmVyIiwiZ290byIsImluZGV4T3JWaWRlb0lkIiwiYWRkVG9QbGF5bGlzdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0aHJvd0Vycm9yIiwiZ2V0Q29sb3IiLCJHUkVFTiIsIkJMVUUiLCJSRUQiLCJXSElURSIsIktFVE5FVCIsImdldFByZXNldCIsInByZXNldCIsIkRFRkFVTFQiLCJEVU1NWSIsIlNQT1JaQSIsIlZSVF9OVSIsIlZSVF9OV1MiLCJtZXJnZVdpdGhDb25maWciLCJtZXJnZWRVaUNvbmZpZyIsIkNvbG9ycyIsImluY2x1ZGVzIiwiVlJUTlUiLCJWUlROV1MiLCJpc1Byb2R1Y3Rpb25Nb2RlIiwiY2RuVXJsIiwidGhlb0Jhc2VVcmwiLCJ2ZXJzaW9uIiwicGxheWVyQ291bnQiLCJnZXROZXh0SWQiLCJwbGF5ZXJzIiwiaW50ZXJuYWxNYXAiLCJXZWFrTWFwIiwicGxheWVyQ29uZmlnIiwicGxheWVyQ3JlYXRlZENhbGxiYWNrIiwicGxheWVyQ3JlYXRpb25GYWlsZWRDYWxsYmFjayIsImdldFBsYXllciIsInVwZGF0ZUlkZW50aXR5VG9rZW4iLCJwbGF5ZXJFbnRpdGllcyIsInBsYXllclB1Ymxpc2hlciIsInVubG9hZFBsYXllcnMiLCJwcm9taXNlIiwiY3JlYXRlUGxheWVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImJpbmRUZW1wbGF0ZUxpc3RlbmVycyIsImZpcnN0UGxheWVyIiwiaW5pdGlhbFRva2VuQWNxdWlyZWQiLCJQcmVzZXRzIiwiYWRkSHRtbENvbnRyb2xDb250YWluZXIiLCJsb2FkSHRtbFRlbXBsYXRlcyIsInJlaiIsImV2ZW50TWFwcGluZ3MiLCJldmVudE1hcHBpbmciLCJwbGF5ZXJBbHJlYWR5QWRkZWRHdWFyZCIsInBsYXllckVsZW0iLCJwbHlycyIsIndyYXBwZXJJdGVtIiwiVlJUUGxheWVyIiwiY3VzdG9tRXJyb3JIYW5kbGluZyIsImZpcnN0UmVmZXJlbmNlIiwiaXNWcnRDb250ZW50IiwiY29udHJvbENvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXJUb1RlbXBsYXRlRWxlbWVudCIsImVsZW1lbnRTZWxlY3RvciIsImhhbmRsZXJOYW1lIiwiaGFuZGxlclBhcmFtIiwidGVtcGxhdGVOYW1lIiwib3ZlcmxheVJlcGx5IiwiY29udHJvbHNSZXBseSIsImludGVncml0eSIsImNyb3NzT3JpZ2luIiwiaW5pdCIsImRzbiIsImVudmlyb25tZW50IiwiaW50ZWdyYXRpb25zIiwiZ2xvYmFsSGFuZGxlcnMiLCJvbnVuaGFuZGxlZHJlamVjdGlvbiIsImlnbm9yZUVycm9ycyIsImJsYWNrbGlzdFVybHMiLCJ3aGl0ZWxpc3RVcmxzIiwiYmVmb3JlU2VuZCIsImhpbnQiLCJvcmlnaW5hbEV4Y2VwdGlvbiIsInN0YWNrIiwiYWxsIiwicHJvZHVjdGlvbk1vZGVDaGVjayIsIkVsZW1lbnRRdWVyaWVzIiwibGlzdGVuIiwicmVnaXN0ZXJQbGF5ZXJDcmVhdGlvbkZ1bmN0aW9ucyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsIlBsYXllckNyZWF0b3IiLCJWUlRNZWRpYVBsYXllciJdLCJtYXBwaW5ncyI6Iitoa0JBTUEsSUEyRFlBLEVDNURBQyxFQU1BQyxFQU1BQyxFQU1BQyxFRGpCWiwyQkF5REEsT0FoRGtCLEVBQUFDLG9CQUFkLFNBQWtDQyxHQUM5QixJQUFNQyxFQUFzQkMsT0FBT0MsT0FBT1QsR0FDcENVLEtBQXVCSixHQUFZQyxFQUFVSSxRQUFRTCxFQUFTTSxnQkFBa0IsR0FJdEYsT0FIS0YsR0FDREcsUUFBUUMsS0FBSyxvQkFBc0JSLEVBQVcsa0RBRTNDSSxHQUdHLEVBQUFLLCtCQUFkLFNBQTZDVCxHQUN6QyxPQUFRQSxHQUNKLEtBQUtOLEVBQVNnQixNQUNkLEtBQUtoQixFQUFTaUIsYUFDVixNQUFPLEtBQ1gsS0FBS2pCLEVBQVNrQixPQUNWLE1BQU8sS0FDWCxLQUFLbEIsRUFBU21CLE9BQ1YsTUFBTyxLQUNYLEtBQUtuQixFQUFTb0IsUUFDVixNQUFPLEtBQ1gsUUFDSSxNQUFPLE9BSUwsRUFBQUMsU0FBZCxTQUF1QkMsRUFBYWhCLEVBQW9CaUIsUUFBQSxJQUFBQSxPQUFBLEdBQ3BELElBQUlDLEVBQWdCLHdCQUEwQkYsRUFBTSxLQUFPaEIsRUFBVyxJQUN0RSxJQUNJLElBQU1tQixFQUF5QkMsS0FBS0MsYUFBYXJCLEdBQVVnQixHQUMzREUsRUFBUUMsSUFBa0NGLEVBQTJCLEtBQU9DLEdBQzlFLE1BQU9J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QWUsY0FJMUMsSUFBTSxFQUFtQm5qQyxhQUFZLFdBQ1gsT0FBbEJqQixTQUFTZ2tCLE9BQ1Q5aUIsY0FBYyxHQUVkbEIsU0FBU2drQixLQUFLblosVUFBVUMsSUFBSSxVQUVqQyxTQUdILEVBQUttNEIsa0JBQW1CLEVBRzVCcmpDLFFBSU0sWUFBQXNuQyxnQ0FBZCxXLGtHQUVpQyxPQUE3QixFQUFBLzdDLEtBQUtnSCxPQUF3QixHQUFNLElBQUlrMUMsR0FBY2w4QyxLQUFLODNDLGlCQUFrQjkzQyxLQUFLKzNDLE9BQVEvM0MsS0FBSyszQyxPQUFTLFUsY0FBdkcsRUFBWW9FLGVBQWlCLFMsWUFFckMsRUEvSUEsSyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5sIGZyb20gJy4vbmwuanNvbic7XG5pbXBvcnQgZnIgZnJvbSAnLi9mci5qc29uJztcbmltcG9ydCBkZSBmcm9tICcuL2RlLmpzb24nO1xuaW1wb3J0IGVuIGZyb20gJy4vZW4uanNvbic7XG5pbXBvcnQgbmxfa2V0bmV0IGZyb20gJy4vbmwta2V0bmV0Lmpzb24nO1xuXG5leHBvcnQgY2xhc3MgVHJhbnNsYXRvciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgdHJhbnNsYXRpb25zOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gfSA9IHtcbiAgICAgICAgbmwsXG4gICAgICAgIGZyLFxuICAgICAgICBkZSxcbiAgICAgICAgZW4sXG4gICAgICAgIG5sX2tldG5ldCxcbiAgICB9O1xuXG4gICAgcHVibGljIHN0YXRpYyBpc0xhbmd1YWdlU3VwcG9ydGVkKGxhbmd1YWdlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VzOiBzdHJpbmdbXSA9IE9iamVjdC52YWx1ZXMoTGFuZ3VhZ2UpO1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZDogYm9vbGVhbiA9IGxhbmd1YWdlICYmIGxhbmd1YWdlcy5pbmRleE9mKGxhbmd1YWdlLnRvTG93ZXJDYXNlKCkpID4gLTEgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGxheWVyIGxhbmd1YWdlOiAnICsgbGFuZ3VhZ2UgKyAnIGlzIG5vdCBzdXBwb3J0ZWQsIGZhbGxpbmcgYmFjayB0byBkZWZhdWx0OiBubCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1N1cHBvcnRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRUb1N1cHBvcnRlZFRoZW9MYW5ndWFnZShsYW5ndWFnZTogTGFuZ3VhZ2UpOiBzdHJpbmcge1xuICAgICAgICBzd2l0Y2ggKGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlLkRVVENIOlxuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZS5EVVRDSF9LRVRORVQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdubCc7XG4gICAgICAgICAgICBjYXNlIExhbmd1YWdlLkZSRU5DSDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2ZyJztcbiAgICAgICAgICAgIGNhc2UgTGFuZ3VhZ2UuR0VSTUFOOlxuICAgICAgICAgICAgICAgIHJldHVybiAnZGUnO1xuICAgICAgICAgICAgY2FzZSBMYW5ndWFnZS5FTkdMSVNIOlxuICAgICAgICAgICAgICAgIHJldHVybiAnZW4nO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25sJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VmFsdWUoa2V5OiBzdHJpbmcsIGxhbmd1YWdlOiBMYW5ndWFnZSwgcmV0dXJuTnVsbEZvclVua25vd25LZXlzOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdmFsdWU6IHN0cmluZyA9ICdVTktOT1dOLVZBTFVFLUZPUiA9PiAnICsga2V5ICsgJyAoJyArIGxhbmd1YWdlICsgJyknO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cmlldmVkVmFsdWU6IHN0cmluZyA9IHRoaXMudHJhbnNsYXRpb25zW2xhbmd1YWdlXVtrZXldO1xuICAgICAgICAgICAgdmFsdWUgPSByZXRyaWV2ZWRWYWx1ZSA/IHJldHJpZXZlZFZhbHVlIDogcmV0dXJuTnVsbEZvclVua25vd25LZXlzID8gbnVsbCA6IHZhbHVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnS2V5OiAnICsga2V5ICsgJyBmb3IgbGFuZ3VhZ2U6ICcgKyBsYW5ndWFnZSArICcgY291bGQgbm90IGJlIHJldHJpZXZlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHRyYW5zbGF0ZUFsbEVsZW1lbnRzKHJvb3RFbGVtZW50OiBFbGVtZW50LCBsYW5ndWFnZTogTGFuZ3VhZ2UpOiB2b2lkIHtcbiAgICAgICAgcm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2FyaWEtdHJhbnNsYXRpb24ta2V5XScpLmZvckVhY2goKGVsZW1lbnQ6IEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlOiBzdHJpbmcgPSBUcmFuc2xhdG9yLmdldFZhbHVlKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLXRyYW5zbGF0aW9uLWtleScpLCBsYW5ndWFnZSk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCd0cmFuc2xhdGluZzogJyArIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLXRyYW5zbGF0aW9uLWtleScpICsgJyA9PiAnICsgdmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZW51bSBMYW5ndWFnZSB7XG4gICAgRFVUQ0ggPSAnbmwnLFxuICAgIEZSRU5DSCA9ICdmcicsXG4gICAgR0VSTUFOID0gJ2RlJyxcbiAgICBFTkdMSVNIID0gJ2VuJyxcbiAgICBEVVRDSF9LRVRORVQgPSAnbmxfa2V0bmV0Jyxcbn1cbiIsImltcG9ydCB7IExhbmd1YWdlLCBUcmFuc2xhdG9yIH0gZnJvbSAnLi4vdXRpbHMvdHJhbnNsYXRpb24vdHJhbnNsYXRvcic7XG5pbXBvcnQgeyBQbGF5ZXJDb2xvciB9IGZyb20gJy4vY29sb3JzJztcbmltcG9ydCB7IFNraW4gfSBmcm9tICcuL3ByZXNldHMnO1xuaW1wb3J0IHsgUGxheWVyRXZlbnQgfSBmcm9tICcuL2V2ZW50aW5nL3BsYXllci1ldmVudHMnO1xuXG5leHBvcnQgZW51bSBORVhUX1VQX0FVVE9QTEFZIHtcbiAgICBPTiA9ICdvbicsXG4gICAgT0ZGX1NUT1BfQVRfQkVHSU4gPSAnb2ZmX3N0b3BfYXRfYmVnaW4nLFxuICAgIE9GRl9TVE9QX0FUX0VORCA9ICdvZmZfc3RvcF9hdF9lbmQnLFxufVxuXG5leHBvcnQgZW51bSBQUkVMT0FEX01PREVTIHtcbiAgICBOT05FID0gJ25vbmUnLFxuICAgIE1FVEFEQVRBID0gJ21ldGFkYXRhJyxcbiAgICBBVVRPID0gJ2F1dG8nLFxufVxuXG5leHBvcnQgZW51bSBBQlJfU1RSQVRFR0lFUyB7XG4gICAgUEVSRk9STUFOQ0UgPSAncGVyZm9ybWFuY2UnLFxuICAgIFFVQUxJVFkgPSAncXVhbGl0eScsXG4gICAgQkFORFdJRFRIID0gJ2JhbmR3aWR0aCcsXG59XG5cbmV4cG9ydCBlbnVtIFBMQVlFUl9NT0RFUyB7XG4gICAgVklERU8gPSAndmlkZW8nLFxuICAgIEFVRElPID0gJ2F1ZGlvJyxcbn1cblxuZXhwb3J0IGNsYXNzIENvbmZpZyB7XG4gICAgcHVibGljIHN0YXRpYyBERUZBVUxUUzogQ29uZmlnRGVmYXVsdHMgPSB7XG4gICAgICAgIHNraW46ICdkZWZhdWx0JyxcbiAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgIGFzcGVjdFJhdGlvOiAnMTY6OScsXG4gICAgICAgIGlkZW50aXR5VG9rZW46ICcnLFxuICAgICAgICBjaW1JZDogJy5jQTYzeWU0WnlJSVB6ejcxSGw1QnFlMXJtRElsMXM1Z2dDRkFvWjlQdkwuSTcnLFxuICAgICAgICBuZXh0VXBEZWxheTogMTUsXG4gICAgICAgIG5leHRVcEF1dG9QbGF5OiAnb24nLFxuICAgICAgICB1aUxhbmd1YWdlOiBMYW5ndWFnZS5EVVRDSCxcbiAgICAgICAgYXV0aG9yaW5nTW9kZTogZmFsc2UsXG4gICAgICAgIHByZWxvYWRNb2RlOiBQUkVMT0FEX01PREVTLk1FVEFEQVRBLFxuICAgICAgICBhYnJTdHJhdGVneTogQUJSX1NUUkFURUdJRVMuQkFORFdJRFRILFxuICAgICAgICBzdGFydE11dGVkT3ZlcnJpZGU6IGZhbHNlLFxuICAgICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICAgIHBsYXllck1vZGU6IFBMQVlFUl9NT0RFUy5WSURFTyxcbiAgICAgICAgaXNMaXZlU3RhcnRPdmVyOiBmYWxzZSxcbiAgICAgICAgc3RhcnRPdmVyQmVnaW46IG51bGwsXG4gICAgICAgIHN0YXJ0T3ZlckVuZDogbnVsbCxcbiAgICB9O1xuXG4gICAgcHVibGljIHByb2R1Y3Rpb25Nb2RlOiBib29sZWFuO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHB1YmxpYyByZWFkb25seSBsaWJyYXJ5TG9jYXRpb246IHN0cmluZztcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWdncmVnYXRvclVybDogc3RyaW5nO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IHNob3dOb0Vycm9yczogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJlbG9hZE1vZGU6IHN0cmluZztcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWJyU3RyYXRlZ3k6IHN0cmluZztcblxuICAgIHB1YmxpYyByZWFkb25seSBwbGF5ZXJNb2RlOiBQTEFZRVJfTU9ERVM7XG4gICAgcHVibGljIHJlYWRvbmx5IGFzcGVjdFJhdGlvOiBzdHJpbmc7XG4gICAgcHVibGljIHJlYWRvbmx5IG5leHRVcERlbGF5OiBudW1iZXI7XG4gICAgcHVibGljIHJlYWRvbmx5IG5leHRVcEF1dG9QbGF5OiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgYWRDb25maWc6IEFkQ29uZmlndXJhdGlvbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdWlDb25maWc6IEludGVybmFsVWlDb25maWd1cmF0aW9uO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IGNsaWVudENvZGU6IHN0cmluZztcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2ltSWQ6IHN0cmluZztcbiAgICBwdWJsaWMgaWRlbnRpdHlUb2tlbjogc3RyaW5nO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IGF1dGhvcmluZ01vZGU6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXJ0TXV0ZWRPdmVycmlkZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXV0b3BsYXk6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IGFuYWx5dGljc0Fzc2V0TmFtZU92ZXJyaWRlOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgaXNMaXZlU3RhcnRPdmVyPzogYm9vbGVhbjtcbiAgICBwdWJsaWMgc3RhcnRPdmVyQmVnaW4/OiBzdHJpbmc7XG4gICAgcHVibGljIHN0YXJ0T3ZlckVuZD86IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm9kdWN0aW9uTW9kZTogYm9vbGVhbixcbiAgICAgICAgY29udGFpbmVyRWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgICAgIGxpYnJhcnlMb2NhdGlvbjogc3RyaW5nLFxuICAgICAgICBhZ2dyZWdhdG9yVXJsOiBzdHJpbmcsXG4gICAgICAgIGNsaWVudENvZGU6IHN0cmluZyxcbiAgICAgICAgaWRlbnRpdHlUb2tlbjogc3RyaW5nLFxuICAgICAgICBzaG93Tm9FcnJvcnM6IGJvb2xlYW4sXG4gICAgICAgIHByZWxvYWRNb2RlOiBzdHJpbmcsXG4gICAgICAgIHBsYXllck1vZGU6IFBMQVlFUl9NT0RFUyxcbiAgICAgICAgYXNwZWN0UmF0aW86IHN0cmluZyxcbiAgICAgICAgYWRDb25maWc6IEFkQ29uZmlndXJhdGlvbixcbiAgICAgICAgdWlDb25maWd1cmF0aW9uOiBJbnRlcm5hbFVpQ29uZmlndXJhdGlvbixcbiAgICAgICAgY2ltSWQ6IHN0cmluZyxcbiAgICAgICAgbmV4dFVwRGVsYXk6IG51bWJlcixcbiAgICAgICAgbmV4dFVwQXV0b1BsYXk6IHN0cmluZyxcbiAgICAgICAgYXV0aG9yaW5nTW9kZTogYm9vbGVhbixcbiAgICApIHtcbiAgICAgICAgdGhpcy5wcm9kdWN0aW9uTW9kZSA9IHByb2R1Y3Rpb25Nb2RlO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9IGNvbnRhaW5lckVsZW1lbnQ7XG4gICAgICAgIHRoaXMubGlicmFyeUxvY2F0aW9uID0gbGlicmFyeUxvY2F0aW9uO1xuICAgICAgICB0aGlzLmFnZ3JlZ2F0b3JVcmwgPSBhZ2dyZWdhdG9yVXJsO1xuXG4gICAgICAgIHRoaXMuc2hvd05vRXJyb3JzID0gc2hvd05vRXJyb3JzO1xuICAgICAgICB0aGlzLnByZWxvYWRNb2RlID0gcHJlbG9hZE1vZGU7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJNb2RlID0gcGxheWVyTW9kZTtcbiAgICAgICAgdGhpcy5hc3BlY3RSYXRpbyA9IGFzcGVjdFJhdGlvO1xuICAgICAgICB0aGlzLm5leHRVcERlbGF5ID0gbmV4dFVwRGVsYXk7XG4gICAgICAgIHRoaXMubmV4dFVwQXV0b1BsYXkgPSBuZXh0VXBBdXRvUGxheTtcblxuICAgICAgICB0aGlzLmFkQ29uZmlnID0gYWRDb25maWc7XG4gICAgICAgIHRoaXMudWlDb25maWcgPSB1aUNvbmZpZ3VyYXRpb247XG5cbiAgICAgICAgdGhpcy5jbGllbnRDb2RlID0gY2xpZW50Q29kZTtcbiAgICAgICAgdGhpcy5jaW1JZCA9IGNpbUlkO1xuICAgICAgICB0aGlzLmlkZW50aXR5VG9rZW4gPSBpZGVudGl0eVRva2VuO1xuXG4gICAgICAgIHRoaXMuYXV0aG9yaW5nTW9kZSA9IGF1dGhvcmluZ01vZGU7XG5cbiAgICAgICAgdGhpcy5pc0xpdmVTdGFydE92ZXIgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldFRoZW9Db25maWcoY29uZmlnOiBDb25maWcpOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWxsb3dOYXRpdmVGdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgICAgICAgbGlicmFyeUxvY2F0aW9uOiBjb25maWcubGlicmFyeUxvY2F0aW9uLFxuICAgICAgICAgICAgbXV0ZWRBdXRvcGxheTogJ2FsbCcsXG4gICAgICAgICAgICBwZXJzaXN0Vm9sdW1lOiBmYWxzZSxcbiAgICAgICAgICAgIGlzRW1iZWRkYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHVpOiB7XG4gICAgICAgICAgICAgICAgZmx1aWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IGNvbmZpZy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICAgICAgICBsYW5ndWFnZTogVHJhbnNsYXRvci5jb252ZXJ0VG9TdXBwb3J0ZWRUaGVvTGFuZ3VhZ2UoY29uZmlnLnVpQ29uZmlnLnVpTGFuZ3VhZ2UpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhc3Q6IHtcbiAgICAgICAgICAgICAgICBzdHJhdGVneTogJ21hbnVhbCcsXG4gICAgICAgICAgICAgICAgY2hyb21lY2FzdDoge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGFwcElEOiBwcm9jZXNzLmVudi5SRUNFSVZFUixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkczoge1xuICAgICAgICAgICAgICAgIHNob3dDb3VudGRvd246IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyQ29uZmlndXJhdGlvbiB7XG4gICAgbWVkaWFSZWZlcmVuY2U6IHN0cmluZztcbiAgICBtZWRpYVJlZmVyZW5jZXM6IHN0cmluZ1tdO1xuICAgIGFnZ3JlZ2F0b3JVcmw6IHN0cmluZztcbiAgICBwbGF5ZXJNb2RlOiBzdHJpbmc7XG4gICAgY2xpZW50Q29kZTogc3RyaW5nO1xuICAgIGlkZW50aXR5VG9rZW4/OiBzdHJpbmc7XG4gICAgY3VzdG9tRXJyb3JIYW5kbGluZz86IGJvb2xlYW47XG4gICAgcHJlbG9hZE1vZGU/OiBzdHJpbmc7XG4gICAgYWJyU3RyYXRlZ3k/OiBzdHJpbmc7XG4gICAgY2ltSWQ6IHN0cmluZztcbiAgICBhc3BlY3RSYXRpbz86IHN0cmluZztcbiAgICBuZXh0VXBEZWxheT86IG51bWJlcjtcbiAgICBuZXh0VXBBdXRvUGxheT86IHN0cmluZztcbiAgICBldmVudE1hcHBpbmdzPzogeyBldmVudDogc3RyaW5nOyBoYW5kbGVyOiAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHZvaWQgfVtdO1xuICAgIHByZXNldD86IHN0cmluZztcbiAgICBhdXRob3JpbmdNb2RlPzogYm9vbGVhbjtcbiAgICBzdGFydE11dGVkT3ZlcnJpZGU/OiBib29sZWFuO1xuICAgIGF1dG9wbGF5PzogYm9vbGVhbjtcbiAgICBhbmFseXRpY3NBc3NldE5hbWVPdmVycmlkZT86IHN0cmluZztcbiAgICBpc0xpdmVTdGFydE92ZXI/OiBib29sZWFuO1xuICAgIHN0YXJ0T3ZlckJlZ2luPzogc3RyaW5nO1xuICAgIHN0YXJ0T3ZlckVuZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZENvbmZpZ3VyYXRpb24ge1xuICAgIGdhbUFkVXJsPzogc3RyaW5nO1xuICAgIGNhdGVnb3J5Pzogc3RyaW5nO1xuICAgIHBhcnRuZXI/OiBzdHJpbmc7XG4gICAgbG9jYXRpb24/OiBzdHJpbmc7XG4gICAgaXNWUGFpZD86IGJvb2xlYW47XG4gICAgaXNWYXN0VmlhSW1hPzogYm9vbGVhbjtcbiAgICBjb25zZW50Pzogc3RyaW5nO1xuICAgIGV1Q29uc2VudD86IHN0cmluZztcbiAgICBkb21haW4/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVWlDb25maWd1cmF0aW9uIHtcbiAgICBjb2xvcjogc3RyaW5nIHwgUGxheWVyQ29sb3I7XG4gICAgc2tpbjogc3RyaW5nIHwgU2tpbjtcbiAgICB1aUxhbmd1YWdlPzogTGFuZ3VhZ2U7XG4gICAgZGlzYWJsZVRpdGxlPzogYm9vbGVhbjtcbiAgICBkaXNhYmxlVXBOZXh0VWk/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludGVybmFsVWlDb25maWd1cmF0aW9uIGV4dGVuZHMgVWlDb25maWd1cmF0aW9uIHtcbiAgICBkaXNhYmxlRmZBbmRSd0NvbnRyb2xzPzogYm9vbGVhbjtcbiAgICBkaXNhYmxlVm9sdW1lQ29udHJvbHM/OiBib29sZWFuO1xuICAgIGRpc2FibGVGdWxsU2NyZWVuQ29udHJvbD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlnRGVmYXVsdHMge1xuICAgIHNraW46IHN0cmluZztcbiAgICBjb2xvcjogc3RyaW5nO1xuICAgIGFzcGVjdFJhdGlvOiBzdHJpbmc7XG4gICAgaWRlbnRpdHlUb2tlbjogc3RyaW5nO1xuICAgIGNpbUlkOiBzdHJpbmc7XG4gICAgbmV4dFVwRGVsYXk6IG51bWJlcjtcbiAgICBuZXh0VXBBdXRvUGxheTogc3RyaW5nO1xuICAgIHVpTGFuZ3VhZ2U6IExhbmd1YWdlO1xuICAgIGF1dGhvcmluZ01vZGU6IGJvb2xlYW47XG4gICAgcHJlbG9hZE1vZGU6IHN0cmluZztcbiAgICBhYnJTdHJhdGVneTogc3RyaW5nO1xuICAgIHN0YXJ0TXV0ZWRPdmVycmlkZTogYm9vbGVhbjtcbiAgICBhdXRvcGxheTogYm9vbGVhbjtcbiAgICBwbGF5ZXJNb2RlOiBQTEFZRVJfTU9ERVM7XG4gICAgaXNMaXZlU3RhcnRPdmVyOiBib29sZWFuO1xuICAgIHN0YXJ0T3ZlckJlZ2luOiBzdHJpbmc7XG4gICAgc3RhcnRPdmVyRW5kOiBzdHJpbmc7XG59XG4iLCJpbXBvcnQgeyBQbGF5ZXJFdmVudCB9IGZyb20gJy4uL21vZGVsL2V2ZW50aW5nL3BsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgUHVibGljUGxheWVyRXZlbnQgfSBmcm9tICcuLi9tb2RlbC9ldmVudGluZy9wdWJsaWMtcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuLi9wbGF5ZXIvcHVibGlzaGVyJztcbmltcG9ydCB7IExhbmd1YWdlLCBUcmFuc2xhdG9yIH0gZnJvbSAnLi4vdXRpbHMvdHJhbnNsYXRpb24vdHJhbnNsYXRvcic7XG5cbmV4cG9ydCBjbGFzcyBFcnJvckhhbmRsZXIge1xuICAgIHB1YmxpYyByZWFkb25seSBwdWJsaXNoZXI6IFB1Ymxpc2hlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxhbmd1YWdlOiBMYW5ndWFnZTtcblxuICAgIGNvbnN0cnVjdG9yKHB1Ymxpc2hlcjogUHVibGlzaGVyLCBsYW5ndWFnZTogTGFuZ3VhZ2UpIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlRXJyb3JGcm9tQWdncmVnYXRvcihyZXF1ZXN0OiBYTUxIdHRwUmVxdWVzdCwgcmVzcG9uc2U6IGFueSk6IHZvaWQge1xuICAgICAgICBsZXQgZXJyb3I6IHsgY29kZTogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmcgfSA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlcnJvciA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvciA9IHsgY29kZTogJ1VOUEFSU0FCTEVfUkVTUE9OU0UnLCBtZXNzYWdlOiAnVGhlIHJlc3BvbnNlIGNhbm5vdCBiZSBwYXJzZWQhJyB9O1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnQ2Fubm90IHBhcnNlIHJlc3BvbnNlIScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmVycm9yO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gJ0ZvdXQ6ICc7XG4gICAgICAgIGV2ZW50LmNvbnRlbnQgPSBlcnJvciA/IGVycm9yIDogcmVzcG9uc2U7XG5cbiAgICAgICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdJTlZBTElEX1RPS0VOJzpcbiAgICAgICAgICAgICAgICBldmVudC5jb2RlID0gRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX0VSUk9SX0lOVkFMSURfVE9LRU47XG4gICAgICAgICAgICAgICAgZXZlbnQubWVzc2FnZSArPSBUcmFuc2xhdG9yLmdldFZhbHVlKCdlcnJvcnMtaW52YWxpZC10b2tlbicsIHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVklERU9fTk9UX0ZPVU5EJzpcbiAgICAgICAgICAgICAgICBldmVudC5jb2RlID0gRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX0VSUk9SX1ZJREVPX05PVF9GT1VORDtcbiAgICAgICAgICAgICAgICBldmVudC5tZXNzYWdlICs9IFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ2Vycm9ycy12aWRlby1ub3QtZm91bmQnLCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0lOVkFMSURfSU5URVJWQUwnOlxuICAgICAgICAgICAgICAgIGV2ZW50LmNvZGUgPSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfSU5WQUxJRF9JTlRFUlZBTDtcbiAgICAgICAgICAgICAgICBldmVudC5tZXNzYWdlICs9IFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ2Vycm9ycy1pbnZhbGlkLWludGVydmFsJywgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdJTlZBTElEX0xPQ0FUSU9OJzpcbiAgICAgICAgICAgICAgICBldmVudC5jb2RlID0gRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX0VSUk9SX0dFT0JMT0NLRUQ7XG4gICAgICAgICAgICAgICAgZXZlbnQubWVzc2FnZSArPSBUcmFuc2xhdG9yLmdldFZhbHVlKCdlcnJvcnMtaW52YWxpZC1sb2NhdGlvbicsIHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQVVUSEVOVElDQVRJT05fUkVRVUlSRUQnOlxuICAgICAgICAgICAgICAgIGV2ZW50LmNvZGUgPSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfTk9UX0FVVEhFTlRJQ0FURUQ7XG4gICAgICAgICAgICAgICAgZXZlbnQubWVzc2FnZSArPSBUcmFuc2xhdG9yLmdldFZhbHVlKCdlcnJvcnMtYXV0aGVudGljYXRpb24tcmVxdWlyZWQnLCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0lOQ09NUExFVEVfUk9BTUlOR19DT05GSUcnOlxuICAgICAgICAgICAgICAgIGV2ZW50LmNvZGUgPSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfSU5DT01QTEVURV9QUk9GSUxFO1xuICAgICAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgKz0gVHJhbnNsYXRvci5nZXRWYWx1ZSgnZXJyb3JzLWluY29tcGxldGUtcm9hbWluZy1jb25maWcnLCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ05PX1JPQU1JTkcnOlxuICAgICAgICAgICAgICAgIGV2ZW50LmNvZGUgPSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfTk9fUk9BTUlORztcbiAgICAgICAgICAgICAgICBldmVudC5tZXNzYWdlICs9IFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ2Vycm9ycy1uby1yb2FtaW5nJywgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQUk9YWV9ERVRFQ1RFRCc6XG4gICAgICAgICAgICAgICAgZXZlbnQuY29kZSA9IEVycm9yQ29kZXMuQUdHUkVHQVRPUl9QUk9YWV9FUlJPUjtcbiAgICAgICAgICAgICAgICBldmVudC5tZXNzYWdlICs9IFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ2Vycm9ycy1wcm94eS1kZXRlY3RlZCcsIHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVVNFUl9OT1RfQVVUSEVOVElDQVRFRF9BTkRfUk9BTUlOR19JU19SRVFVSVJFRCc6XG4gICAgICAgICAgICAgICAgZXZlbnQuY29kZSA9IEVycm9yQ29kZXMuQUdHUkVHQVRPUl9FUlJPUl9OT1RfQVVUSEVOVElDQVRFRF9BTkRfUk9BTUlOR19SRVFVSVJFRDtcbiAgICAgICAgICAgICAgICBldmVudC5tZXNzYWdlICs9IFRyYW5zbGF0b3IuZ2V0VmFsdWUoXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcnMtdXNlci1ub3QtYXV0aGVudGljYXRlZC1hbmQtcm9hbWluZy1pcy1yZXF1aXJlZCcsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0VSUk9SX0FHRV9SRVNUUklDVEVEJzpcbiAgICAgICAgICAgICAgICBldmVudC5jb2RlID0gRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX0VSUk9SX0FHRV9SRVNUUklDVEVEO1xuICAgICAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgKz0gVHJhbnNsYXRvci5nZXRWYWx1ZSgnZXJyb3JzLWNvbnRlbnQtaXMtYWdlLXJlc3RyaWN0ZWQnLCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZXZlbnQuY29kZSA9IEVycm9yQ29kZXMuQUdHUkVHQVRPUl9FUlJPUl9HRU5FUkFMO1xuICAgICAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgKz0gVHJhbnNsYXRvci5nZXRWYWx1ZSgnZXJyb3JzLXVua25vd24nLCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goZXZlbnQpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGV2ZW50LmNvZGUgPT09IEVycm9yQ29kZXMuQUdHUkVHQVRPUl9FUlJPUl9HRU9CTE9DS0VEIHx8IC8vMTA0XG4gICAgICAgICAgICBldmVudC5jb2RlID09PSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfTk9UX0FVVEhFTlRJQ0FURUQgfHwgLy8xMDVcbiAgICAgICAgICAgIGV2ZW50LmNvZGUgPT09IEVycm9yQ29kZXMuQUdHUkVHQVRPUl9FUlJPUl9OT19ST0FNSU5HIHx8IC8vMTA2XG4gICAgICAgICAgICBldmVudC5jb2RlID09PSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfSU5DT01QTEVURV9QUk9GSUxFIHx8IC8vMTA3XG4gICAgICAgICAgICBldmVudC5jb2RlID09PSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfTk9UX0FVVEhFTlRJQ0FURURfQU5EX1JPQU1JTkdfUkVRVUlSRUQgfHwgLy8xMDhcbiAgICAgICAgICAgIGV2ZW50LmNvZGUgPT09IEVycm9yQ29kZXMuQUdHUkVHQVRPUl9FUlJPUl9BR0VfUkVTVFJJQ1RFRCAvLzEwOVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IGV4dHJhRXZlbnQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnBsYXlub3RhbGxvd2VkO1xuICAgICAgICAgICAgZXh0cmFFdmVudC5jb2RlID0gZXZlbnQuY29kZTtcbiAgICAgICAgICAgIGV4dHJhRXZlbnQubWVzc2FnZSA9IGV2ZW50Lm1lc3NhZ2U7XG4gICAgICAgICAgICBleHRyYUV2ZW50LmNvbnRlbnQgPSBldmVudC5jb250ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKGV4dHJhRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRsZUVycm9yRnJvbVYyQWdncmVnYXRvcihyZXF1ZXN0OiBYTUxIdHRwUmVxdWVzdCwgcmVzcG9uc2U6IGFueSk6IHZvaWQge1xuICAgICAgICBsZXQgZXJyb3I6IHsgY29kZTogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmcgfSA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlcnJvciA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvciA9IHsgY29kZTogJ1VOUEFSU0FCTEVfUkVTUE9OU0UnLCBtZXNzYWdlOiAnVGhlIHJlc3BvbnNlIGNhbm5vdCBiZSBwYXJzZWQhJyB9O1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnQ2Fubm90IHBhcnNlIHJlc3BvbnNlIScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmVycm9yO1xuICAgICAgICBldmVudC5tZXNzYWdlID0gJ0ZvdXQ6ICc7XG4gICAgICAgIGV2ZW50LmNvbnRlbnQgPSBlcnJvciA/IGVycm9yIDogcmVzcG9uc2U7XG5cbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgICAgIGV2ZW50LmNvZGUgPSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfSU5WQUxJRF9UT0tFTjtcbiAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgKz0gVHJhbnNsYXRvci5nZXRWYWx1ZSgnZXJyb3JzLWludmFsaWQtdG9rZW4nLCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICAgIGV2ZW50LmNvbnRlbnQgPSB7IGNvZGU6ICdJTlZBTElEX1RPS0VOJyB9O1xuICAgICAgICB9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGV2ZW50LmNvZGUgPSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfRVJST1JfVklERU9fTk9UX0ZPVU5EO1xuICAgICAgICAgICAgZXZlbnQubWVzc2FnZSArPSBUcmFuc2xhdG9yLmdldFZhbHVlKCdlcnJvcnMtdmlkZW8tbm90LWZvdW5kJywgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgICAgICBldmVudC5jb250ZW50ID0geyBjb2RlOiAnVklERU9fTk9UX0ZPVU5EJyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ09OVEVOVF9BVkFJTEFCTEVfT05MWV9GT1JfQkVfUkVTSURFTlRTX0FORF9FWFBBVFMnOlxuICAgICAgICAgICAgICAgICAgICBldmVudC5jb2RlID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDT05URU5UX0FWQUlMQUJMRV9PTkxZX0ZPUl9CRV9SRVNJREVOVFMnOlxuICAgICAgICAgICAgICAgICAgICBldmVudC5jb2RlID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDT05URU5UX0FWQUlMQUJMRV9PTkxZX0lOX0JFJzpcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY29kZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5tZXNzYWdlID0gZXJyb3IuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ09OVEVOVF9VTkFWQUlMQUJMRV9WSUFfUFJPWFknOlxuICAgICAgICAgICAgICAgICAgICBldmVudC5jb2RlID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDT05URU5UX0NVUlJFTlRMWV9VTkFWQUlMQUJMRSc6XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmNvZGUgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQubWVzc2FnZSA9IGVycm9yLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NPTlRFTlRfSVNfQUdFX1JFU1RSSUNURUQnOlxuICAgICAgICAgICAgICAgICAgICBldmVudC5jb2RlID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDT05URU5UX1JFUVVJUkVTX0FVVEhFTlRJQ0FUSU9OJzpcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY29kZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5tZXNzYWdlID0gZXJyb3IuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY29kZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5tZXNzYWdlID0gZXJyb3IuY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goZXZlbnQpO1xuXG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgZXh0cmFFdmVudDogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucGxheW5vdGFsbG93ZWQ7XG4gICAgICAgICAgICBleHRyYUV2ZW50LmNvZGUgPSBldmVudC5jb2RlO1xuICAgICAgICAgICAgZXh0cmFFdmVudC5tZXNzYWdlID0gZXZlbnQubWVzc2FnZTtcbiAgICAgICAgICAgIGV4dHJhRXZlbnQuY29udGVudCA9IGV2ZW50LmNvbnRlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goZXh0cmFFdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlWW91VHViZUVycm9yKGNvZGU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAoIWNvZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV2ZW50OiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5lcnJvcjtcblxuICAgICAgICBsZXQgZXJyb3I6IHN0cmluZyA9ICcnO1xuXG4gICAgICAgIGxldCBpbnRlcm5hbENvZGU6IG51bWJlcjtcbiAgICAgICAgbGV0IGludGVybmFsRXJyb3I6IHN0cmluZyA9ICcnO1xuXG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGludGVybmFsQ29kZSA9IEVycm9yQ29kZXMuUExBWUVSX1lPVVRVQkVfRVJST1JfSU5WQUxJRF9QQVJBTTtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEVycm9yID0gVHJhbnNsYXRvci5nZXRWYWx1ZSgnZXJyb3JzLXlvdXR1YmUtaW52YWxpZC1wYXJhbScsIHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIGVycm9yID0gJ1RoZSByZXF1ZXN0IGNvbnRhaW5zIGFuIGludmFsaWQgcGFyYW1ldGVyIHZhbHVlJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBpbnRlcm5hbENvZGUgPSBFcnJvckNvZGVzLlBMQVlFUl9ZT1VUVUJFX0VSUk9SX0hUTUw1O1xuICAgICAgICAgICAgICAgIGludGVybmFsRXJyb3IgPSBUcmFuc2xhdG9yLmdldFZhbHVlKCdlcnJvcnMteW91dHViZS1odG1sNS1lcnJvcicsIHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIGVycm9yID1cbiAgICAgICAgICAgICAgICAgICAgJ1RoZSByZXF1ZXN0ZWQgY29udGVudCBjYW5ub3QgYmUgcGxheWVkIGluIGFuIEhUTUw1IHBsYXllciBvciBhbm90aGVyIGVycm9yIHJlbGF0ZWQgdG8gdGhlIEhUTUw1IHBsYXllciBoYXMgb2NjdXJyZWQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMDA6XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxDb2RlID0gRXJyb3JDb2Rlcy5QTEFZRVJfWU9VVFVCRV9FUlJPUl9WSURFT19OT1RfRk9VTkQ7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxFcnJvciA9IFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ2Vycm9ycy15b3V0dWJlLXZpZGVvLW5vdC1mb3VuZCcsIHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIGVycm9yID0gJ1RoZSB2aWRlbyByZXF1ZXN0ZWQgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMDE6XG4gICAgICAgICAgICBjYXNlIDE1MDpcbiAgICAgICAgICAgICAgICBpbnRlcm5hbENvZGUgPSBFcnJvckNvZGVzLlBMQVlFUl9ZT1VUVUJFX0VSUk9SX0VNQkVEO1xuICAgICAgICAgICAgICAgIGludGVybmFsRXJyb3IgPSBUcmFuc2xhdG9yLmdldFZhbHVlKCdlcnJvcnMteW91dHViZS1lbWJlZC1ub3QtYWxsb3dlZCcsIHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIGVycm9yID0gJ1RoZSBvd25lciBvZiB0aGUgcmVxdWVzdGVkIHZpZGVvIGRvZXMgbm90IGFsbG93IGl0IHRvIGJlIHBsYXllZCBpbiBlbWJlZGRlZCBwbGF5ZXJzLic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGludGVybmFsQ29kZSA9IEVycm9yQ29kZXMuUExBWUVSX1lPVVRVQkVfRVJST1JfR0VORVJBTDtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEVycm9yID0gVHJhbnNsYXRvci5nZXRWYWx1ZSgnZXJyb3JzLXVua25vd24nLCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICBlcnJvciA9ICdBbiB1bmtub3duIFlvdVR1YmUgZXJyb3Igb2NjdXJyZWQnO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQuY29kZSA9IGludGVybmFsQ29kZTtcbiAgICAgICAgZXZlbnQubWVzc2FnZSA9IGVycm9yO1xuICAgICAgICBldmVudC5jb250ZW50ID0ge1xuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goZXZlbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBoYW5kbGVFcnJvcihjb2RlOiBFcnJvckNvZGVzLCBrZXlPck1lc3NhZ2U6IHN0cmluZywgY29udGVudD86IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zdCBldmVudDogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZXJyb3I7XG4gICAgICAgIGV2ZW50LmNvZGUgPSBjb2RlO1xuICAgICAgICBjb25zdCB0cmFuc2xhdGVkS2V5OiBzdHJpbmcgPSBUcmFuc2xhdG9yLmdldFZhbHVlKGtleU9yTWVzc2FnZSwgdGhpcy5sYW5ndWFnZSwgdHJ1ZSk7XG4gICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSB0cmFuc2xhdGVkS2V5ID8gdHJhbnNsYXRlZEtleSA6IGtleU9yTWVzc2FnZTtcbiAgICAgICAgZXZlbnQuY29udGVudCA9IGNvbnRlbnQgPyBjb250ZW50IDoge307XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChldmVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRsZVdhcm5pbmcoY29kZTogRXJyb3JDb2Rlcywga2V5T3JNZXNzYWdlOiBzdHJpbmcsIGNvbnRlbnQ/OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZXZlbnQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLndhcm5pbmc7XG4gICAgICAgIGV2ZW50LmNvZGUgPSBjb2RlO1xuICAgICAgICBjb25zdCB0cmFuc2xhdGVkS2V5OiBzdHJpbmcgPSBUcmFuc2xhdG9yLmdldFZhbHVlKGtleU9yTWVzc2FnZSwgdGhpcy5sYW5ndWFnZSwgdHJ1ZSk7XG4gICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSB0cmFuc2xhdGVkS2V5ID8gdHJhbnNsYXRlZEtleSA6IGtleU9yTWVzc2FnZTtcbiAgICAgICAgZXZlbnQuY29udGVudCA9IGNvbnRlbnQgPyBjb250ZW50IDoge307XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChldmVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBlcnJvclRvU2VudHJ5KGZpbmdlcnByaW50TmFtZTogc3RyaW5nLCBldmVudDogUGxheWVyRXZlbnQ8YW55Pik6IHZvaWQge1xuICAgICAgICBpZiAoIWZpbmdlcnByaW50TmFtZSAmJiAhZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbmdlcnByaW50TmFtZSA9IGZpbmdlcnByaW50TmFtZSA/IGZpbmdlcnByaW50TmFtZSA6ICdEZWZhdWx0LWZpbmdlcnByaW50JztcblxuICAgICAgICBjb25zdCB3OiBhbnkgPSB3aW5kb3c7XG4gICAgICAgIGlmICh3LlNlbnRyeSkge1xuICAgICAgICAgICAgdy5TZW50cnkud2l0aFNjb3BlKChzY29wZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGVycm9yOiBFcnJvcjtcbiAgICAgICAgICAgICAgICBsZXQgc3BlY2lmaWNFcnJvcjogc3RyaW5nID0gJ1Vua25vd24nO1xuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGU6IHN0cmluZyA9IGV2ZW50LmNvZGUgPyBldmVudC5jb2RlICsgJycgOiAnVW5rbm93bic7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWU6IHN0cmluZyA9IGV2ZW50Lm5hbWUgPyBldmVudC5uYW1lIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U6IHN0cmluZyA9IChldmVudCBhcyBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+KS5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChldmVudCBhcyBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+KS5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlID8gbWVzc2FnZSA6IEpTT04uc3RyaW5naWZ5KGV2ZW50LCBudWxsLCA0KTtcblxuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihjb2RlICsgJzogJyArIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAoZXJyb3IgYXMgYW55KS5kYXRhID0gZXZlbnQuY29udGVudCA/IGV2ZW50LmNvbnRlbnQgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWNFcnJvciA9IGNvZGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZmluZ2VycHJpbnROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IFZSVF9CVUlMRF9WRVJTSU9OO1xuICAgICAgICAgICAgICAgIHNjb3BlLnNldEZpbmdlcnByaW50KFtmaW5nZXJwcmludE5hbWUsIHZlcnNpb24sIHNwZWNpZmljRXJyb3JdKTtcbiAgICAgICAgICAgICAgICB3LlNlbnRyeS5jYXB0dXJlRXhjZXB0aW9uKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVFcnJvcihtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiBFcnJvciB7XG4gICAgICAgIGxldCBlcnJvcjogRXJyb3I7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBlcnJvci5kYXRhID0gZGF0YTtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbn1cblxuZXhwb3J0IGVudW0gRXJyb3JDb2RlcyB7XG4gICAgQUdHUkVHQVRPUl9WMl9VTk1BUFBFRCA9IC0xLFxuXG4gICAgQUdHUkVHQVRPUl9FUlJPUl9HRU5FUkFMID0gMTAwLFxuICAgIEFHR1JFR0FUT1JfRVJST1JfSU5WQUxJRF9UT0tFTiA9IDEwMSxcbiAgICBBR0dSRUdBVE9SX0VSUk9SX1ZJREVPX05PVF9GT1VORCA9IDEwMixcbiAgICBBR0dSRUdBVE9SX0VSUk9SX0lOVkFMSURfSU5URVJWQUwgPSAxMDMsXG4gICAgQUdHUkVHQVRPUl9FUlJPUl9HRU9CTE9DS0VEID0gMTA0LFxuICAgIEFHR1JFR0FUT1JfRVJST1JfTk9UX0FVVEhFTlRJQ0FURUQgPSAxMDUsXG4gICAgQUdHUkVHQVRPUl9FUlJPUl9OT19ST0FNSU5HID0gMTA2LFxuICAgIEFHR1JFR0FUT1JfRVJST1JfSU5DT01QTEVURV9QUk9GSUxFID0gMTA3LFxuICAgIEFHR1JFR0FUT1JfRVJST1JfTk9UX0FVVEhFTlRJQ0FURURfQU5EX1JPQU1JTkdfUkVRVUlSRUQgPSAxMDgsXG4gICAgQUdHUkVHQVRPUl9FUlJPUl9BR0VfUkVTVFJJQ1RFRCA9IDEwOSxcbiAgICBBR0dSRUdBVE9SX1RPS0VOX0VSUk9SX0NBTk5PVF9HRVRfVE9LRU4gPSAxMjAsXG4gICAgQUdHUkVHQVRPUl9UT0tFTl9FUlJPUl9TVE9SRURfVE9LRU5fTUFMRk9STUVEID0gMTIxLFxuICAgIEFHR1JFR0FUT1JfU0NIRURVTEVfRVJST1JfQ0FOTk9UX0dFVF9TQ0hFRFVMRSA9IDEzMCxcbiAgICBBR0dSRUdBVE9SX1BST1hZX0VSUk9SID0gMTQwLFxuXG4gICAgUExBWUVSX0FQSV9FUlJPUl9HRU5FUkFMID0gMjAwLFxuICAgIFBMQVlFUl9BUElfRVJST1JfRFJNID0gMjAxLFxuICAgIFBMQVlFUl9BUElfRVJST1JfREFTSF9TRUdNRU5UX05PVF9GT1VORCA9IDIwMixcbiAgICBQTEFZRVJfQVBJX0VSUk9SX01PREUgPSAyMDMsXG4gICAgUExBWUVSX0FQSV9FUlJPUl9QTEFZTElTVCA9IDIwNCxcbiAgICBQTEFZRVJfQVBJX0VSUk9SX1BMQVlCQUNLX05PVF9TVVBQT1JURUQgPSAyMDUsXG4gICAgUExBWUVSX0FQSV9FUlJPUl9FVkVOVF9IQU5ETEVSID0gMjA2LFxuICAgIFBMQVlFUl9BRFNfQVBJX0dFTkVSQUwgPSAyMTAsXG4gICAgUExBWUVSX05FVFdPUktfQVBJX0dFTkVSQUwgPSAyMjAsXG4gICAgUExBWUVSX0NIUk9NRUNBU1RfQVBJX0dFTkVSQUwgPSAyMzAsXG4gICAgUExBWUVSX0ZVTkNUSU9OU19HRU5FUkFMID0gMzAwLFxuICAgIFBMQVlFUl9GVU5DVElPTlNfU1RBUlRPVkVSID0gMzAxLFxuICAgIFBMQVlFUl9GVU5DVElPTlNfU09VUkNFX0ZBTExUSFJPVUdIID0gMzAyLFxuICAgIFBMQVlFUl9GVU5DVElPTlNfQURPQkVfQU5BTFlUSUNTX0VSUk9SID0gMzAzLFxuICAgIFBMQVlFUl9GVU5DVElPTlNfQ0lNX0FOQUxZVElDU19FUlJPUiA9IDMwNCxcbiAgICBQTEFZRVJfRlVOQ1RJT05TX01FRElBX01FTE9OX0FOQUxZVElDU19FUlJPUiA9IDMwNSxcbiAgICBQTEFZRVJfRlVOQ1RJT05TX0FEX1BMQVlCQUNLID0gMzA2LFxuXG4gICAgUExBWUVSX1lPVVRVQkVfRVJST1JfR0VORVJBTCA9IDMxMCxcbiAgICBQTEFZRVJfWU9VVFVCRV9FUlJPUl9JTlZBTElEX1BBUkFNID0gMzExLFxuICAgIFBMQVlFUl9ZT1VUVUJFX0VSUk9SX0hUTUw1ID0gMzEyLFxuICAgIFBMQVlFUl9ZT1VUVUJFX0VSUk9SX1ZJREVPX05PVF9GT1VORCA9IDMxMyxcbiAgICBQTEFZRVJfWU9VVFVCRV9FUlJPUl9FTUJFRCA9IDMxNCxcblxuICAgIFBMQVlFUl9VSV9URU1QTEFURV9FUlJPUiA9IDQwMCxcblxuICAgIEdFTkVSSUNfRVJST1IgPSA5OTksXG59XG4iLCJleHBvcnQgY2xhc3MgUXVhbGl0eSB7XG4gICAgcHVibGljIGJhbmR3aWR0aDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoYmFuZHdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5iYW5kd2lkdGggPSBiYW5kd2lkdGg7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUXVhbGl0eSB9IGZyb20gJy4vcXVhbGl0eSc7XG5cbmV4cG9ydCBjbGFzcyBWaWRlb1F1YWxpdHkgZXh0ZW5kcyBRdWFsaXR5IHtcbiAgICBwdWJsaWMgZnJhbWVyYXRlOiBudW1iZXI7XG4gICAgcHVibGljIHdpZHRoOiBudW1iZXI7XG4gICAgcHVibGljIGhlaWdodDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZnJhbWVyYXRlOiBudW1iZXIsIGJhbmR3aWR0aDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICBzdXBlcihiYW5kd2lkdGgpO1xuXG4gICAgICAgIHRoaXMuZnJhbWVyYXRlID0gZnJhbWVyYXRlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cbn1cbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQbGF5ZXJFdmVudHMge31cblxuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJFdmVudDxUPiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNvZGU6IG51bWJlcjtcbiAgICBjb250ZW50PzogVDtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xufVxuIiwiaW1wb3J0IHsgQWN0aXZlUGxheWxpc3RJdGVtIH0gZnJvbSAnLi4vbG9naWMvcHJvZ3JhbW1pbmctc2VydmljZSc7XG5pbXBvcnQgeyBEaWdpdGFsRGF0YSB9IGZyb20gJy4vZGlnaXRhbC1kYXRhJztcbmltcG9ydCB7IFNjaGVkdWxlSXRlbSB9IGZyb20gJy4vc2NoZWR1bGUtaXRlbSc7XG5pbXBvcnQgeyBTb3VyY2VEZXNjcmlwdGlvbiB9IGZyb20gJy4vc291cmNlLWRlc2NyaXB0aW9uJztcbmltcG9ydCB7IFR5cGVkU291cmNlIH0gZnJvbSAnLi90eXBlZC1zb3VyY2UnO1xuXG5leHBvcnQgY2xhc3MgTWVkaWFJbmZvIHtcbiAgICBwdWJsaWMgbWVkaWFSZWZlcmVuY2U6IHN0cmluZztcbiAgICBwdWJsaWMgYW5hbHl0aWNzUmVmZXJlbmNlOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgdGl0bGU6IHN0cmluZztcbiAgICBwdWJsaWMgc2hvcnREZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIHB1YmxpYyBjaGFubmVsSWQ6IHN0cmluZztcbiAgICBwdWJsaWMgZHVyYXRpb246IG51bWJlcjtcbiAgICBwdWJsaWMgYXNwZWN0UmF0aW86IGFueTtcbiAgICBwdWJsaWMgc2tpblR5cGU6IHN0cmluZztcbiAgICBwdWJsaWMgcG9zdGVySW1hZ2VVcmw6IHN0cmluZztcblxuICAgIHB1YmxpYyBkcm06IHN0cmluZztcbiAgICBwdWJsaWMgZHJtRXhwaXJlZDogRGF0ZTtcblxuICAgIHB1YmxpYyBkaWdpdGFsRGF0YTogRGlnaXRhbERhdGE7XG5cbiAgICBwdWJsaWMgdGFyZ2V0VXJsczogVGFyZ2V0VXJsW107XG4gICAgcHVibGljIHNvdXJjZXM6IFR5cGVkU291cmNlW107XG4gICAgcHVibGljIGN1cnJlbnRTb3VyY2U6IFNvdXJjZURlc2NyaXB0aW9uO1xuXG4gICAgcHVibGljIGNoYXB0ZXJpbmc6IENoYXB0ZXJpbmc7XG5cbiAgICBwdWJsaWMgbWVkaWFTZWN0aW9uczogU2VjdGlvbkxpc3Q7XG4gICAgcHVibGljIGFjdGl2ZVBsYXlsaXN0SXRlbTogQWN0aXZlUGxheWxpc3RJdGVtO1xuICAgIHB1YmxpYyByZW1haW5pbmdQbGF5bGlzdEl0ZW1EdXJhdGlvbjogbnVtYmVyO1xuXG4gICAgcHVibGljIGxpdmVTY2hlZHVsZTogU2NoZWR1bGVJdGVtW107XG4gICAgcHVibGljIGFjdGl2ZVNjaGVkdWxlSXRlbTogU2NoZWR1bGVJdGVtO1xuXG4gICAgcHVibGljIG92ZXJyaWRkZW5Bc3NldE5hbWU6IHN0cmluZztcblxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRHVtbXlNZWRpYUluZm8oKTogTWVkaWFJbmZvIHtcbiAgICAgICAgY29uc3QgZHVtbXlNZWRpYUluZm86IE1lZGlhSW5mbyA9IG5ldyBNZWRpYUluZm8oXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5ldyBEYXRlKCksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgKTtcbiAgICAgICAgZHVtbXlNZWRpYUluZm8uY3VycmVudFNvdXJjZSA9IG5ldyBTb3VyY2VEZXNjcmlwdGlvbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcmM6IG51bGwsXG4gICAgICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICBjb250ZW50UHJvdGVjdGlvbjogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBkdW1teU1lZGlhSW5mbztcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbWVkaWFSZWZlcmVuY2U6IHN0cmluZyxcbiAgICAgICAgYXNwZWN0UmF0aW86IGFueSxcbiAgICAgICAgY2hhbm5lbElkOiBzdHJpbmcsXG4gICAgICAgIGNoYXB0ZXJpbmc6IENoYXB0ZXJpbmcsXG4gICAgICAgIGRybTogc3RyaW5nLFxuICAgICAgICBkcm1FeHBpcmVkOiBEYXRlLFxuICAgICAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgICAgICBtZWRpYVNlY3Rpb25zOiBTZWN0aW9uTGlzdCxcbiAgICAgICAgcG9zdGVySW1hZ2VVcmw6IHN0cmluZyxcbiAgICAgICAgc2hvcnREZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgICAgICBza2luVHlwZTogc3RyaW5nLFxuICAgICAgICB0YXJnZXRVcmxzOiBUYXJnZXRVcmxbXSxcbiAgICAgICAgdGl0bGU6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5tZWRpYVJlZmVyZW5jZSA9IG1lZGlhUmVmZXJlbmNlO1xuICAgICAgICB0aGlzLmFzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW87XG4gICAgICAgIHRoaXMuY2hhbm5lbElkID0gY2hhbm5lbElkO1xuICAgICAgICB0aGlzLmNoYXB0ZXJpbmcgPSBjaGFwdGVyaW5nO1xuICAgICAgICB0aGlzLmRybSA9IGRybTtcbiAgICAgICAgdGhpcy5kcm1FeHBpcmVkID0gZHJtRXhwaXJlZDtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICB0aGlzLm1lZGlhU2VjdGlvbnMgPSBtZWRpYVNlY3Rpb25zO1xuICAgICAgICB0aGlzLnBvc3RlckltYWdlVXJsID0gcG9zdGVySW1hZ2VVcmw7XG4gICAgICAgIHRoaXMuc2hvcnREZXNjcmlwdGlvbiA9IHNob3J0RGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuc2tpblR5cGUgPSBza2luVHlwZTtcbiAgICAgICAgdGhpcy50YXJnZXRVcmxzID0gdGFyZ2V0VXJscztcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50U291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuXG4gICAgICAgIHRoaXMubGl2ZVNjaGVkdWxlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlU2NoZWR1bGVJdGVtID0gbnVsbDtcblxuICAgICAgICB0aGlzLmFjdGl2ZVBsYXlsaXN0SXRlbSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVtYWluaW5nUGxheWxpc3RJdGVtRHVyYXRpb24gPSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0xpdmVTdHJlYW0oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNraW5UeXBlID09PSBNZWRpYVR5cGVzLkxJVkU7XG4gICAgfVxuXG4gICAgcHVibGljIGlzTGl2ZVRvVXJsKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy50YXJnZXRVcmxzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldFVybCBvZiB0aGlzLnRhcmdldFVybHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0VXJsLnVybCAmJiB0YXJnZXRVcmwudXJsLnNlYXJjaCgndD0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFzc2V0TmFtZShhc3NldE5hbWVJZk5vdEZvdW5kPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGFzc2V0TmFtZTogc3RyaW5nID0gYXNzZXROYW1lSWZOb3RGb3VuZCA/IGFzc2V0TmFtZUlmTm90Rm91bmQgOiB0aGlzLnRpdGxlO1xuXG4gICAgICAgIGlmICh0aGlzLmRpZ2l0YWxEYXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0xpdmVTdHJlYW0oKSkge1xuICAgICAgICAgICAgICAgIGFzc2V0TmFtZSA9IHRoaXMubWVkaWFSZWZlcmVuY2UgKyAnIC0gbGl2ZXN0cmVhbSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpZ2l0YWxEYXRhICYmIHRoaXMuZGlnaXRhbERhdGEucGFnZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYnJvYWRjYXN0RGF0ZTogc3RyaW5nID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpZ2l0YWxEYXRhLnBhZ2UuZXBpc29kZV9icm9hZGNhc3RfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYkRhdGU6IERhdGUgPSBuZXcgRGF0ZSh0aGlzLmRpZ2l0YWxEYXRhLnBhZ2UuZXBpc29kZV9icm9hZGNhc3RfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXk6IHN0cmluZyA9IGJEYXRlLmdldERhdGUoKSA8IDEwID8gJzAnICsgYkRhdGUuZ2V0RGF0ZSgpIDogYkRhdGUuZ2V0RGF0ZSgpICsgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aDogc3RyaW5nID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiRGF0ZS5nZXRNb250aCgpICsgMSA8IDEwID8gJzAnICsgKGJEYXRlLmdldE1vbnRoKCkgKyAxKSA6IGJEYXRlLmdldE1vbnRoKCkgKyAxICsgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ZWFyOiBzdHJpbmcgPSAoYkRhdGUuZ2V0RnVsbFllYXIoKSArICcnKS5zdWJzdHJpbmcoMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicm9hZGNhc3REYXRlID0gZGF5ICsgJy8nICsgbW9udGggKyAnLycgKyB5ZWFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0TmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpZ2l0YWxEYXRhLnBhZ2UucHJvZ3JhbV9uYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgLSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdERhdGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlnaXRhbERhdGEucGFnZS5lcGlzb2RlX25hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFzc2V0TmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QXNzZXRJZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYVJlZmVyZW5jZS5zcGxpdCgnJCcpLnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1hcFRvUHVibGljTWVkaWFJbmZvKCk6IFB1YmxpY01lZGlhSW5mbyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbmFseXRpY3NSZWZlcmVuY2U6IHRoaXMuYW5hbHl0aWNzUmVmZXJlbmNlLFxuICAgICAgICAgICAgYXNwZWN0UmF0aW86IHRoaXMuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICBjaGFubmVsSWQ6IHRoaXMuY2hhbm5lbElkLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sXG4gICAgICAgICAgICBtZWRpYVJlZmVyZW5jZTogdGhpcy5tZWRpYVJlZmVyZW5jZSxcbiAgICAgICAgICAgIHBvc3RlckltYWdlVXJsOiB0aGlzLnBvc3RlckltYWdlVXJsLFxuICAgICAgICAgICAgc2hvcnREZXNjcmlwdGlvbjogdGhpcy5zaG9ydERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlYWxTZWVrVGltZShzZWNvbmRzRnJvbVN0YXJ0OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBpZiAodGhpcy5tZWRpYVNlY3Rpb25zICYmIHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcodGhpcy5tZWRpYVNlY3Rpb25zKTtcblxuICAgICAgICAgICAgbGV0IHRpbWVCZWZvcmVNYWluQ29udGVudDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiB0aGlzLm1lZGlhU2VjdGlvbnMuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uLmV2ZW50VHlwZSA9PT0gJ1NUQU5EQVJEJykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGltZUJlZm9yZU1haW5Db250ZW50ICs9IHNlY3Rpb24uZHVyYXRpb24gLyAxMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRpbWVCZWZvcmVNYWluQ29udGVudCArIHNlY29uZHNGcm9tU3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2Vjb25kc0Zyb21TdGFydDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGFwdGVyaW5nIHtcbiAgICBjb250ZW50OiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWN0aW9uTGlzdCB7XG4gICAgY29udGVudDogU2VjdGlvbltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlY3Rpb24ge1xuICAgIGluZGV4OiBudW1iZXI7XG4gICAgZXZlbnRUeXBlOiBzdHJpbmc7XG4gICAgZHVyYXRpb246IG51bWJlcjtcbiAgICBza2lwcGFibGU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFyZ2V0VXJsIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgdXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHVibGljTWVkaWFJbmZvIHtcbiAgICBtZWRpYVJlZmVyZW5jZTogc3RyaW5nO1xuICAgIGFuYWx5dGljc1JlZmVyZW5jZTogc3RyaW5nO1xuXG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBzaG9ydERlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgY2hhbm5lbElkOiBzdHJpbmc7XG4gICAgZHVyYXRpb246IG51bWJlcjtcbiAgICBhc3BlY3RSYXRpbzogYW55O1xuICAgIHBvc3RlckltYWdlVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIE1lZGlhVHlwZXMge1xuICAgIFZPRCA9ICd2b2QnLFxuICAgIExJVkUgPSAnbGl2ZScsXG59XG4iLCJpbXBvcnQgeyBQbGF5ZXJFdmVudCwgUGxheWVyRXZlbnRzIH0gZnJvbSAnLi9wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IERpZ2l0YWxEYXRhIH0gZnJvbSAnLi4vZGlnaXRhbC1kYXRhJztcblxuZXhwb3J0IGNsYXNzIEludGVybmFsUGxheWVyRXZlbnRzIGV4dGVuZHMgUGxheWVyRXZlbnRzIHtcbiAgICBwdWJsaWMgcmVhZHk6IEludGVybmFsUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIHBsYXk6IEludGVybmFsUGxheWVyRXZlbnQ8T25QbGF5UGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyB1cGRhdGVUaXRsZTogSW50ZXJuYWxQbGF5ZXJFdmVudDxVcGRhdGVUaXRsZVBheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgdXBkYXRlVGljazogSW50ZXJuYWxQbGF5ZXJFdmVudDxVcGRhdGVUaWNrUGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyBhZElzUGxheWluZ1RpY2s6IEludGVybmFsUGxheWVyRXZlbnQ8QWRJc1BsYXlpbmdUaWNrUGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyBwcm9tb3Rpb25hbElzUGxheWluZ1RpY2s6IEludGVybmFsUGxheWVyRXZlbnQ8UHJvbW90aW9uYWxJc1BsYXlpbmdUaWNrUGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyB0cmFpbGVySXNQbGF5aW5nVGljazogSW50ZXJuYWxQbGF5ZXJFdmVudDxUcmFpbGVySXNQbGF5aW5nVGlja1BheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgb25ib2FyZGluZ0lzUGxheWluZ1RpY2s6IEludGVybmFsUGxheWVyRXZlbnQ8T25ib2FyZGluZ0lzUGxheWluZ1RpY2tQYXlsb2FkPiA9IG51bGw7XG4gICAgcHVibGljIG5vcm1hbENvbnRlbnRJc1BsYXlpbmdUaWNrOiBJbnRlcm5hbFBsYXllckV2ZW50PE5vcm1hbENvbnRlbnRJc1BsYXlpbmdUaWNrUGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyB4Q2RuQ2hhbmdlZDogSW50ZXJuYWxQbGF5ZXJFdmVudDxYY2RuQ2hhbmdlZFBheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgbWVkaWFSZWZlcmVuY2VDaGFuZ2VkOiBJbnRlcm5hbFBsYXllckV2ZW50PE1lZGlhUmVmZXJlbmNlQ2hhbmdlZFBheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgc2hvd0Vycm9yOiBJbnRlcm5hbFBsYXllckV2ZW50PFNob3dFcnJvclBheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgZHVyYXRpb25TZXQ6IEludGVybmFsUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIG5leHR1cEFubm91bmNlZDogSW50ZXJuYWxQbGF5ZXJFdmVudDxOZXh0VXBBbm5vdW5jZWRQYXlsb2FkPiA9IG51bGw7XG4gICAgcHVibGljIHBsYXlsaXN0U291cmNlUmVxdWVzdGVkOiBJbnRlcm5hbFBsYXllckV2ZW50PFBsYXlsaXN0U291cmNlUmVxdWVzdGVkUGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyBuZXdJZGVudGl0eVRva2VuUmVjZWl2ZWQ6IEludGVybmFsUGxheWVyRXZlbnQ8TmV3SWRlbnRpdHlUb2tlblJlY2VpdmVkUGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyBpZGVudGl0eVRva2VuVXBkYXRlZDogSW50ZXJuYWxQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgZm9yY2VSZWxvYWQ6IEludGVybmFsUGxheWVyRXZlbnQ8Rm9yY2VSZWxvYWRQYXlsb2FkPiA9IG51bGw7XG4gICAgcHVibGljIHRva2VuQWNxdWlyZWQ6IEludGVybmFsUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIHJlc2V0OiBJbnRlcm5hbFBsYXllckV2ZW50PGFueT4gPSBudWxsO1xuICAgIHB1YmxpYyB1bkxvYWQ6IEludGVybmFsUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIGRlc3Ryb3k6IEludGVybmFsUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIGNyaXRpY2FsRXJyb3I6IEludGVybmFsUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIHVwZGF0ZVVzZXJQcmVmZXJlbmNlczogSW50ZXJuYWxQbGF5ZXJFdmVudDxVc2VyUHJlZmVyZW5jZXNVcGRhdGVkUGF5bG9hZD4gPSBudWxsO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMpLmZvckVhY2goKHByb3BlcnR5TmFtZSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdID0geyBuYW1lOiBwcm9wZXJ0eU5hbWUgfTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludGVybmFsUGxheWVyRXZlbnQ8VD4gZXh0ZW5kcyBQbGF5ZXJFdmVudDxUPiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIE9uUGxheVBheWxvYWQge1xuICAgIGlzTGl2ZTogYm9vbGVhbjtcbiAgICBjdXJyZW50Vm9sdW1lOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVGl0bGVQYXlsb2FkIHtcbiAgICBuZXdUaXRsZTogc3RyaW5nO1xuICAgIGlzSGlkZGVuOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVRpY2tQYXlsb2FkIHtcbiAgICBlbmFibGVTdGFydE92ZXI6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRJc1BsYXlpbmdUaWNrUGF5bG9hZCB7XG4gICAgcHJvbW90aW9uYWxUaXRsZTogc3RyaW5nO1xuICAgIGNhblNraXA6IGJvb2xlYW47XG4gICAgYWRJbnRlZ3JhdGlvbjogc3RyaW5nO1xuICAgIHJlbWFpbmluZ0R1cmF0aW9uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbW90aW9uYWxJc1BsYXlpbmdUaWNrUGF5bG9hZCB7XG4gICAgcHJvbW90aW9uYWxUaXRsZTogc3RyaW5nO1xuICAgIGNhblNraXA6IGJvb2xlYW47XG4gICAgcmVtYWluaW5nRHVyYXRpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFpbGVySXNQbGF5aW5nVGlja1BheWxvYWQge1xuICAgIGhhc1BsYXllZDogYm9vbGVhbjtcbiAgICBwcm9tb3Rpb25hbFRpdGxlOiBzdHJpbmc7XG4gICAgY2FuU2tpcDogYm9vbGVhbjtcbiAgICByZW1haW5pbmdEdXJhdGlvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9uYm9hcmRpbmdJc1BsYXlpbmdUaWNrUGF5bG9hZCB7XG4gICAgcHJvbW90aW9uYWxUaXRsZTogc3RyaW5nO1xuICAgIGNhblNraXA6IGJvb2xlYW47XG4gICAgcmVtYWluaW5nRHVyYXRpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3JtYWxDb250ZW50SXNQbGF5aW5nVGlja1BheWxvYWQge1xuICAgIGlzUGF1c2VkOiBib29sZWFuO1xuICAgIGlzTGl2ZTogYm9vbGVhbjtcbiAgICBwbGF5SGVhZFBvc2l0aW9uOiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFhjZG5DaGFuZ2VkUGF5bG9hZCB7XG4gICAgY2RuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWFSZWZlcmVuY2VDaGFuZ2VkUGF5bG9hZCB7XG4gICAgbmV3TWVkaWFSZWZlcmVuY2VzOiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgICBuZXdEaWdpdGFsRGF0YXM/OiBEaWdpdGFsRGF0YSB8IERpZ2l0YWxEYXRhW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hvd0Vycm9yUGF5bG9hZCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQbGF5bGlzdFNvdXJjZVJlcXVlc3RlZFBheWxvYWQge1xuICAgIGluZGV4OiBudW1iZXI7XG4gICAgbWVkaWFSZWZlcmVuY2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZGRQbGF5bGlzdEl0ZW1QYXlsb2FkIHtcbiAgICBtZWRpYVJlZmVyZW5jZTogc3RyaW5nO1xuICAgIGRpZ2l0YWxEYXRhPzogRGlnaXRhbERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmV3SWRlbnRpdHlUb2tlblJlY2VpdmVkUGF5bG9hZCB7XG4gICAgbmV3SWRlbnRpdHlUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZvcmNlUmVsb2FkUGF5bG9hZCB7XG4gICAgbmV3SWRlbnRpdHlUb2tlbj86IHN0cmluZztcbiAgICBwZXJmb3JtTGl2ZVN0YXJ0T3Zlcj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmV4dFVwQW5ub3VuY2VkUGF5bG9hZCB7XG4gICAgcmVtYWluaW5nRHVyYXRpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyUHJlZmVyZW5jZXNVcGRhdGVkUGF5bG9hZCB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIHZhbHVlOiBhbnk7XG59XG4iLCJpbXBvcnQgeyBBdWRpb1F1YWxpdHkgfSBmcm9tICcuLi9hdWRpby1xdWFsaXR5JztcbmltcG9ydCB7IFNvdXJjZURlc2NyaXB0aW9uIH0gZnJvbSAnLi4vc291cmNlLWRlc2NyaXB0aW9uJztcbmltcG9ydCB7IFZpZGVvUXVhbGl0eSB9IGZyb20gJy4uL3ZpZGVvLXF1YWxpdHknO1xuaW1wb3J0IHsgUGxheWVyRXZlbnQsIFBsYXllckV2ZW50cyB9IGZyb20gJy4vcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBQdWJsaWNNZWRpYUluZm8gfSBmcm9tICcuLi9tZWRpYS1pbmZvJztcbmltcG9ydCB7IFBsYXlsaXN0SXRlbSB9IGZyb20gJy4uL3BsYXlsaXN0JztcblxuZXhwb3J0IGNsYXNzIFB1YmxpY1BsYXllckV2ZW50cyBleHRlbmRzIFBsYXllckV2ZW50cyB7XG4gICAgcHVibGljIGNhbnBsYXk6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBudWxsO1xuICAgIHB1YmxpYyBwbGF5OiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgcGxheWluZzogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIHBhdXNlOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgZW5kZWQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBudWxsO1xuICAgIHB1YmxpYyBzZWVraW5nOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgc2Vla2VkOiBQdWJsaWNQbGF5ZXJFdmVudDxTZWVrZWRQYXlsb2FkPiA9IG51bGw7XG4gICAgcHVibGljIHZvbHVtZWNoYW5nZTogUHVibGljUGxheWVyRXZlbnQ8T25Wb2x1bWVDaGFuZ2VQYXlsb2FkPiA9IG51bGw7XG4gICAgcHVibGljIGJ1ZmZlcmluZ0NvbXBsZXRlZDogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIHRpbWV1cGRhdGU6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBudWxsO1xuICAgIHB1YmxpYyBlcnJvcjogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG5cbiAgICBwdWJsaWMgZmlyc3RwbGF5OiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgc3RhcnRvdmVyOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgYWRicmVha2JlZ2luOiBQdWJsaWNQbGF5ZXJFdmVudDxBZFBheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgYWRicmVha2VuZDogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIGFkc2tpcHBlZDogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIHByb21vdGlvbmFsc3RhcnRlZDogUHVibGljUGxheWVyRXZlbnQ8QWRQYXlsb2FkPiA9IG51bGw7XG4gICAgcHVibGljIG5leHRwcm9tb3Rpb25hbHN0YXJ0ZWQ6IFB1YmxpY1BsYXllckV2ZW50PEFkUGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyBwcm9tb3Rpb25hbGVuZGVkOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgcHJvbW90aW9uYWxza2lwcGVkOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgZnVsbHNjcmVlbmVudGVyOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgZnVsbHNjcmVlbmV4aXQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBudWxsO1xuICAgIHB1YmxpYyBjYXN0aW5nc3RhcnRlZDogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIGNhc3RpbmdzdG9wcGVkOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgYnVmZmVyaW5nOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgcXVhbGl0eWNoYW5nZWQ6IFB1YmxpY1BsYXllckV2ZW50PFF1YWxpdHlDaGFuZ2VkUGF5bG9hZD4gPSBudWxsO1xuICAgIHB1YmxpYyBzb3VyY2Vsb2FkZWQ6IFB1YmxpY1BsYXllckV2ZW50PFNvdXJjZUxvYWRlZFBheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgc291cmNlY2hhbmdlZDogUHVibGljUGxheWVyRXZlbnQ8U291cmNlQ2hhbmdlZFBheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgbmV4dHNvdXJjZXJlcXVlc3RlZDogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIHByZXZpb3Vzc291cmNlcmVxdWVzdGVkOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgbGl2ZXByb2dyYW1jaGFuZ2U6IFB1YmxpY1BsYXllckV2ZW50PExpdmVQcm9ncmFtQ2hhbmdlZFBheWxvYWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgbmV4dHVwYW5ub3VuY2VkOiBQdWJsaWNQbGF5ZXJFdmVudDxOZXh0VXBBbm5vdW5jZWRQYXlsb2FkPiA9IG51bGw7XG4gICAgcHVibGljIG5leHR1cHJlbW92ZWQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBudWxsO1xuICAgIHB1YmxpYyBleGl0aW5nOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgd2FybmluZzogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG4gICAgcHVibGljIHBsYXlub3RhbGxvd2VkOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgc2Vla0FsbG93ZWQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4gPSBudWxsO1xuICAgIHB1YmxpYyBzZWVrTm90QWxsb3dlZDogUHVibGljUGxheWVyRXZlbnQ8YW55PiA9IG51bGw7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgY29uc3QgZGljdDogeyBba2V5OiBzdHJpbmddOiBQbGF5ZXJFdmVudDxhbnk+IH0gPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcykuZm9yRWFjaCgocHJvcGVydHlOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBldmVudEluc3RhbmNlOiBQbGF5ZXJFdmVudDxhbnk+ID0geyBuYW1lOiBwcm9wZXJ0eU5hbWUsIGNvZGU6IG51bGwgfTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXSA9IGV2ZW50SW5zdGFuY2U7XG4gICAgICAgICAgICBkaWN0W3Byb3BlcnR5TmFtZV0gPSBldmVudEluc3RhbmNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZGljdGlvbmFyeSA9IGRpY3Q7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEJ5TmFtZShuYW1lOiBzdHJpbmcpOiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5W25hbWVdO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQdWJsaWNQbGF5ZXJFdmVudDxUPiBleHRlbmRzIFBsYXllckV2ZW50PFQ+IHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU291cmNlTG9hZGVkUGF5bG9hZCB7XG4gICAgbG9hZGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZUNoYW5nZWRQYXlsb2FkIHtcbiAgICBzb3VyY2VEZXNjcmlwdGlvbjogU291cmNlRGVzY3JpcHRpb247XG4gICAgeENETjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlZWtlZFBheWxvYWQge1xuICAgIHBvc2l0aW9uOiBudW1iZXI7XG4gICAgZHVyYXRpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPblZvbHVtZUNoYW5nZVBheWxvYWQge1xuICAgIHZvbHVtZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFF1YWxpdHlDaGFuZ2VkUGF5bG9hZCB7XG4gICAgdmlkZW86IFZpZGVvUXVhbGl0eTtcbiAgICBhdWRpbzogQXVkaW9RdWFsaXR5O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkUGF5bG9hZCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZHVyYXRpb246IG51bWJlcjtcbiAgICByZXNvdXJjZVVyaTogc3RyaW5nO1xuXG4gICAgYWZmaWxpYXRlOiBzdHJpbmc7XG4gICAgY2FtcGFpZ246IHN0cmluZztcbiAgICBhZHZlcnRpc2VyOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGl2ZVByb2dyYW1DaGFuZ2VkUGF5bG9hZCB7XG4gICAgbmV3UHJvZ3JhbVRpdGxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmV4dFVwQW5ub3VuY2VkUGF5bG9hZCB7XG4gICAgbWVkaWFJbmZvOiBQdWJsaWNNZWRpYUluZm87XG4gICAgbmV4dFVwUGxheWxpc3RJdGVtOiBQbGF5bGlzdEl0ZW07XG4gICAgcmVtYWluaW5nRHVyYXRpb246IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IFBsYXllckV2ZW50LCBQbGF5ZXJFdmVudHMgfSBmcm9tICcuL3BsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgRGlnaXRhbERhdGEgfSBmcm9tICcuLi9kaWdpdGFsLWRhdGEnO1xuaW1wb3J0IHsgUGxheWxpc3RJdGVtIH0gZnJvbSAnLi4vcGxheWxpc3QnO1xuaW1wb3J0IHsgUXVhbGl0eSB9IGZyb20gJy4uL3F1YWxpdHknO1xuXG5leHBvcnQgY2xhc3MgQXBpQ2FsbEV2ZW50cyBleHRlbmRzIFBsYXllckV2ZW50cyB7XG4gICAgcHVibGljIGRlc3Ryb3lBcGlDYWxsOiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyBwbGF5QXBpQ2FsbDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgcGF1c2VBcGlDYWxsOiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyB0b2dnbGVQbGF5QXBpQ2FsbDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgc2tpcEFkQXBpQ2FsbDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgdG9nZ2xlQ2FzdEFwaUNhbGw6IEFwaUNhbGxFdmVudDx2b2lkPiA9IG51bGw7XG4gICAgcHVibGljIHRvZ2dsZU11dGVBcGlDYWxsOiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyByZXdpbmRTZWNvbmRzQXBpQ2FsbDogQXBpQ2FsbEV2ZW50PG51bWJlcj4gPSBudWxsO1xuICAgIHB1YmxpYyBmYXN0U2Vla0FwaUNhbGw6IEFwaUNhbGxFdmVudDxudW1iZXI+ID0gbnVsbDtcbiAgICBwdWJsaWMgbGl2ZVN0YXJ0T3ZlckFwaUNhbGw6IEFwaUNhbGxFdmVudDx2b2lkPiA9IG51bGw7XG4gICAgcHVibGljIHRvZ2dsZVN1YnRpdGxlc0FwaUNhbGw6IEFwaUNhbGxFdmVudDx2b2lkPiA9IG51bGw7XG4gICAgcHVibGljIHRvZ2dsZUZ1bGxzY3JlZW5BcGlDYWxsOiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyBkaXNhYmxlSW50ZXJmYWNlQXBpQ2FsbDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgZW5hYmxlSW50ZXJmYWNlQXBpQ2FsbDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgdGhyb3dFcnJvckFwaUNhbGw6IEFwaUNhbGxFdmVudDx7IG1lc3NhZ2U6IHN0cmluZzsgY29udGVudD86IGFueSB9PiA9IG51bGw7XG4gICAgcHVibGljIHNob3dUaXRsZUFwaUNhbGw6IEFwaUNhbGxFdmVudDxib29sZWFuPiA9IG51bGw7XG4gICAgcHVibGljIG5leHRBcGlDYWxsOiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyBwcmV2aW91c0FwaUNhbGw6IEFwaUNhbGxFdmVudDxhbnk+ID0gbnVsbDtcbiAgICBwdWJsaWMgZ290b0FwaUNhbGw6IEFwaUNhbGxFdmVudDxudW1iZXIgfCBzdHJpbmc+ID0gbnVsbDtcbiAgICBwdWJsaWMgYWRkVG9QbGF5bGlzdEFwaUNhbGw6IEFwaUNhbGxFdmVudDx7IG1lZGlhUmVmZXJlbmNlOiBzdHJpbmc7IGRpZ2l0YWxEYXRhPzogRGlnaXRhbERhdGEgfT4gPSBudWxsO1xuICAgIHB1YmxpYyBzZXRRdWFsaXR5QXBpQ2FsbDogQXBpQ2FsbEV2ZW50PFF1YWxpdHk+ID0gbnVsbDtcblxuICAgIHB1YmxpYyBtdXRlQXBpQ2FsbFNldDogQXBpQ2FsbEV2ZW50PGJvb2xlYW4+ID0gbnVsbDtcbiAgICBwdWJsaWMgbXV0ZUFwaUNhbGxHZXQ6IEFwaUNhbGxFdmVudDx2b2lkPiA9IG51bGw7XG4gICAgcHVibGljIG11dGVBcGlDYWxsR2V0UmV0dXJuOiBBcGlDYWxsRXZlbnQ8Ym9vbGVhbj4gPSBudWxsO1xuXG4gICAgcHVibGljIHZvbHVtZUFwaUNhbGxTZXQ6IEFwaUNhbGxFdmVudDxudW1iZXI+ID0gbnVsbDtcbiAgICBwdWJsaWMgdm9sdW1lQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgdm9sdW1lQXBpQ2FsbEdldFJldHVybjogQXBpQ2FsbEV2ZW50PG51bWJlcj4gPSBudWxsO1xuXG4gICAgcHVibGljIGR1cmF0aW9uQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgZHVyYXRpb25BcGlDYWxsR2V0UmV0dXJuOiBBcGlDYWxsRXZlbnQ8bnVtYmVyPiA9IG51bGw7XG5cbiAgICBwdWJsaWMgY3VycmVudFRpbWVBcGlDYWxsU2V0OiBBcGlDYWxsRXZlbnQ8bnVtYmVyPiA9IG51bGw7XG4gICAgcHVibGljIGN1cnJlbnRUaW1lQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgY3VycmVudFRpbWVBcGlDYWxsR2V0UmV0dXJuOiBBcGlDYWxsRXZlbnQ8bnVtYmVyPiA9IG51bGw7XG5cbiAgICBwdWJsaWMgY3VycmVudERhdGVUaW1lQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgY3VycmVudERhdGVUaW1lQXBpQ2FsbEdldFJldHVybjogQXBpQ2FsbEV2ZW50PERhdGU+ID0gbnVsbDtcblxuICAgIHB1YmxpYyBwYXVzZWRBcGlDYWxsR2V0OiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyBwYXVzZWRBcGlDYWxsR2V0UmV0dXJuOiBBcGlDYWxsRXZlbnQ8Ym9vbGVhbj4gPSBudWxsO1xuXG4gICAgcHVibGljIGxvb3BBcGlDYWxsU2V0OiBBcGlDYWxsRXZlbnQ8Ym9vbGVhbj4gPSBudWxsO1xuICAgIHB1YmxpYyBsb29wQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgbG9vcEFwaUNhbGxHZXRSZXR1cm46IEFwaUNhbGxFdmVudDxib29sZWFuPiA9IG51bGw7XG5cbiAgICBwdWJsaWMgY3VycmVudFNyY0FwaUNhbGxHZXQ6IEFwaUNhbGxFdmVudDx2b2lkPiA9IG51bGw7XG4gICAgcHVibGljIGN1cnJlbnRTcmNBcGlDYWxsR2V0UmV0dXJuOiBBcGlDYWxsRXZlbnQ8c3RyaW5nPiA9IG51bGw7XG5cbiAgICBwdWJsaWMgY3VycmVudE1lZGlhUmVmZXJlbmNlQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgY3VycmVudE1lZGlhUmVmZXJlbmNlQXBpQ2FsbEdldFJldHVybjogQXBpQ2FsbEV2ZW50PHN0cmluZz4gPSBudWxsO1xuXG4gICAgcHVibGljIHNyY0FwaUNhbGxTZXQ6IEFwaUNhbGxFdmVudDxcbiAgICAgICAgKHN0cmluZyB8IHN0cmluZ1tdKSB8IHsgbmV3U291cmNlczogc3RyaW5nIHwgc3RyaW5nW107IG5ld0RpZ2l0YWxEYXRhczogRGlnaXRhbERhdGEgfCBEaWdpdGFsRGF0YVtdIH1cbiAgICA+ID0gbnVsbDtcbiAgICBwdWJsaWMgc3JjQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgc3JjQXBpQ2FsbEdldFJldHVybjogQXBpQ2FsbEV2ZW50PHN0cmluZyB8IHN0cmluZ1tdPiA9IG51bGw7XG5cbiAgICBwdWJsaWMgc2Vla2FibGVBcGlDYWxsR2V0OiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyBzZWVrYWJsZUFwaUNhbGxHZXRSZXR1cm46IEFwaUNhbGxFdmVudDxUaW1lUmFuZ2VzPiA9IG51bGw7XG5cbiAgICBwdWJsaWMgaGFzUGxheWVkQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgaGFzUGxheWVkQXBpQ2FsbEdldFJldHVybjogQXBpQ2FsbEV2ZW50PGJvb2xlYW4+ID0gbnVsbDtcblxuICAgIHB1YmxpYyBjb250cm9sc0FwaUNhbGxTZXQ6IEFwaUNhbGxFdmVudDxib29sZWFuPiA9IG51bGw7XG4gICAgcHVibGljIGNvbnRyb2xzQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgY29udHJvbHNBcGlDYWxsR2V0UmV0dXJuOiBBcGlDYWxsRXZlbnQ8Ym9vbGVhbj4gPSBudWxsO1xuXG4gICAgcHVibGljIHBsYXlsaXN0U2l6ZUFwaUNhbGxHZXQ6IEFwaUNhbGxFdmVudDx2b2lkPiA9IG51bGw7XG4gICAgcHVibGljIHBsYXlsaXN0U2l6ZUFwaUNhbGxHZXRSZXR1cm46IEFwaUNhbGxFdmVudDxudW1iZXI+ID0gbnVsbDtcblxuICAgIHB1YmxpYyBjdXJyZW50UGxheWxpc3RJdGVtQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgY3VycmVudFBsYXlsaXN0SXRlbUFwaUNhbGxHZXRSZXR1cm46IEFwaUNhbGxFdmVudDxQbGF5bGlzdEl0ZW0+ID0gbnVsbDtcblxuICAgIHB1YmxpYyBhY3RpdmVTdWJ0aXRsZXNBcGlDYWxsR2V0OiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyBhY3RpdmVTdWJ0aXRsZXNBcGlDYWxsR2V0UmV0dXJuOiBBcGlDYWxsRXZlbnQ8VGV4dFRyYWNrPiA9IG51bGw7XG5cbiAgICBwdWJsaWMgYXZhaWxhYmxlUXVhbGl0aWVzQXBpQ2FsbEdldDogQXBpQ2FsbEV2ZW50PHZvaWQ+ID0gbnVsbDtcbiAgICBwdWJsaWMgYXZhaWxhYmxlUXVhbGl0aWVzQXBpQ2FsbEdldFJldHVybjogQXBpQ2FsbEV2ZW50PFF1YWxpdHlbXT4gPSBudWxsO1xuXG4gICAgcHVibGljIGF1dG9wbGF5QXBpQ2FsbFNldDogQXBpQ2FsbEV2ZW50PGJvb2xlYW4+ID0gbnVsbDtcbiAgICBwdWJsaWMgYXV0b3BsYXlBcGlDYWxsR2V0OiBBcGlDYWxsRXZlbnQ8dm9pZD4gPSBudWxsO1xuICAgIHB1YmxpYyBhdXRvcGxheUFwaUNhbGxHZXRSZXR1cm46IEFwaUNhbGxFdmVudDxib29sZWFuPiA9IG51bGw7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgT2JqZWN0LmtleXModGhpcykuZm9yRWFjaCgocHJvcGVydHlOYW1lKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZV0gPSB7IG5hbWU6IHByb3BlcnR5TmFtZSB9O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBpQ2FsbEV2ZW50PFQ+IGV4dGVuZHMgUGxheWVyRXZlbnQ8VD4ge31cblxuZXhwb3J0IGludGVyZmFjZSBPblBsYXlQYXlsb2FkIHtcbiAgICBpc0xpdmU6IGJvb2xlYW47XG4gICAgY3VycmVudFZvbHVtZTogbnVtYmVyO1xufVxuIiwiaW1wb3J0IHsgRXJyb3JDb2RlcywgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vbG9naWMvZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyBJbnRlcm5hbFBsYXllckV2ZW50cyB9IGZyb20gJy4uL21vZGVsL2V2ZW50aW5nL2ludGVybmFsLXBsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgUGxheWVyRXZlbnQgfSBmcm9tICcuLi9tb2RlbC9ldmVudGluZy9wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IFB1YmxpY1BsYXllckV2ZW50LCBQdWJsaWNQbGF5ZXJFdmVudHMgfSBmcm9tICcuLi9tb2RlbC9ldmVudGluZy9wdWJsaWMtcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBMYW5ndWFnZSB9IGZyb20gJy4uL3V0aWxzL3RyYW5zbGF0aW9uL3RyYW5zbGF0b3InO1xuaW1wb3J0IHsgQXBpQ2FsbEV2ZW50LCBBcGlDYWxsRXZlbnRzIH0gZnJvbSAnLi4vbW9kZWwvZXZlbnRpbmcvYXBpLWNhbGwtZXZlbnRzJztcblxuZXhwb3J0IGNsYXNzIFB1Ymxpc2hlciB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwdWJsaWNQbGF5ZXJFdmVudHM6IFB1YmxpY1BsYXllckV2ZW50cyA9IG5ldyBQdWJsaWNQbGF5ZXJFdmVudHMoKTtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGludGVybmFsUGxheWVyRXZlbnRzOiBJbnRlcm5hbFBsYXllckV2ZW50cyA9IG5ldyBJbnRlcm5hbFBsYXllckV2ZW50cygpO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgYXBpQ2FsbEV2ZW50czogQXBpQ2FsbEV2ZW50cyA9IG5ldyBBcGlDYWxsRXZlbnRzKCk7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG1hcDogTWFwPFBsYXllckV2ZW50PGFueT4sIEZ1bmN0aW9uW10+O1xuXG4gICAgcHVibGljIGVycm9ySGFuZGxlcjogRXJyb3JIYW5kbGVyO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGxhbmd1YWdlOiBMYW5ndWFnZSkge1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXA8UGxheWVyRXZlbnQ8YW55PiwgRnVuY3Rpb25bXT4oKTtcbiAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIgPSBuZXcgRXJyb3JIYW5kbGVyKHRoaXMsIGxhbmd1YWdlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHVibGlzaDxUPihldmVudDogUGxheWVyRXZlbnQ8VD4sIGRhdGE6IFQgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIGlmIChldmVudCAmJiB0aGlzLm1hcC5oYXMoZXZlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyczogRnVuY3Rpb25bXSA9IHRoaXMubWFwLmdldChldmVudCkuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiBoYW5kbGVycykge1xuICAgICAgICAgICAgICAgIC8vU2hhbGxvdyBjb3B5IHRoZSBvcmlnaW5hbCBldmVudCBzbyB3ZSBjYW4gYWRkIGRhdGEgd2l0aG91dCBraWxsaW5nIHRoZSB3ZWFrIG1hcCBmdW5jdGlvbmFsaXR5IVxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbEV2ZW50OiBQbGF5ZXJFdmVudDxUPiA9IE9iamVjdC5hc3NpZ24oe30sIGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsRXZlbnQuY29udGVudCA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIoYWN0dWFsRXZlbnQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZVdhcm5pbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBFcnJvckNvZGVzLlBMQVlFUl9BUElfRVJST1JfRVZFTlRfSEFORExFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICdIYW5kbGVyIGZvciAnICsgZXZlbnQubmFtZSArICcgZW5jb3VudGVyZWQgYW4gZXJyb3IhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJTdHJpbmc6IGhhbmRsZXIudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFN1YnNjcmliZXIoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4sIGhhbmRsZXI6IChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5tYXAuaGFzKGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5tYXAuZ2V0KGV2ZW50KS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGV2ZW50LCBbaGFuZGxlcl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFkZE9uZVRpbWVTdWJzY3JpYmVyKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+LCBoYW5kbGVyOiAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG9uZVRpbWVIYW5kbGVyOiAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHZvaWQgPSBmdW5jdGlvbiBoYW5kbGVyV3JhcHBlcihcbiAgICAgICAgICAgIGhhbmRsZWRFdmVudDogUGxheWVyRXZlbnQ8YW55PixcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGF0LnJlbW92ZVN1YnNjcmliZXIoZXZlbnQsIGhhbmRsZXJXcmFwcGVyKTtcbiAgICAgICAgICAgIGhhbmRsZXIoaGFuZGxlZEV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRTdWJzY3JpYmVyKGV2ZW50LCBvbmVUaW1lSGFuZGxlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZE9uZVRpbWVGaXJzdE9mTXVsdGlwbGVFdmVudHNTdWJzY3JpYmVyKFxuICAgICAgICBldmVudHM6IEFycmF5PFBsYXllckV2ZW50PGFueT4+LFxuICAgICAgICBoYW5kbGVyOiAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHZvaWQsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgICAgICBjb25zdCBvbmVUaW1lSGFuZGxlcjogKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB2b2lkID0gZnVuY3Rpb24gaGFuZGxlcldyYXBwZXIoXG4gICAgICAgICAgICBoYW5kbGVkRXZlbnQ6IFBsYXllckV2ZW50PGFueT4sXG4gICAgICAgICkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnJlbW92ZVN1YnNjcmliZXIoZXZlbnQsIGhhbmRsZXJXcmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhbmRsZXIoaGFuZGxlZEV2ZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5hZGRTdWJzY3JpYmVyKGV2ZW50LCBvbmVUaW1lSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlU3Vic2NyaWJlcihldmVudDogUGxheWVyRXZlbnQ8YW55PiwgaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubWFwLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzOiBGdW5jdGlvbltdID0gdGhpcy5tYXAuZ2V0KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4T2ZIYW5kbGVyOiBudW1iZXIgPSBoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4T2ZIYW5kbGVyID49IDApIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaW5kZXhPZkhhbmRsZXIsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRldGVjdFB1YmxpY0V2ZW50VHlwZUZyb21TdHJpbmcoZXZlbnQ6IHN0cmluZyk6IFB1YmxpY1BsYXllckV2ZW50PGFueT4ge1xuICAgICAgICByZXR1cm4gUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5nZXRCeU5hbWUoZXZlbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICBldmVudEhhbmRsZXJzOiBFdmVudEhhbmRsZXJNYXBwaW5nW10sXG4gICAgICAgIGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+LFxuICAgICAgICBldmVudEhhbmRsZXI6IChldmVudDogUGxheWVyRXZlbnQ8YW55PiAmIFB1YmxpY1BsYXllckV2ZW50PGFueT4gJiBBcGlDYWxsRXZlbnQ8YW55PikgPT4gdm9pZCxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hZGRTdWJzY3JpYmVyKGV2ZW50LCBldmVudEhhbmRsZXIgYXMgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB2b2lkKTtcbiAgICAgICAgZXZlbnRIYW5kbGVycy5wdXNoKHsgZXZlbnQsIGhhbmRsZXI6IGV2ZW50SGFuZGxlciBhcyAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHZvaWQgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50SGFuZGxlck1hcHBpbmcge1xuICAgIGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+O1xuICAgIGhhbmRsZXI6IChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4gdm9pZDtcbn1cbiIsImV4cG9ydCBjbGFzcyBQcm9taXNlVXRpbHMge1xuICAgIHB1YmxpYyBzdGF0aWMgd2FpdCA9IChkdXJhdGlvbjogbnVtYmVyKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXMsIGR1cmF0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHB1YmxpYyBzdGF0aWMgYmFja29mZiA9IChyZXRyaWVzOiBudW1iZXIsIGZuOiBGdW5jdGlvbiwgaW5pdGlhbERlbGF5OiBudW1iZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIGZuKCkuY2F0Y2goKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAocmV0cmllcyA+IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZVV0aWxzLndhaXQoaW5pdGlhbERlbGF5KS50aGVuKCgpID0+XG4gICAgICAgICAgICAgICAgICAgIFByb21pc2VVdGlscy5iYWNrb2ZmKHJldHJpZXMgLSAxLCBmbiwgaW5pdGlhbERlbGF5ICogMiksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBwdWJsaWMgc3RhdGljIGRlYm91bmNlID0gKGZ1bmM6IEZ1bmN0aW9uLCB3YWl0OiBudW1iZXIpID0+IHtcbiAgICAgICAgbGV0IHRpbWVvdXQ6IG51bWJlcjtcblxuICAgICAgICByZXR1cm4gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuIiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIERlZmVycmVkRXhlY3V0b3Ige1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICAgIHByb3RlY3RlZCByZWFkb25seSBleGVjdXRpb25RdWV1ZTogKChpbnN0YW5jZTogYW55KSA9PiB2b2lkKVtdO1xuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmV4ZWN1dGlvblF1ZXVlID0gW107XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGlzTG9hZGVkQW5kQ2FuRXhlY3V0ZSgpOiBib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIGV4ZWN1dGVPclF1ZXVlKGluc3RhbmNlOiBhbnksIGV4ZWN1dGlvbjogKGluc3RhbmNlOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkZWRBbmRDYW5FeGVjdXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJRdWV1ZShpbnN0YW5jZSk7XG4gICAgICAgICAgICBleGVjdXRpb24oaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5leGVjdXRpb25RdWV1ZS5wdXNoKGV4ZWN1dGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY2xlYXJRdWV1ZShpbnN0YW5jZTogYW55KTogdm9pZCB7XG4gICAgICAgIHdoaWxlICh0aGlzLmV4ZWN1dGlvblF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0NsZWFyaW5nICcgKyB0aGlzLnR5cGUgKyAnIGl0ZW0gZnJvbSBxdWV1ZScpO1xuICAgICAgICAgICAgdGhpcy5leGVjdXRpb25RdWV1ZS5zaGlmdCgpKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbmZpZywgUExBWUVSX01PREVTIH0gZnJvbSAnLi4vLi4vbW9kZWwvY29uZmlnJztcbmltcG9ydCB7IERpZ2l0YWxEYXRhIH0gZnJvbSAnLi4vLi4vbW9kZWwvZGlnaXRhbC1kYXRhJztcbmltcG9ydCB7IFBsYXllckV2ZW50IH0gZnJvbSAnLi4vLi4vbW9kZWwvZXZlbnRpbmcvcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBBZFBheWxvYWQsIExpdmVQcm9ncmFtQ2hhbmdlZFBheWxvYWQsIFF1YWxpdHlDaGFuZ2VkUGF5bG9hZCB9IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL3B1YmxpYy1wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IE1lZGlhSW5mbyB9IGZyb20gJy4uLy4uL21vZGVsL21lZGlhLWluZm8nO1xuaW1wb3J0IHsgUXVhbGl0eSB9IGZyb20gJy4uLy4uL21vZGVsL3F1YWxpdHknO1xuaW1wb3J0IHsgVmlkZW9RdWFsaXR5IH0gZnJvbSAnLi4vLi4vbW9kZWwvdmlkZW8tcXVhbGl0eSc7XG5pbXBvcnQgeyBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyIH0gZnJvbSAnLi4vLi4vcGxheWVyL2Fic3RyYWN0aW9uLWxheWVyL3BsYXllci1hYnN0cmFjdGlvbi1sYXllcic7XG5pbXBvcnQgeyBFdmVudEhhbmRsZXJNYXBwaW5nLCBQdWJsaXNoZXIgfSBmcm9tICcuLi8uLi9wbGF5ZXIvcHVibGlzaGVyJztcbmltcG9ydCB7IFByb21pc2VVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL3Byb21pc2UtdXRpbHMnO1xuaW1wb3J0IHsgRXJyb3JDb2RlcyB9IGZyb20gJy4uL2Vycm9yLWhhbmRsZXInO1xuaW1wb3J0IHsgRGVmZXJyZWRFeGVjdXRvciB9IGZyb20gJy4vZGVmZXJyZWQtZXhlY3V0b3InO1xuXG5leHBvcnQgY2xhc3MgQWRvYmVBbmFseXRpY3NTZXJ2aWNlIGV4dGVuZHMgRGVmZXJyZWRFeGVjdXRvciB7XG4gICAgcHJpdmF0ZSB3aW5kb3c6IGFueSA9IHdpbmRvdztcblxuICAgIHByaXZhdGUgTWVkaWFIZWFydGJlYXQ6IGFueTtcbiAgICBwcml2YXRlIG1lZGlhSGVhcnRiZWF0OiBhbnk7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHBsYXllck1vZGU6IFBMQVlFUl9NT0RFUztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHB1Ymxpc2hlcjogUHVibGlzaGVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbWVkaWFJbmZvOiBNZWRpYUluZm87XG5cbiAgICBwcml2YXRlIHNlc3Npb25TdGFydGVkOiBib29sZWFuO1xuICAgIHByaXZhdGUgYmxvY2tFdmVudHM6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIHBsYXllclN0YXJ0dXBUaW1lOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgbGFzdEJpdFJhdGU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBsYXN0RnJhbWVyYXRlOiBudW1iZXIgPSAwO1xuXG4gICAgcHJpdmF0ZSBoZWFydGJlYXREZWxlZ2F0ZTogYW55O1xuXG4gICAgcHJvdGVjdGVkIGV2ZW50SGFuZGxlcnM6IEV2ZW50SGFuZGxlck1hcHBpbmdbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBsYXllck1vZGU6IFBMQVlFUl9NT0RFUyxcbiAgICAgICAgcGxheWVyQWJzdHJhY3Rpb25MYXllcjogUGxheWVyQWJzdHJhY3Rpb25MYXllcixcbiAgICAgICAgbWVkaWFJbmZvOiBNZWRpYUluZm8sXG4gICAgICAgIHB1Ymxpc2hlcjogUHVibGlzaGVyLFxuICAgICkge1xuICAgICAgICBzdXBlcignQWRvYmUgQW5hbHl0aWNzJyk7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJNb2RlID0gcGxheWVyTW9kZTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG4gICAgICAgIHRoaXMucGFsID0gcGxheWVyQWJzdHJhY3Rpb25MYXllcjtcbiAgICAgICAgdGhpcy5tZWRpYUluZm8gPSBtZWRpYUluZm87XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJsb2NrRXZlbnRzID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmxvYWRBZG9iZUFuYWx5dGljcygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZExpYnJhcnkoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0xvYWRpbmcgQWRvYmUgQW5hbHl0aWNzLi4uJyk7XG5cbiAgICAgICAgICAgIGlmICghQWRvYmVBbmFseXRpY3NTZXJ2aWNlLmlzQWRvYmVBbmFseXRpY3NMaWJyYXJ5TG9hZGVkKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmFseXRpY3M6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgICAgIGFuYWx5dGljcy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgICAgICAgICAgLy9QcmV2ZW50IGFkIGJsb2NrZXJzIGZyb20ga2lsbGluZyB0aGUgcGxheWVyIVxuICAgICAgICAgICAgICAgIGFuYWx5dGljcy5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGFuYWx5dGljcy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0Fkb2JlIGFuYWx5dGljcyBzY3JpcHQgbG9hZGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZVV0aWxzLmJhY2tvZmYoXG4gICAgICAgICAgICAgICAgICAgICAgICAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQWRvYmVBbmFseXRpY3NTZXJ2aWNlLmlzQWRvYmVBbmFseXRpY3NMaWJyYXJ5TG9hZGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnQWRvYmUgYW5hbHl0aWNzIG9uIHdpbmRvdycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnQWRvYmUgYW5hbHl0aWNzIG5vdCB5ZXQgb24gd2luZG93LCB3YWl0aW5nLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAxMCxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdBZG9iZSBhbmFseXRpY3MgY291bGQgbm90IGJlIGxvYWRlZCBjb3JyZWN0bHkhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFuYWx5dGljcy5zcmMgPSAnaHR0cHM6Ly9hc3NldHMuYWRvYmVkdG0uY29tL2xhdW5jaC1FTmY5ZmNjZjQxMGM5NTQxYzY4NzI5NjA3ZTEyMjdhYzM5Lm1pbi5qcyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhbmFseXRpY3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdBZG9iZSBhbmFseXRpY3MgYWxyZWFkeSBsb2FkZWQsIHNraXBwaW5nIScpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNBZG9iZUFuYWx5dGljc0xpYnJhcnlMb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHc6IGFueSA9IHdpbmRvdztcbiAgICAgICAgcmV0dXJuIHcuVmlzaXRvciAmJiB3LkFwcE1lYXN1cmVtZW50ICYmIHcuQURCICYmIHcuQURCLk1lZGlhSGVhcnRiZWF0ICYmIHcuQURCLk1lZGlhSGVhcnRiZWF0RGVsZWdhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycy5mb3JFYWNoKCh2YWx1ZTogeyBldmVudDogUGxheWVyRXZlbnQ8YW55PjsgaGFuZGxlcjogRnVuY3Rpb24gfSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucmVtb3ZlU3Vic2NyaWJlcih2YWx1ZS5ldmVudCwgdmFsdWUuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSBbXTtcblxuICAgICAgICAvLyBUT0RPOiBUaGlzIHByb2JhYmx5IGJyZWFrcyB0aGUgdHJhY2tpbmcgd2hlbiByZWxvYWRpbmcgYSB2aWRlbyAobWlnaHQgbmVlZCB0byByZXRhaW4gdGhlIGFuYWx5dGljcyBpbnN0YW5jZSBhbmQgcmV1c2UgaXQpXG4gICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5tZWRpYUhlYXJ0YmVhdCwgKG1lZGlhSGVhcnRiZWF0OiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlYXJ0YmVhdERlbGVnYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFydGJlYXREZWxlZ2F0ZS5nZXRDdXJyZW50UGxheWJhY2tUaW1lID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiovXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdERlbGVnYXRlLmdldFFvU09iamVjdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqL1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpc0xvYWRlZEFuZENhbkV4ZWN1dGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBZG9iZUFuYWx5dGljc1NlcnZpY2UuaXNBZG9iZUFuYWx5dGljc0xpYnJhcnlMb2FkZWQgJiYgdGhpcy5tZWRpYUhlYXJ0YmVhdCAmJiAhdGhpcy5ibG9ja0V2ZW50cztcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRBZG9iZUFuYWx5dGljcygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoQWRvYmVBbmFseXRpY3NTZXJ2aWNlLmlzQWRvYmVBbmFseXRpY3NMaWJyYXJ5TG9hZGVkKCkpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcblxuICAgICAgICAgICAgICAgIGxldCBoZWFydGJlYXRJbnN0YW5jZTogYW55O1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTWVkaWFIZWFydGJlYXQgPSB0aGlzLndpbmRvdy5BREIuTWVkaWFIZWFydGJlYXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhcnRiZWF0RGVsZWdhdGUgPSB0aGlzLmNyZWF0ZUhlYXJ0YmVhdERlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGhlYXJ0YmVhdEluc3RhbmNlID0gdGhpcy5NZWRpYUhlYXJ0YmVhdC5nZXRJbnN0YW5jZSh0aGlzLmhlYXJ0YmVhdERlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYXJ0YmVhdEluc3RhbmNlLmNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhcnRiZWF0SW5zdGFuY2UuY29uZmlnLmRlYnVnTG9nZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMud2luZG93LkFEQi5NZWRpYUhlYXJ0YmVhdENvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhcnRiZWF0SW5zdGFuY2UuY29uZmlnID0gbmV3IHRoaXMud2luZG93LkFEQi5NZWRpYUhlYXJ0YmVhdENvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhcnRiZWF0SW5zdGFuY2UuY29uZmlnLmRlYnVnTG9nZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIuZXJyb3JIYW5kbGVyLmhhbmRsZVdhcm5pbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBFcnJvckNvZGVzLlBMQVlFUl9GVU5DVElPTlNfQURPQkVfQU5BTFlUSUNTX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3dhcm5pbmctYWRvYmUtYW5hbHl0aWNzLWNvdWxkLW5vdC1iZS1sb2FkZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBoZWFydGJlYXRJbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoaW5zdGFuY2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYUhlYXJ0YmVhdCA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclF1ZXVlKHRoaXMubWVkaWFIZWFydGJlYXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25maWc6IGFueSA9IHRoaXMubWVkaWFIZWFydGJlYXQuX2NvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZ2l0YWxEYXRhOiBEaWdpdGFsRGF0YSA9IHRoaXMubWVkaWFJbmZvLmRpZ2l0YWxEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZ2l0YWxEYXRhICYmIGRpZ2l0YWxEYXRhLnBhZ2UgJiYgZGlnaXRhbERhdGEucGFnZS5icmFuZF90ZWNobm9sb2d5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLm92cCA9IGRpZ2l0YWxEYXRhLnBhZ2UuYnJhbmRfdGVjaG5vbG9neTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuY2hhbm5lbCA9IGRpZ2l0YWxEYXRhLnBhZ2UuYnJhbmRfdGVjaG5vbG9neTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLm92cCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuY2hhbm5lbCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlV2FybmluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcnJvckNvZGVzLlBMQVlFUl9GVU5DVElPTlNfQURPQkVfQU5BTFlUSUNTX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd3YXJuaW5nLWFkb2JlLWFuYWx5dGljcy1jb3VsZC1ub3QtYmUtbG9hZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAzMyk7XG5cbiAgICAgICAgdGhpcy5hZGRJbml0aWFsTGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVIZWFydGJlYXREZWxlZ2F0ZSgpOiBhbnkge1xuICAgICAgICBjb25zdCBtZWRpYURlbGVnYXRlOiBhbnkgPSBuZXcgdGhpcy53aW5kb3cuQURCLk1lZGlhSGVhcnRiZWF0RGVsZWdhdGUoKTtcbiAgICAgICAgbWVkaWFEZWxlZ2F0ZS5nZXRDdXJyZW50UGxheWJhY2tUaW1lID0gdGhpcy51cGRhdGVQbGF5YmFja1RpbWUuYmluZCh0aGlzKTtcbiAgICAgICAgbWVkaWFEZWxlZ2F0ZS5nZXRRb1NPYmplY3QgPSB0aGlzLnVwZGF0ZVFvUy5iaW5kKHRoaXMpO1xuICAgICAgICByZXR1cm4gbWVkaWFEZWxlZ2F0ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZU1lZGlhT2JqZWN0KCk6IGFueSB7XG4gICAgICAgIGxldCBzdHJlYW1UeXBlOiBhbnk7XG4gICAgICAgIGxldCBtZWRpYVR5cGU6IHN0cmluZztcbiAgICAgICAgbGV0IGR1cmF0aW9uOiBudW1iZXI7XG5cbiAgICAgICAgaWYgKHRoaXMubWVkaWFJbmZvLmlzTGl2ZVN0cmVhbSgpKSB7XG4gICAgICAgICAgICBzdHJlYW1UeXBlID0gdGhpcy5NZWRpYUhlYXJ0YmVhdC5TdHJlYW1UeXBlLkxJVkU7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IDg2NDAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyZWFtVHlwZSA9IHRoaXMuTWVkaWFIZWFydGJlYXQuU3RyZWFtVHlwZS5WT0Q7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMubWVkaWFJbmZvLmR1cmF0aW9uIC8gMTAwMDtcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnBsYXllck1vZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFBMQVlFUl9NT0RFUy5WSURFTzpcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlID0gJ1ZpZGVvJztcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtVHlwZSA9IHRoaXMuTWVkaWFIZWFydGJlYXQuU3RyZWFtVHlwZS5WT0Q7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgUExBWUVSX01PREVTLkFVRElPOlxuICAgICAgICAgICAgICAgICAgICBtZWRpYVR5cGUgPSAnQXVkaW8nO1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW1UeXBlID0gdGhpcy5NZWRpYUhlYXJ0YmVhdC5TdHJlYW1UeXBlLkFPRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aXRsZTogc3RyaW5nID0gdGhpcy5tZWRpYUluZm8ub3ZlcnJpZGRlbkFzc2V0TmFtZVxuICAgICAgICAgICAgPyB0aGlzLm1lZGlhSW5mby5vdmVycmlkZGVuQXNzZXROYW1lXG4gICAgICAgICAgICA6IHRoaXMubWVkaWFJbmZvLmdldEFzc2V0TmFtZSgpO1xuICAgICAgICBjb25zdCBzdGFuZGFyZFZpZGVvTWV0YWRhdGE6IGFueSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGRpZ2l0YWxEYXRhOiBEaWdpdGFsRGF0YSA9IHRoaXMubWVkaWFJbmZvLmRpZ2l0YWxEYXRhO1xuICAgICAgICBpZiAoZGlnaXRhbERhdGEgJiYgZGlnaXRhbERhdGEucGFnZSkge1xuICAgICAgICAgICAgc3RhbmRhcmRWaWRlb01ldGFkYXRhW3RoaXMuTWVkaWFIZWFydGJlYXQuVmlkZW9NZXRhZGF0YUtleXMuU0hPV10gPSBkaWdpdGFsRGF0YS5wYWdlLnByb2dyYW1fbmFtZTtcbiAgICAgICAgICAgIHN0YW5kYXJkVmlkZW9NZXRhZGF0YVt0aGlzLk1lZGlhSGVhcnRiZWF0LlZpZGVvTWV0YWRhdGFLZXlzLlNFQVNPTl0gPSBkaWdpdGFsRGF0YS5wYWdlLmVwaXNvZGVfc2Vhc29uO1xuICAgICAgICAgICAgc3RhbmRhcmRWaWRlb01ldGFkYXRhW3RoaXMuTWVkaWFIZWFydGJlYXQuVmlkZW9NZXRhZGF0YUtleXMuQVNTRVRfSURdID0gZGlnaXRhbERhdGEucGFnZS5lcGlzb2RlX3doYXRzb25JZDtcbiAgICAgICAgICAgIHN0YW5kYXJkVmlkZW9NZXRhZGF0YVt0aGlzLk1lZGlhSGVhcnRiZWF0LlZpZGVvTWV0YWRhdGFLZXlzLkdFTlJFXSA9IGRpZ2l0YWxEYXRhLnBhZ2UubGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgc3RhbmRhcmRWaWRlb01ldGFkYXRhW3RoaXMuTWVkaWFIZWFydGJlYXQuVmlkZW9NZXRhZGF0YUtleXMuRVBJU09ERV0gPSB0aXRsZTtcblxuICAgICAgICBjb25zdCBtZWRpYU9iamVjdDogYW55ID0gdGhpcy5NZWRpYUhlYXJ0YmVhdC5jcmVhdGVNZWRpYU9iamVjdChcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgdGhpcy5tZWRpYUluZm8uYW5hbHl0aWNzUmVmZXJlbmNlLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBzdHJlYW1UeXBlLFxuICAgICAgICAgICAgbWVkaWFUeXBlLFxuICAgICAgICApO1xuICAgICAgICBzdGFuZGFyZFZpZGVvTWV0YWRhdGFbdGhpcy5NZWRpYUhlYXJ0YmVhdC5WaWRlb01ldGFkYXRhS2V5cy5TVFJFQU1fRk9STUFUXSA9IG1lZGlhVHlwZTtcblxuICAgICAgICBtZWRpYU9iamVjdC5zZXRWYWx1ZSh0aGlzLk1lZGlhSGVhcnRiZWF0Lk1lZGlhT2JqZWN0S2V5LlN0YW5kYXJkVmlkZW9NZXRhZGF0YSwgc3RhbmRhcmRWaWRlb01ldGFkYXRhKTtcblxuICAgICAgICByZXR1cm4gbWVkaWFPYmplY3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDdXN0b21NZXRhZGF0YSgpOiBhbnkge1xuICAgICAgICBsZXQgdG91Y2hQb2ludEJyYW5kOiBzdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgICAgIGxldCBwbGF0Zm9ybTogc3RyaW5nID0gJ3N5bmRpY2F0aW9uJztcbiAgICAgICAgbGV0IGNvbnRlbnRCcmFuZDogc3RyaW5nO1xuICAgICAgICBsZXQgcGFnZU5hbWU6IHN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgbGV0IHByb2dyYW1XaGF0c29uSWQ6IHN0cmluZztcblxuICAgICAgICBjb25zdCBkaWdpdGFsRGF0YTogRGlnaXRhbERhdGEgPSB0aGlzLm1lZGlhSW5mby5kaWdpdGFsRGF0YTtcbiAgICAgICAgaWYgKGRpZ2l0YWxEYXRhICYmIGRpZ2l0YWxEYXRhLnBhZ2UpIHtcbiAgICAgICAgICAgIGlmIChkaWdpdGFsRGF0YS5wYWdlLmJyYW5kX3RlY2hub2xvZ3kpIHtcbiAgICAgICAgICAgICAgICB0b3VjaFBvaW50QnJhbmQgPSBkaWdpdGFsRGF0YS5wYWdlLmJyYW5kX3RlY2hub2xvZ3k7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkaWdpdGFsRGF0YS5wYWdlLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybSA9IGRpZ2l0YWxEYXRhLnBhZ2UuY2hhbm5lbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpZ2l0YWxEYXRhLnBhZ2UuYnJhbmRfbWVkaWEpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50QnJhbmQgPSBkaWdpdGFsRGF0YS5wYWdlLmJyYW5kX21lZGlhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlnaXRhbERhdGEucGFnZS5wYWdlX3VyaSkge1xuICAgICAgICAgICAgICAgIHBhZ2VOYW1lID0gZGlnaXRhbERhdGEucGFnZS5wYWdlX3VyaTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpZ2l0YWxEYXRhLnBhZ2UucHJvZ3JhbV93aGF0c29uSWQpIHtcbiAgICAgICAgICAgICAgICBwcm9ncmFtV2hhdHNvbklkID0gZGlnaXRhbERhdGEucGFnZS5wcm9ncmFtX3doYXRzb25JZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1c3RvbU1ldGFEYXRhOiBhbnkgPSB7XG4gICAgICAgICAgICB0b3VjaHBvaW50QnJhbmQ6IHRvdWNoUG9pbnRCcmFuZCxcbiAgICAgICAgICAgIHBsYXRmb3JtLFxuICAgICAgICAgICAgY29udGVudEJyYW5kLFxuICAgICAgICAgICAgcGFnZU5hbWUsXG4gICAgICAgICAgICBwcm9ncmFtX3doYXRzb25pZDogcHJvZ3JhbVdoYXRzb25JZCxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHBsYXllclZlcnNpb246IFZSVF9CVUlMRF9WRVJTSU9OLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFkZCBhbnkgZXh0cmEgY3VzdG9tIERpZ2l0YWxEYXRhIGZpZWxkc1xuICAgICAgICBpZiAoZGlnaXRhbERhdGE/Lm1lZGlhKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkaWdpdGFsRGF0YS5tZWRpYSkuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjdXN0b21NZXRhRGF0YVtrZXldID0gZGlnaXRhbERhdGEubWVkaWFba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1c3RvbU1ldGFEYXRhO1xuICAgIH1cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgKiBFdmVudCBoYW5kbGluZyFcbiAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgcHJpdmF0ZSBhZGRJbml0aWFsTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdBZGRpbmcgQWRvYmUgYW5hbHl0aWNzIGV2ZW50IGxpc3RlbmVycy4uLicpO1xuXG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnNvdXJjZWNoYW5nZWQsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmxvY2tFdmVudHMgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5kdXJhdGlvblNldCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ibG9ja0V2ZW50cyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuY2FucGxheSwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gcGxheWVyIHJlYWR5ID09Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5maXJzdHBsYXksICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IGZpcnN0IHBsYXkgPT0nKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5wbGF5ZXJTdGFydHVwVGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyU3RhcnR1cFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFkZFBsYXliYWNrRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmV4ZWN1dGVPclF1ZXVlKHRoaXMubWVkaWFIZWFydGJlYXQsIChtZWRpYUhlYXJ0YmVhdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tTZXNzaW9uU3RhcnQodGhpcy5jcmVhdGVNZWRpYU9iamVjdCgpLCB0aGlzLmNyZWF0ZUN1c3RvbU1ldGFkYXRhKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkUGxheWJhY2tFdmVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucGxheSxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IHBsYXlpbmcgPT0nKTtcblxuICAgICAgICAgICAgICAgIC8vVE9ETzogUG9zc2libGUgdGhhdCB0aGlzIHN0aWxsIGlzIGZpcmVkIGluIGFuIGluY29ycmVjdCBtb21lbnQhIChjb21iaW5lZCB3aXRoIHNlZWtpbmcgZXZlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLm1lZGlhSGVhcnRiZWF0LCAobWVkaWFIZWFydGJlYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja1BsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLm1lZGlhSGVhcnRiZWF0LnRyYWNrRXZlbnQodGhpcy5NZWRpYUhlYXJ0YmVhdC5FdmVudC5CdWZmZXJTdGFydCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wYXVzZSxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IHBhdXNlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLm1lZGlhSGVhcnRiZWF0LCAobWVkaWFIZWFydGJlYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja1BhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5zZWVraW5nLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gc2Vla2luZyA9PScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLm1lZGlhSGVhcnRiZWF0LCAobWVkaWFIZWFydGJlYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KHRoaXMuTWVkaWFIZWFydGJlYXQuRXZlbnQuU2Vla1N0YXJ0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnNlZWtlZCxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IHNlZWtlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLm1lZGlhSGVhcnRiZWF0LCAobWVkaWFIZWFydGJlYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KHRoaXMuTWVkaWFIZWFydGJlYXQuRXZlbnQuU2Vla0NvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmVuZGVkLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gdmlkZW8gZW5kZWQgPT0nKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5tZWRpYUhlYXJ0YmVhdCwgKG1lZGlhSGVhcnRiZWF0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja1Nlc3Npb25FbmQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmV4aXRpbmcsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBicm93c2VyIGNsb3NpbmcgPT0nKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5tZWRpYUhlYXJ0YmVhdCwgKG1lZGlhSGVhcnRiZWF0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tTZXNzaW9uRW5kKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIC8vQnVmZmVyaW5nIGV2ZW50cyBkaXNhYmxlZCBmb3Igbm93ISBTaG91bGQgb25seSBiZSB0aHJvd24gd2hlbiBwbGF5YmFjayBzdGFsbHMhXG4gICAgICAgIC8qdGhpcy5wdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmJ1ZmZlcmVkLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBidWZmZXJpbmcgY29tcGxldGVkID09Jyk7XG4gICAgICAgICAgICB0aGlzLm1lZGlhSGVhcnRiZWF0LnRyYWNrRXZlbnQodGhpcy5NZWRpYUhlYXJ0YmVhdC5FdmVudC5CdWZmZXJDb21wbGV0ZSk7XG4gICAgICAgICAgICAvL1NpbmNlIHRoZXJlIGlzIG5vIHdheSB0byB0cmFjayBhIGJ1ZmZlciBzdGFydCB3aXRoICh3aXRoIHRoZW9wbGF5ZXIpIHdlIHdvcmthcm91bmQgdGhpcyBieSBzdGFydGluZyBhIGJ1ZmZlciB3aGVuIGEgYnVmZmVyIGlzIGNvbXBsZXRlZCFcbiAgICAgICAgICAgIC8vdGhpcy5tZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KHRoaXMuTWVkaWFIZWFydGJlYXQuRXZlbnQuQnVmZmVyU3RhcnQpO1xuICAgICAgICB9KTsqL1xuXG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnF1YWxpdHljaGFuZ2VkLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxRdWFsaXR5Q2hhbmdlZFBheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gcXVhbGl0eSBjaGFuZ2VkID09Jyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWFsaXR5OiBRdWFsaXR5ID0gdGhpcy5wYWwuZ2V0QWN0aXZlUXVhbGl0eSgpO1xuICAgICAgICAgICAgICAgIGlmIChxdWFsaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEJpdFJhdGUgPSBxdWFsaXR5LmJhbmR3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1YWxpdHkgaW5zdGFuY2VvZiBWaWRlb1F1YWxpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lcmF0ZSA9IHF1YWxpdHkuZnJhbWVyYXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICAvL0Fkc1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5hZGJyZWFrYmVnaW4sXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PEFkUGF5bG9hZD4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBhZGJyZWFrIHN0YXJ0ZWQgPT0nKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFkQ29udGV4dERhdGE6IGFueSA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWZmaWxpYXRlOiBldmVudC5jb250ZW50LmFmZmlsaWF0ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FtcGFpZ246IGV2ZW50LmNvbnRlbnQuY2FtcGFpZ24sXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5tZWRpYUhlYXJ0YmVhdCwgKG1lZGlhSGVhcnRiZWF0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRCcmVha0luZm86IGFueSA9IHRoaXMuTWVkaWFIZWFydGJlYXQuY3JlYXRlQWRCcmVha09iamVjdChldmVudC5uYW1lLCAxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRJbmZvOiBhbnkgPSB0aGlzLk1lZGlhSGVhcnRiZWF0LmNyZWF0ZUFkT2JqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNvbnRlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY29udGVudC5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFuZGFyZEFkTWV0YWRhdGE6IGFueSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZEFkTWV0YWRhdGFbdGhpcy5NZWRpYUhlYXJ0YmVhdC5BZE1ldGFkYXRhS2V5cy5BRFZFUlRJU0VSXSA9IGV2ZW50LmNvbnRlbnQuYWR2ZXJ0aXNlcjtcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRBZE1ldGFkYXRhW3RoaXMuTWVkaWFIZWFydGJlYXQuQWRNZXRhZGF0YUtleXMuQ0FNUEFJR05fSURdID0gZXZlbnQuY29udGVudC5jYW1wYWlnbjtcblxuICAgICAgICAgICAgICAgICAgICBhZEluZm8uc2V0VmFsdWUodGhpcy5NZWRpYUhlYXJ0YmVhdC5NZWRpYU9iamVjdEtleS5TdGFuZGFyZEFkTWV0YWRhdGEsIHN0YW5kYXJkQWRNZXRhZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tFdmVudCh0aGlzLk1lZGlhSGVhcnRiZWF0LkV2ZW50LkFkQnJlYWtTdGFydCwgYWRCcmVha0luZm8pO1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KHRoaXMuTWVkaWFIZWFydGJlYXQuRXZlbnQuQWRTdGFydCwgYWRJbmZvLCBhZENvbnRleHREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tQbGF5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5hZGJyZWFrZW5kLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gYWRicmVhayBlbmRlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLm1lZGlhSGVhcnRiZWF0LCAobWVkaWFIZWFydGJlYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KHRoaXMuTWVkaWFIZWFydGJlYXQuRXZlbnQuQWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSGVhcnRiZWF0LnRyYWNrRXZlbnQodGhpcy5NZWRpYUhlYXJ0YmVhdC5FdmVudC5BZEJyZWFrQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuYWRza2lwcGVkLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gYWQgc2tpcHBlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLm1lZGlhSGVhcnRiZWF0LCAobWVkaWFIZWFydGJlYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KHRoaXMuTWVkaWFIZWFydGJlYXQuRXZlbnQuQWRTa2lwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmxpdmVwcm9ncmFtY2hhbmdlLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxMaXZlUHJvZ3JhbUNoYW5nZWRQYXlsb2FkPikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IHByb2dyYW0gY2hhbmdlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLm1lZGlhSGVhcnRiZWF0LCAobWVkaWFIZWFydGJlYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSGVhcnRiZWF0LnRyYWNrU2Vzc2lvbkVuZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSGVhcnRiZWF0LnRyYWNrU2Vzc2lvblN0YXJ0KHRoaXMuY3JlYXRlTWVkaWFPYmplY3QoKSwgdGhpcy5jcmVhdGVDdXN0b21NZXRhZGF0YSgpKTtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tQbGF5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wcm9tb3Rpb25hbHN0YXJ0ZWQsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PEFkUGF5bG9hZD4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBwcm9tb3Rpb25hbCBicmVhayBzdGFydGVkID09Jyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhZENvbnRleHREYXRhOiBhbnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFmZmlsaWF0ZTogZXZlbnQuY29udGVudC5hZmZpbGlhdGUsXG4gICAgICAgICAgICAgICAgICAgIGNhbXBhaWduOiBldmVudC5jb250ZW50LmNhbXBhaWduLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVPclF1ZXVlKHRoaXMubWVkaWFIZWFydGJlYXQsIChtZWRpYUhlYXJ0YmVhdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkQnJlYWtJbmZvOiBhbnkgPSB0aGlzLk1lZGlhSGVhcnRiZWF0LmNyZWF0ZUFkQnJlYWtPYmplY3QoZXZlbnQubmFtZSwgMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkSW5mbzogYW55ID0gdGhpcy5NZWRpYUhlYXJ0YmVhdC5jcmVhdGVBZE9iamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jb250ZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNvbnRlbnQuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhbmRhcmRBZE1ldGFkYXRhOiBhbnkgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRBZE1ldGFkYXRhW3RoaXMuTWVkaWFIZWFydGJlYXQuQWRNZXRhZGF0YUtleXMuQURWRVJUSVNFUl0gPSBldmVudC5jb250ZW50LmFkdmVydGlzZXI7XG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkQWRNZXRhZGF0YVt0aGlzLk1lZGlhSGVhcnRiZWF0LkFkTWV0YWRhdGFLZXlzLkNBTVBBSUdOX0lEXSA9IGV2ZW50LmNvbnRlbnQuY2FtcGFpZ247XG5cbiAgICAgICAgICAgICAgICAgICAgYWRJbmZvLnNldFZhbHVlKHRoaXMuTWVkaWFIZWFydGJlYXQuTWVkaWFPYmplY3RLZXkuU3RhbmRhcmRBZE1ldGFkYXRhLCBzdGFuZGFyZEFkTWV0YWRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSGVhcnRiZWF0LnRyYWNrRXZlbnQodGhpcy5NZWRpYUhlYXJ0YmVhdC5FdmVudC5BZEJyZWFrU3RhcnQsIGFkQnJlYWtJbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tFdmVudCh0aGlzLk1lZGlhSGVhcnRiZWF0LkV2ZW50LkFkU3RhcnQsIGFkSW5mbywgYWRDb250ZXh0RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSGVhcnRiZWF0LnRyYWNrUGxheSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMubmV4dHByb21vdGlvbmFsc3RhcnRlZCxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8QWRQYXlsb2FkPikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IG5leHQgcHJvbW90aW9uYWwgPT0nKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFkQ29udGV4dERhdGE6IGFueSA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWZmaWxpYXRlOiBldmVudC5jb250ZW50LmFmZmlsaWF0ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FtcGFpZ246IGV2ZW50LmNvbnRlbnQuY2FtcGFpZ24sXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5tZWRpYUhlYXJ0YmVhdCwgKG1lZGlhSGVhcnRiZWF0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRJbmZvOiBhbnkgPSB0aGlzLk1lZGlhSGVhcnRiZWF0LmNyZWF0ZUFkT2JqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNvbnRlbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY29udGVudC5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFuZGFyZEFkTWV0YWRhdGE6IGFueSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZEFkTWV0YWRhdGFbdGhpcy5NZWRpYUhlYXJ0YmVhdC5BZE1ldGFkYXRhS2V5cy5BRFZFUlRJU0VSXSA9IGV2ZW50LmNvbnRlbnQuYWR2ZXJ0aXNlcjtcbiAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRBZE1ldGFkYXRhW3RoaXMuTWVkaWFIZWFydGJlYXQuQWRNZXRhZGF0YUtleXMuQ0FNUEFJR05fSURdID0gZXZlbnQuY29udGVudC5jYW1wYWlnbjtcblxuICAgICAgICAgICAgICAgICAgICBhZEluZm8uc2V0VmFsdWUodGhpcy5NZWRpYUhlYXJ0YmVhdC5NZWRpYU9iamVjdEtleS5TdGFuZGFyZEFkTWV0YWRhdGEsIHN0YW5kYXJkQWRNZXRhZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tFdmVudCh0aGlzLk1lZGlhSGVhcnRiZWF0LkV2ZW50LkFkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KHRoaXMuTWVkaWFIZWFydGJlYXQuRXZlbnQuQWRTdGFydCwgYWRJbmZvLCBhZENvbnRleHREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFIZWFydGJlYXQudHJhY2tQbGF5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wcm9tb3Rpb25hbGVuZGVkLFxuICAgICAgICAgICAgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBwcm9tb3Rpb25hbCBicmVhayBlbmRlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLm1lZGlhSGVhcnRiZWF0LCAobWVkaWFIZWFydGJlYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0V2ZW50KHRoaXMuTWVkaWFIZWFydGJlYXQuRXZlbnQuQWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSGVhcnRiZWF0LnRyYWNrRXZlbnQodGhpcy5NZWRpYUhlYXJ0YmVhdC5FdmVudC5BZEJyZWFrQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5kZXN0cm95LFxuICAgICAgICAgICAgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBkZXN0cm95ID09Jyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVPclF1ZXVlKHRoaXMubWVkaWFIZWFydGJlYXQsIChtZWRpYUhlYXJ0YmVhdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhlYXJ0YmVhdERlbGVnYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdERlbGVnYXRlLmdldEN1cnJlbnRQbGF5YmFja1RpbWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhcnRiZWF0RGVsZWdhdGUuZ2V0UW9TT2JqZWN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBtZWRpYUhlYXJ0YmVhdC50cmFja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhSGVhcnRiZWF0LnRyYWNrU2Vzc2lvbkVuZCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVFvUygpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5NZWRpYUhlYXJ0YmVhdC5jcmVhdGVRb1NPYmplY3QoXG4gICAgICAgICAgICB0aGlzLmxhc3RCaXRSYXRlLFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJTdGFydHVwVGltZSxcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lcmF0ZSxcbiAgICAgICAgICAgIHRoaXMucGFsLmdldERyb3BwZWRGcmFtZUNvdW50KCksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQbGF5YmFja1RpbWUoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgcGxheUhlYWQ6IG51bWJlciA9IHRoaXMucGFsLnBsYXlIZWFkUG9zaXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGlzTmFOKHBsYXlIZWFkKSA/IDAgOiBwbGF5SGVhZDtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUmVtb3RlVXRpbHMge1xuICAgIHB1YmxpYyBzdGF0aWMgZXh0cmFjdERvbWFpbih1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGxldCBob3N0bmFtZTtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCcvLycpID4gLTEpIHtcbiAgICAgICAgICAgIGhvc3RuYW1lID0gdXJsLnNwbGl0KCcvJylbMl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBob3N0bmFtZSA9IHVybC5zcGxpdCgnLycpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgaG9zdG5hbWUgPSBob3N0bmFtZS5zcGxpdCgnOicpWzBdO1xuICAgICAgICBob3N0bmFtZSA9IGhvc3RuYW1lLnNwbGl0KCc/JylbMF07XG4gICAgICAgIHJldHVybiBob3N0bmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGRvR2V0KHVybDogc3RyaW5nLCB3aXRoQ3JlZGVudGlhbHM6IGJvb2xlYW4sIGhlYWRlcnM6IEhlYWRlcltdKTogUHJvbWlzZTxSZW1vdGVSZXBseT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHJlcXVlc3QsIHJlc3BvbnNlOiByZXF1ZXN0LnJlc3BvbnNlVGV4dCA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogbnVsbCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmFkZEhlYWRlcnMocmVxdWVzdCwgaGVhZGVycyk7XG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBkb1Bvc3QodXJsOiBzdHJpbmcsIHdpdGhDcmVkZW50aWFsczogYm9vbGVhbiwgaGVhZGVyczogSGVhZGVyW10sIGRhdGE6IGFueSk6IFByb21pc2U8UmVtb3RlUmVwbHk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gd2l0aENyZWRlbnRpYWxzO1xuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCh7IHJlcXVlc3QsIHJlc3BvbnNlOiByZXF1ZXN0LnJlc3BvbnNlVGV4dCA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogbnVsbCB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyByZXF1ZXN0LCByZXNwb25zZTogcmVxdWVzdC5yZXNwb25zZVRleHQgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IG51bGwgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkSGVhZGVycyhyZXF1ZXN0LCBoZWFkZXJzKTtcbiAgICAgICAgICAgIHJlcXVlc3Quc2VuZChkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBhZGRIZWFkZXJzKHJlcXVlc3Q6IFhNTEh0dHBSZXF1ZXN0LCBoZWFkZXJzOiBIZWFkZXJbXSk6IHZvaWQge1xuICAgICAgICBpZiAoaGVhZGVycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgaGVhZGVycykge1xuICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIubmFtZSwgaGVhZGVyLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBIZWFkZXIge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbW90ZVJlcGx5IHtcbiAgICByZXF1ZXN0OiBYTUxIdHRwUmVxdWVzdDtcbiAgICByZXNwb25zZTogc3RyaW5nO1xufVxuIiwiaW1wb3J0IHsgUmVtb3RlVXRpbHMgfSBmcm9tICcuL3JlbW90ZS11dGlscyc7XG5cbmV4cG9ydCBjbGFzcyBCcm93c2VyVXRpbHMge1xuICAgIHB1YmxpYyBzdGF0aWMgaXNNb2JpbGUoKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBjaGVjazogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAoKGEpID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChcbiAgICAgICAgICAgICAgICAgICAgYSxcbiAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChcbiAgICAgICAgICAgICAgICAgICAgYS5zdWJzdHIoMCwgNCksXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KShuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgKHdpbmRvdyBhcyBhbnkpLm9wZXJhKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNNb2JpbGVPclRhYmxldCgpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGNoZWNrID0gZmFsc2U7XG4gICAgICAgICgoYSkgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaS50ZXN0KFxuICAgICAgICAgICAgICAgICAgICBhLFxuICAgICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICAvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KFxuICAgICAgICAgICAgICAgICAgICBhLnN1YnN0cigwLCA0KSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjaGVjayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCAod2luZG93IGFzIGFueSkub3BlcmEpO1xuICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc0FuZHJvaWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNUaGVvUGxheWVyTG9hZGVkKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHc6IGFueSA9IHdpbmRvdyBhcyBhbnk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHcuVEhFT3BsYXllci52aWRlb2pzLmJyb3dzZXIuSVNfQU5EUk9JRCB8fFxuICAgICAgICAgICAgICAgIHcuVEhFT3BsYXllci52aWRlb2pzLmJyb3dzZXIuSVNfTkFUSVZFX0FORFJPSUQgfHxcbiAgICAgICAgICAgICAgICB3LlRIRU9wbGF5ZXIudmlkZW9qcy5icm93c2VyLklTX09MRF9BTkRST0lEXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgKHdpbmRvdyBhcyBhbnkpLm9wZXJhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNJT1MoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNUaGVvUGxheWVyTG9hZGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAod2luZG93IGFzIGFueSkuVEhFT3BsYXllci52aWRlb2pzLmJyb3dzZXIuSVNfSU9TO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICEhbmF2aWdhdG9yLnBsYXRmb3JtICYmIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzQ2hyb21lKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoQnJvd3NlclV0aWxzLmlzVGhlb1BsYXllckxvYWRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLlRIRU9wbGF5ZXIudmlkZW9qcy5icm93c2VyLklTX0NIUk9NRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCcm93c2VyVXRpbHMuZGV0ZWN0QnJvd3NlcigpID09PSAnY2hyb21lJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNGaXJlRm94KCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoQnJvd3NlclV0aWxzLmlzVGhlb1BsYXllckxvYWRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLlRIRU9wbGF5ZXIudmlkZW9qcy5icm93c2VyLklTX0ZJUkVGT1g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQnJvd3NlclV0aWxzLmRldGVjdEJyb3dzZXIoKSA9PT0gJ2ZpcmVmb3gnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc0VkZ2UoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNUaGVvUGxheWVyTG9hZGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAod2luZG93IGFzIGFueSkuVEhFT3BsYXllci52aWRlb2pzLmJyb3dzZXIuSVNfRURHRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCcm93c2VyVXRpbHMuZGV0ZWN0QnJvd3NlcigpID09PSAnZWRnZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzSUUoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNUaGVvUGxheWVyTG9hZGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAod2luZG93IGFzIGFueSkuVEhFT3BsYXllci52aWRlb2pzLmJyb3dzZXIuSUVfVkVSU0lPTiAhPT0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCcm93c2VyVXRpbHMuZGV0ZWN0QnJvd3NlcigpID09PSAnaWUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc0lFb3JFZGdlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQnJvd3NlclV0aWxzLmlzSUUoKSB8fCBCcm93c2VyVXRpbHMuaXNFZGdlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc1NhZmFyaSgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKEJyb3dzZXJVdGlscy5pc1RoZW9QbGF5ZXJMb2FkZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5USEVPcGxheWVyLnZpZGVvanMuYnJvd3Nlci5JU19BTllfU0FGQVJJO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJyb3dzZXJVdGlscy5kZXRlY3RCcm93c2VyKCkgPT09ICdzYWZhcmknO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmaXhJRShwbGF5ZXJFbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBwbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3ZpZGVvLWpzJyk7XG4gICAgICAgIHBsYXllckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGhlb3BsYXllci1za2luJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRQbGF0Zm9ybSgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBpc01vYmlsZSA9IHRoaXMuaXNNb2JpbGUoKTtcbiAgICAgICAgY29uc3QgaXNNb2JpbGVPclRhYmxldCA9IHRoaXMuaXNNb2JpbGVPclRhYmxldCgpO1xuXG4gICAgICAgIGlmIChpc01vYmlsZSAmJiBpc01vYmlsZU9yVGFibGV0KSB7XG4gICAgICAgICAgICByZXR1cm4gJ3Bob25lJztcbiAgICAgICAgfSBlbHNlIGlmICghaXNNb2JpbGUgJiYgaXNNb2JpbGVPclRhYmxldCkge1xuICAgICAgICAgICAgcmV0dXJuICd0YWJsZXQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdkZXNrdG9wJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFBvbHlmaWxscyhvblBvbHlmaWxsc0xvYWRlZDogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnTG9hZGluZyBwb2x5ZmlsbHMgaWYgbmVlZGVkLi4uJyk7XG4gICAgICAgIGNvbnN0IHc6IGFueSA9IHdpbmRvdztcblxuICAgICAgICBjb25zdCBwcm9taXNlczogYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHByb21pc2VzLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgcHJvbWlzZXMub25lcnJvciA9IG9uUG9seWZpbGxzTG9hZGVkO1xuICAgICAgICBwcm9taXNlcy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdwb2x5ZmlsbHMgbG9hZGVkLCBhcHBsaWVkIG9ubHkgd2hhdCB3YXMgbmVlZGVkIScpO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHcuUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgb25Qb2x5ZmlsbHNMb2FkZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH07XG4gICAgICAgIHByb21pc2VzLnNyYyA9XG4gICAgICAgICAgICAnaHR0cHM6Ly9wb2x5ZmlsbC5pby92My9wb2x5ZmlsbC5taW4uanM/ZmVhdHVyZXM9QXJyYXkuZnJvbSUyQ0FycmF5LnByb3RvdHlwZS5mb3JFYWNoJTJDTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2glMkNDdXN0b21FdmVudCUyQ0VsZW1lbnQucHJvdG90eXBlLnJlbW92ZSUyQ051bWJlci5pc05hTiUyQ09iamVjdC5hc3NpZ24lMkNQcm9taXNlJTJDQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzJTJDU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyUyQ09iamVjdC52YWx1ZXMlMkNOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCUyQ1N0cmluZy5wcm90b3R5cGUucmVwZWF0JTJDU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoJztcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChwcm9taXNlcyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBsb2FkTGlicmFyaWVzU2VxdWVudGlhbChsaWJyYXJ5VXJsczogc3RyaW5nW10sIHJlc29sdmVPbkVycm9yOiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaWJyYXJ5VXJsIG9mIGxpYnJhcnlVcmxzKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2FkTGlicmFyeShsaWJyYXJ5VXJsLCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoIXJlc29sdmVPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGxvYWRMaWJyYXJ5T25Db25kaXRpb24oXG4gICAgICAgIGxpYlVybDogc3RyaW5nLFxuICAgICAgICBjb25kaXRpb246IGJvb2xlYW4sXG4gICAgICAgIHJlc29sdmVPbkVycm9yOiBib29sZWFuID0gZmFsc2UsXG4gICAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZExpYnJhcnkobGliVXJsLCB7fSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZU9uRXJyb3IgPyBQcm9taXNlLnJlc29sdmUoKSA6IFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGxvYWRMaWJyYXJ5KFxuICAgICAgICBsaWJVcmw6IHN0cmluZyxcbiAgICAgICAgb3B0aW9uczogTGlicmFyeU9wdGlvbnMsXG4gICAgICAgIHJlc29sdmVPbkVycm9yOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIHJlc29sdmVPbkNhbGxiYWNrTmFtZTogc3RyaW5nID0gbnVsbCxcbiAgICApOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnTG9hZGluZyBsaWJyYXJ5OiAnICsgbGliVXJsKTtcblxuICAgICAgICAgICAgY29uc3QgbGliOiBhbnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgIGxpYi50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgICAgICAvL1ByZXZlbnQgYWQgYmxvY2tlcnMgZnJvbSBraWxsaW5nIHRoZSBwbGF5ZXIhXG4gICAgICAgICAgICBsaWIub25lcnJvciA9IHJlc29sdmVPbkVycm9yID8gKCkgPT4gcmVzb2x2ZSgpIDogKCkgPT4gcmVqZWN0KCk7XG4gICAgICAgICAgICBsaWIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0xvYWRlZDogJyArIGxpYlVybCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlT25DYWxsYmFja05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChyZXNvbHZlT25DYWxsYmFja05hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgd2luZG93W3Jlc29sdmVPbkNhbGxiYWNrTmFtZV0gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0xpYnJhcnkgY2FsbGJhY2sgY2FsbGVkLCBsaWIgcmVhZHkhJyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRpb25zLmF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpYltrZXldID0gb3B0aW9ucy5hdHRyaWJ1dGVzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGliLnNyYyA9IGxpYlVybDtcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGliKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBsb2FkQ1NTKGNzc0xpYlVybDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnTG9hZGluZyBDU1M6ICcgKyBjc3NMaWJVcmwpO1xuXG4gICAgICAgIC8vV2UgbG9hZCB0aGUgQ1NTIHRoaXMgd2F5IHRvIHByZXZlbnQgQ09SUyBpc3N1ZXMgPT4gSWYgd2UgbG9hZCBpdCB0aGUgY2xhc3NpYyB3YXksIHRoZSBDU1Mgd2lsbCByZW5kZXIgYnV0IHdlIGNhbm5vdCBhY2Nlc3MgdGhlIHJ1bGVzIHZpYSBKYXZhU2NyaXB0IVxuICAgICAgICBjb25zdCBjc3M6IHN0cmluZyA9IChhd2FpdCBSZW1vdGVVdGlscy5kb0dldChjc3NMaWJVcmwsIGZhbHNlLCBbXSkpLnJlc3BvbnNlO1xuICAgICAgICBjb25zdCBoZWFkOiBIVE1MSGVhZEVsZW1lbnQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgICAgIGNvbnN0IHN0eWxlOiBIVE1MU3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldENkblVybCgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcGxheWVyUm9vdDogc3RyaW5nID0gJyc7XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0JykuZm9yRWFjaCgoc2NyaXB0OiBIVE1MU2NyaXB0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNjcmlwdC5zcmMuc2VhcmNoKFxuICAgICAgICAgICAgICAgICAgICAvbWVkaWEtc2VydmljZXMtcHVibGljLWRldi52cnQuYmVcXC9tZWRpYXBsYXllcnxtZWRpYS1zZXJ2aWNlcy1wdWJsaWMtc3RhZy52cnQuYmVcXC9tZWRpYXBsYXllcnxtZWRpYS1zZXJ2aWNlcy1wdWJsaWMudnJ0LmJlXFwvbWVkaWFwbGF5ZXJ8cGxheWVyLWRldi52cnQuYmV8cGxheWVyLXN0YWcudnJ0LmJlfHBsYXllci52cnQuYmUvZyxcbiAgICAgICAgICAgICAgICApID4gLTFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBsYXllclJvb3QgPSBzY3JpcHQuc3JjLnJlcGxhY2UoJy9qcy9tYWluLmpzJywgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcGxheWVyUm9vdCArICcvJztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldFNpdGVVcmxSZWR1Y2VkVG9GaXJzdFBhdGhJdGVtKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgK1xuICAgICAgICAgICAgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5sZW5ndGggPiAwID8gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMF0gOiAnJylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBsb2NhbFN0b3JhZ2VBdmFpbGFibGU6IGJvb2xlYW4gPSBudWxsO1xuICAgIHB1YmxpYyBzdGF0aWMgaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3RvcmFnZUF2YWlsYWJsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yYWdlQXZhaWxhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2cnQtbWVkaWFwbGF5ZXItZHVtbXknLCAnZHVtbXktdmFsdWUnKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2cnQtbWVkaWFwbGF5ZXItZHVtbXknKTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlQXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZUF2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZGV0ZWN0QnJvd3NlcigpOiBzdHJpbmcge1xuICAgICAgICBsZXQgYnJvd3Nlcjogc3RyaW5nO1xuICAgICAgICBjb25zdCB1YTogc3RyaW5nW10gPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8ob3BlcmF8Y2hyb21lfHNhZmFyaXxmaXJlZm94fG1zaWUpXFwvP1xccyooXFwuP1xcZCsoXFwuXFxkKykqKS9pKTtcbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2UvaSkgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvZWRnL2kpKSB7XG4gICAgICAgICAgICBicm93c2VyID0gJ2VkZ2UnO1xuICAgICAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnQuKnJ2WyA6XSoxMVxcLi9pKSkge1xuICAgICAgICAgICAgYnJvd3NlciA9ICdpZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodWEgJiYgdWEubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICBicm93c2VyID0gdWFbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJvd3NlciA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vUmV0dXJucyBzYWZhcmkvY2hyb21lL2ZpcmVmb3gvaWUvZWRnZSBvciAnJyB3aGVuIHVua25vd24gb3IgdW5jZXJ0YWluIVxuICAgICAgICByZXR1cm4gYnJvd3NlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBpc1RoZW9QbGF5ZXJMb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHc6IGFueSA9IHdpbmRvdyBhcyBhbnk7XG4gICAgICAgIHJldHVybiB3ICYmIHcuVEhFT3BsYXllciAmJiB3LlRIRU9wbGF5ZXIudmlkZW9qcyAmJiB3LlRIRU9wbGF5ZXIudmlkZW9qcy5icm93c2VyO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaWJyYXJ5T3B0aW9ucyB7XG4gICAgYXR0cmlidXRlcz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG59XG4iLCJpbXBvcnQgeyBEaWdpdGFsRGF0YSB9IGZyb20gJy4uLy4uL21vZGVsL2RpZ2l0YWwtZGF0YSc7XG5pbXBvcnQgeyBQbGF5ZXJFdmVudCB9IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL3BsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgT25Wb2x1bWVDaGFuZ2VQYXlsb2FkLCBRdWFsaXR5Q2hhbmdlZFBheWxvYWQgfSBmcm9tICcuLi8uLi9tb2RlbC9ldmVudGluZy9wdWJsaWMtcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBNZWRpYUluZm8gfSBmcm9tICcuLi8uLi9tb2RlbC9tZWRpYS1pbmZvJztcbmltcG9ydCB7IFBsYXllckFic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuLi8uLi9wbGF5ZXIvYWJzdHJhY3Rpb24tbGF5ZXIvcGxheWVyLWFic3RyYWN0aW9uLWxheWVyJztcbmltcG9ydCB7IEV2ZW50SGFuZGxlck1hcHBpbmcsIFB1Ymxpc2hlciB9IGZyb20gJy4uLy4uL3BsYXllci9wdWJsaXNoZXInO1xuaW1wb3J0IHsgQnJvd3NlclV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvYnJvd3Nlci11dGlscyc7XG5pbXBvcnQgeyBFcnJvckNvZGVzIH0gZnJvbSAnLi4vZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyBEZWZlcnJlZEV4ZWN1dG9yIH0gZnJvbSAnLi9kZWZlcnJlZC1leGVjdXRvcic7XG5pbXBvcnQgeyBQTEFZRVJfTU9ERVMgfSBmcm9tICcuLi8uLi9tb2RlbC9jb25maWcnO1xuaW1wb3J0IHsgUXVhbGl0eSB9IGZyb20gJy4uLy4uL21vZGVsL3F1YWxpdHknO1xuaW1wb3J0IHsgVmlkZW9RdWFsaXR5IH0gZnJvbSAnLi4vLi4vbW9kZWwvdmlkZW8tcXVhbGl0eSc7XG5cbmV4cG9ydCBjbGFzcyBDaW1BbmFseXRpY3NTZXJ2aWNlIGV4dGVuZHMgRGVmZXJyZWRFeGVjdXRvciB7XG4gICAgcHJpdmF0ZSB3aW5kb3c6IGFueSA9IHdpbmRvdztcblxuICAgIHByaXZhdGUgZ2VtaXVzUGxheWVyOiBhbnk7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHBsYXllck1vZGU6IHN0cmluZztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHB1Ymxpc2hlcjogUHVibGlzaGVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGxheWVySWQ6IHN0cmluZztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhbDogUGxheWVyQWJzdHJhY3Rpb25MYXllcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1lZGlhSW5mbzogTWVkaWFJbmZvO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY2ltSWQ6IHN0cmluZztcblxuICAgIHByaXZhdGUgc2Vzc2lvblN0YXJ0ZWQ6IGJvb2xlYW47XG5cbiAgICBwcm90ZWN0ZWQgZXZlbnRIYW5kbGVyczogRXZlbnRIYW5kbGVyTWFwcGluZ1tdID0gW107XG5cbiAgICBwdWJsaWMgc3RhdGljIGxvYWRMaWJyYXJ5KCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBCcm93c2VyVXRpbHMubG9hZExpYnJhcnkoJ2h0dHBzOi8vZ2FiZS5oaXQuZ2VtaXVzLnBsL2dwbGF5ZXIuanMnLCB7fSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBsYXllck1vZGU6IHN0cmluZyxcbiAgICAgICAgcGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgICAgIHBsYXllckFic3RyYWN0aW9uTGF5ZXI6IFBsYXllckFic3RyYWN0aW9uTGF5ZXIsXG4gICAgICAgIG1lZGlhSW5mbzogTWVkaWFJbmZvLFxuICAgICAgICBwdWJsaXNoZXI6IFB1Ymxpc2hlcixcbiAgICAgICAgY2ltSWQ6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgc3VwZXIoJ0NJTSBBbmFseXRpY3MnKTtcblxuICAgICAgICB0aGlzLnBsYXllck1vZGUgPSBwbGF5ZXJNb2RlO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlciA9IHB1Ymxpc2hlcjtcbiAgICAgICAgdGhpcy5wbGF5ZXJJZCA9IHBsYXllckVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG4gICAgICAgIHRoaXMucGFsID0gcGxheWVyQWJzdHJhY3Rpb25MYXllcjtcbiAgICAgICAgdGhpcy5tZWRpYUluZm8gPSBtZWRpYUluZm87XG4gICAgICAgIHRoaXMuY2ltSWQgPSBjaW1JZDtcblxuICAgICAgICB0aGlzLnNlc3Npb25TdGFydGVkID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGludGVydmFsQ291bnRlciA9IDA7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMud2luZG93LkdlbWl1c1BsYXllcikge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5nZW1pdXNQbGF5ZXIgPSBuZXcgKHdpbmRvdyBhcyBhbnkpLkdlbWl1c1BsYXllcignVlJULU1lZGlhUGxheWVyJywgdGhpcy5jaW1JZCwge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RG9tYWluOiB3aW5kb3cubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHZvbHVtZTogdGhpcy5nZXRWb2x1bWVGb3JHZW1pdXMoKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcGxheWVyRWxlbWVudC5vZmZzZXRXaWR0aCArICd4JyArIHBsYXllckVsZW1lbnQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2VtaXVzUGxheWVyLnNldFZpZGVvT2JqZWN0KG51bGwpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclF1ZXVlKHRoaXMuZ2VtaXVzUGxheWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGludGVydmFsQ291bnRlcisrID49IDYwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlV2FybmluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIEVycm9yQ29kZXMuUExBWUVSX0ZVTkNUSU9OU19DSU1fQU5BTFlUSUNTX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3dhcm5pbmctY2ltLWFuYWx5dGljcy1jb3VsZC1ub3QtYmUtbG9hZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDMzKTtcblxuICAgICAgICAvL1RPRE86IElzIHRoZSBwbGF5SGVhZFBvc2l0aW9uIGlzIGFuIGVwb2NoIGZvciBsaXZlLCBzZWNvbmRzIGVsYXBzZWQgZm9yIHZvZFxuICAgICAgICAvLyBEb2VzIHRoaXMgbmVlZCB0byBiZSBpbiBzZWNvbmRzIGVsYXBzZWQgZnJvbSBzdGFydCBhcyB3ZWxsIGZvciBsaXZlP1xuICAgICAgICB0aGlzLmFkZExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMuZm9yRWFjaCgodmFsdWU6IHsgZXZlbnQ6IFBsYXllckV2ZW50PGFueT47IGhhbmRsZXI6IEZ1bmN0aW9uIH0pID0+IHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnJlbW92ZVN1YnNjcmliZXIodmFsdWUuZXZlbnQsIHZhbHVlLmhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0gW107XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGlzTG9hZGVkQW5kQ2FuRXhlY3V0ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VtaXVzUGxheWVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdBZGRpbmcgQ0lNIGFuYWx5dGljcyBldmVudCBsaXN0ZW5lcnMuLi4nKTtcblxuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5maXJzdHBsYXksICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IGZpcnN0IHBsYXkgPT0nKTtcbiAgICAgICAgICAgIHRoaXMuYWRkUGxheWJhY2tFdmVudExpc3RlbmVycygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFBsYXliYWNrRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG5vcm1hbENvbnRlbnRTdGFydGVkSGFuZGxlcjogKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB2b2lkID0gKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYWwuaXNQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBub3JtYWwgY29udGVudCBzdGFydGVkIHBsYXliYWNrID09Jyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5YmFja1N0YXJ0ZWRIYW5kbGVyOiAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHZvaWQgPSAoZXZ0OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXlIZWFkUG9zaXRpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uU3RhcnRlZCB8fCB0aGlzLm1lZGlhSW5mby5pc0xpdmVTdHJlYW0oKSA/IHRoaXMucGFsLnBsYXlIZWFkUG9zaXRpb24oKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5nZW1pdXNQbGF5ZXIsIChnZW1pdXNQbGF5ZXI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VtaXVzUGxheWVyLm5ld1Byb2dyYW0oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYUluZm8uYW5hbHl0aWNzUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQWRkaXRpb25hbFByb2dyYW1QYXJhbWV0ZXJzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VtaXVzUGxheWVyLnByb2dyYW1FdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhSW5mby5hbmFseXRpY3NSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheUhlYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGxheScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVBZGRpdGlvbmFsUGxheVBhcmFtZXRlcnMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25TdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFJbmZvLmlzTGl2ZVN0cmVhbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLmFkZE9uZVRpbWVTdWJzY3JpYmVyKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuc2Vla2VkLCBwbGF5YmFja1N0YXJ0ZWRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwbGF5YmFja1N0YXJ0ZWRIYW5kbGVyKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9SZXN1YiB0byBwaWNrIGl0IHVwIGFnYWluIHdoZW4gcGxheWluZywgd2hlbiBwYXVzZWQgaXMgZGlzcGF0Y2hlZCBhdCBhIHdheSBsb3dlciByYXRlIHRoYW4gd2hlbiBwbGF5aW5nIVxuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLmFkZE9uZVRpbWVTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMubm9ybWFsQ29udGVudElzUGxheWluZ1RpY2ssXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbENvbnRlbnRTdGFydGVkSGFuZGxlcixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRPbmVUaW1lU3Vic2NyaWJlcihcbiAgICAgICAgICAgIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5ub3JtYWxDb250ZW50SXNQbGF5aW5nVGljayxcbiAgICAgICAgICAgIG5vcm1hbENvbnRlbnRTdGFydGVkSGFuZGxlcixcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5hZGJyZWFrYmVnaW4sICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IGFkIHN0YXJ0ID09Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5nZW1pdXNQbGF5ZXIsIChnZW1pdXNQbGF5ZXI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vVE9ETzogVGhpcyBkb2VzIG5vdCB3b3JrIGZvciBwcmVyb2xsIGFkcyBzaW5jZSBubyAncHJvZ3JhbScgaGFzIHN0YXJ0ZWQhXG4gICAgICAgICAgICAgICAgZ2VtaXVzUGxheWVyLnByb2dyYW1FdmVudCh0aGlzLm1lZGlhSW5mby5hbmFseXRpY3NSZWZlcmVuY2UsIHRoaXMucGFsLnBsYXlIZWFkUG9zaXRpb24oKSwgJ2JyZWFrJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmFkYnJlYWtlbmQsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IGFkIGVuZCA9PScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucGxheSxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IHBsYXlpbmcgPT0nKTtcblxuICAgICAgICAgICAgICAgIC8vVE9ETzogUG9zc2libGUgdGhhdCB0aGlzIHN0aWxsIGlzIGZpcmVkIGluIGFuIGluY29ycmVjdCBtb21lbnQhIChjb21iaW5lZCB3aXRoIHNlZWtpbmcgZXZlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLmdlbWl1c1BsYXllciwgKGdlbWl1c1BsYXllcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdlbWl1c1BsYXllci5wcm9ncmFtRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhSW5mby5hbmFseXRpY3NSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbC5wbGF5SGVhZFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAncGxheScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUFkZGl0aW9uYWxQbGF5UGFyYW1ldGVycygpLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucGF1c2UsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBwYXVzZWQgPT0nKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25TdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5nZW1pdXNQbGF5ZXIsIChnZW1pdXNQbGF5ZXI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VtaXVzUGxheWVyLnByb2dyYW1FdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhSW5mby5hbmFseXRpY3NSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWwucGxheUhlYWRQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXVzZScsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5zZWVraW5nLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gc2Vla2luZyA9PScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLmdlbWl1c1BsYXllciwgKGdlbWl1c1BsYXllcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW1pdXNQbGF5ZXIucHJvZ3JhbUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFJbmZvLmFuYWx5dGljc1JlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbC5wbGF5SGVhZFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NlZWsnLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuYnVmZmVyaW5nLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gYnVmZmVyaW5nID09Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVPclF1ZXVlKHRoaXMuZ2VtaXVzUGxheWVyLCAoZ2VtaXVzUGxheWVyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbWl1c1BsYXllci5wcm9ncmFtRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYUluZm8uYW5hbHl0aWNzUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFsLnBsYXlIZWFkUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnVmZmVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmJ1ZmZlcmluZ0NvbXBsZXRlZCxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IGJ1ZmZlcmluZyBlbmRlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlT3JRdWV1ZSh0aGlzLmdlbWl1c1BsYXllciwgKGdlbWl1c1BsYXllcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW1pdXNQbGF5ZXIucHJvZ3JhbUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFJbmZvLmFuYWx5dGljc1JlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbC5wbGF5SGVhZFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BsYXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZW5kZWQsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCc9PSBlbmRlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRPbmVUaW1lU3Vic2NyaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5ub3JtYWxDb250ZW50SXNQbGF5aW5nVGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbENvbnRlbnRTdGFydGVkSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVPclF1ZXVlKHRoaXMuZ2VtaXVzUGxheWVyLCAoZ2VtaXVzUGxheWVyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbWl1c1BsYXllci5wcm9ncmFtRXZlbnQodGhpcy5tZWRpYUluZm8uYW5hbHl0aWNzUmVmZXJlbmNlLCB0aGlzLmdldER1cmF0aW9uKCksICdjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5leGl0aW5nLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gYnJvd3NlciBjbG9zaW5nID09Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25TdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5nZW1pdXNQbGF5ZXIsIChnZW1pdXNQbGF5ZXI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VtaXVzUGxheWVyLnByb2dyYW1FdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhSW5mby5hbmFseXRpY3NSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWwucGxheUhlYWRQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbG9zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5saXZlcHJvZ3JhbWNoYW5nZSxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJz09IHByb2dyYW0gY2hhbmdlZCA9PScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vzc2lvblN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFNob3VsZCBhIGNvbXBsZXRlIHByZWNlZGUgYSBsaXZlc3RyZWFtIHByb2dyYW0gY2hhbmdlP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVPclF1ZXVlKHRoaXMuZ2VtaXVzUGxheWVyLCAoZ2VtaXVzUGxheWVyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbWl1c1BsYXllci5wcm9ncmFtRXZlbnQodGhpcy5tZWRpYUluZm8uYW5hbHl0aWNzUmVmZXJlbmNlLCB0aGlzLmdldER1cmF0aW9uKCksICdjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVPclF1ZXVlKHRoaXMuZ2VtaXVzUGxheWVyLCAoZ2VtaXVzUGxheWVyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbWl1c1BsYXllci5uZXdQcm9ncmFtKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWFJbmZvLmFuYWx5dGljc1JlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUFkZGl0aW9uYWxQcm9ncmFtUGFyYW1ldGVycygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMudm9sdW1lY2hhbmdlLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxPblZvbHVtZUNoYW5nZVBheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gdm9sdW1lIGNoYW5nZWQgPT0nKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25TdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU9yUXVldWUodGhpcy5nZW1pdXNQbGF5ZXIsIChnZW1pdXNQbGF5ZXI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VtaXVzUGxheWVyLnByb2dyYW1FdmVudCh0aGlzLm1lZGlhSW5mby5hbmFseXRpY3NSZWZlcmVuY2UsIHRoaXMucGFsLnBsYXlIZWFkUG9zaXRpb24oKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvbHVtZTogdGhpcy5nZXRWb2x1bWVGb3JHZW1pdXMoZXZlbnQuY29udGVudC52b2x1bWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnF1YWxpdHljaGFuZ2VkLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxRdWFsaXR5Q2hhbmdlZFBheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnPT0gcXVhbGl0eSBjaGFuZ2VkID09Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVPclF1ZXVlKHRoaXMuZ2VtaXVzUGxheWVyLCAoZ2VtaXVzUGxheWVyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5jb250ZW50LnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VtaXVzUGxheWVyLnByb2dyYW1FdmVudCh0aGlzLm1lZGlhSW5mby5hbmFseXRpY3NSZWZlcmVuY2UsIHRoaXMucGFsLnBsYXlIZWFkUG9zaXRpb24oKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBldmVudC5jb250ZW50LnZpZGVvLndpZHRoICsgJ3gnICsgZXZlbnQuY29udGVudC52aWRlby5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREdXJhdGlvbigpOiBudW1iZXIge1xuICAgICAgICBsZXQgZHVyYXRpb246IG51bWJlciA9IDA7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhSW5mbykge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB0aGlzLm1lZGlhSW5mby5pc0xpdmVTdHJlYW0oKSA/IC0xIDogdGhpcy5tZWRpYUluZm8uZHVyYXRpb24gLyAxMDAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUFkZGl0aW9uYWxQbGF5UGFyYW1ldGVycygpOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfSB7XG4gICAgICAgIGNvbnN0IHF1YWxpdHk6IFF1YWxpdHkgPSB0aGlzLnBhbC5nZXRBY3RpdmVRdWFsaXR5KCk7XG4gICAgICAgIGxldCByZXNvbHV0aW9uOiBzdHJpbmcgPSAnJztcblxuICAgICAgICBpZiAocXVhbGl0eSAmJiBxdWFsaXR5Lmhhc093blByb3BlcnR5KCd3aWR0aCcpKSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gKHF1YWxpdHkgYXMgVmlkZW9RdWFsaXR5KS53aWR0aCArICd4JyArIChxdWFsaXR5IGFzIFZpZGVvUXVhbGl0eSkuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGF1dG9QbGF5OiBmYWxzZSxcbiAgICAgICAgICAgIHBhcnRJZDogMSxcbiAgICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgICB2b2x1bWU6IHRoaXMuZ2V0Vm9sdW1lRm9yR2VtaXVzKCksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVBZGRpdGlvbmFsUHJvZ3JhbVBhcmFtZXRlcnMoKTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfSB7XG4gICAgICAgIGNvbnN0IGRpZ2l0YWxEYXRhOiBEaWdpdGFsRGF0YSA9IHRoaXMubWVkaWFJbmZvLmRpZ2l0YWxEYXRhO1xuXG4gICAgICAgIGNvbnN0IG1lZGlhVHlwZTogc3RyaW5nID0gdGhpcy5wbGF5ZXJNb2RlID09PSBQTEFZRVJfTU9ERVMuVklERU8gPyAnVmlkZW8nIDogJ0F1ZGlvJztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvZ3JhbVR5cGU6IG1lZGlhVHlwZSxcbiAgICAgICAgICAgIHByb2dyYW1EdXJhdGlvbjogdGhpcy5nZXREdXJhdGlvbigpLFxuICAgICAgICAgICAgcHJvZ3JhbU5hbWU6IHRoaXMubWVkaWFJbmZvLm92ZXJyaWRkZW5Bc3NldE5hbWVcbiAgICAgICAgICAgICAgICA/IHRoaXMubWVkaWFJbmZvLm92ZXJyaWRkZW5Bc3NldE5hbWVcbiAgICAgICAgICAgICAgICA6IHRoaXMubWVkaWFJbmZvLmdldEFzc2V0TmFtZSgnbmlldGluZ2V2dWxkJyksXG4gICAgICAgICAgICBzZTogdGhpcy5nZXRTaXRlU2VjdGlvbigpLFxuICAgICAgICAgICAgY3Q6IHRoaXMuZ2V0Q29udGVudFR5cGUobWVkaWFUeXBlLCBkaWdpdGFsRGF0YSksXG4gICAgICAgICAgICBzdDogdGhpcy5nZXRTb3VyY2VUeXBlKG1lZGlhVHlwZSwgdGhpcy5tZWRpYUluZm8uaXNMaXZlU3RyZWFtKCksIHRoaXMuZ2V0RHVyYXRpb24oKSksXG4gICAgICAgICAgICB0djogZGlnaXRhbERhdGEgJiYgZGlnaXRhbERhdGEucGFnZSA/IGRpZ2l0YWxEYXRhLnBhZ2UuZXBpc29kZV93aGF0c29uSWQgOiAnbmlldGluZ2V2dWxkJyxcbiAgICAgICAgICAgIGNoYW5uZWw6IHRoaXMuZ2V0Q2hhbm5lbE5hbWVGb3JHZW1pdXMoKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZvbHVtZUZvckdlbWl1cyh2b2x1bWU/OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBpZiAodm9sdW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdm9sdW1lID09PSAwID8gLTEgOiBNYXRoLnJvdW5kKHZvbHVtZSAqIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYWwuZ2V0Vm9sdW1lKCkgPT09IDAgPyAtMSA6IE1hdGgucm91bmQodGhpcy5wYWwuZ2V0Vm9sdW1lKCkgKiAxMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDaGFubmVsTmFtZUZvckdlbWl1cygpOiBzdHJpbmcge1xuICAgICAgICBsZXQgbmFtZTogc3RyaW5nID0gJ25pZXRpbmdldnVsZCc7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhSW5mbz8uY2hhbm5lbElkKSB7XG4gICAgICAgICAgICBuYW1lID0gdGhpcy5tZWRpYUluZm8uY2hhbm5lbElkO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWVkaWFJbmZvPy5kaWdpdGFsRGF0YT8ucGFnZT8uYnJhbmRfbWVkaWEpIHtcbiAgICAgICAgICAgIG5hbWUgPSB0aGlzLm1lZGlhSW5mby5kaWdpdGFsRGF0YS5wYWdlLmJyYW5kX21lZGlhO1xuICAgICAgICB9XG5cbiAgICAgICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlICfDqcOpbic6XG4gICAgICAgICAgICBjYXNlICd2dWFsdG9fZWVuX2dlbyc6XG4gICAgICAgICAgICBjYXNlICd2dWFsdG9fZWVuX2RybSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdlZW4nO1xuICAgICAgICAgICAgY2FzZSAndnVhbHRvX2NhbnZhc19nZW8nOlxuICAgICAgICAgICAgY2FzZSAndnVhbHRvX2NhbnZhc19kcm0nOlxuICAgICAgICAgICAgICAgIHJldHVybiAnY2FudmFzJztcbiAgICAgICAgICAgIGNhc2UgJ3Z1YWx0b19rZXRuZXRfZ2VvJzpcbiAgICAgICAgICAgIGNhc2UgJ3Z1YWx0b19rZXRuZXRfZHJtJzpcbiAgICAgICAgICAgIGNhc2UgJ2tldG5ldF9qcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdrZXRuZXQnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q29udGVudFR5cGUobWVkaWFUeXBlOiBzdHJpbmcsIGRpZ2l0YWxEYXRhOiBEaWdpdGFsRGF0YSk6IHN0cmluZyB7XG4gICAgICAgIGlmIChkaWdpdGFsRGF0YT8ubWVkaWE/LmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZGlnaXRhbERhdGE/Lm1lZGlhPy5jb250ZW50VHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZWRpYVR5cGUgPT09ICdWaWRlbycpIHtcbiAgICAgICAgICAgIHJldHVybiAnY2UvdHYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdjZS9yYWRpbyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNvdXJjZVR5cGUobWVkaWFUeXBlOiBzdHJpbmcsIGlzTGl2ZTogYm9vbGVhbiwgZHVyYXRpb246IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIC8vQSBmcmFnbWVudCBpcyBhbnkgdm9kIHRoYXQgaXMgbGVzcyB0aGFuIDggbWludXRlcyBsb25nIVxuICAgICAgICBpZiAobWVkaWFUeXBlID09PSAnVmlkZW8nKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMaXZlID8gJ3ZpZC50dmkubGl2ZS5mcmVlJyA6IGR1cmF0aW9uIC8gNjAgPiA4ID8gJ3ZpZC50dmkuZXAudm9kLmZyZWUnIDogJ3ZpZC53ZXguZnJhZy52b2QuZnJlZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMaXZlID8gJ2F1ZC5yYWkubGl2ZS5mcmVlJyA6IGR1cmF0aW9uIC8gNjAgPiA4ID8gJ2F1ZC5yYWkuZXAuZnJlZScgOiAnYXVkLndleC5mcmFnLmZyZWUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTaXRlU2VjdGlvbigpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5tZWRpYUluZm8/LmRpZ2l0YWxEYXRhPy5wYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFJbmZvLmRpZ2l0YWxEYXRhLnBhZ2Uuc2l0ZVNlY3Rpb25fMSArICcgLSAnICsgdGhpcy5tZWRpYUluZm8uZGlnaXRhbERhdGEucGFnZS5zaXRlU2VjdGlvbl8yXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbmlldGluZ2V2dWxkJztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUeXBlZFNvdXJjZSB9IGZyb20gJy4vdHlwZWQtc291cmNlJztcblxuZXhwb3J0IGNsYXNzIFNvdXJjZURlc2NyaXB0aW9uIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNvdXJjZXM6IFR5cGVkU291cmNlIHwgVHlwZWRTb3VyY2VbXTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWRzOiBBZFNvdXJjZVtdO1xuICAgIHB1YmxpYyByZWFkb25seSB0ZXh0VHJhY2tzOiBhbnk7XG4gICAgcHVibGljIHJlYWRvbmx5IG1ldGFEYXRhOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VzOiBUeXBlZFNvdXJjZSB8IFR5cGVkU291cmNlW10sIGFkczogQWRTb3VyY2VbXSwgdGV4dFRyYWNrczogYW55LCBtZXRhRGF0YTogYW55KSB7XG4gICAgICAgIHRoaXMuc291cmNlcyA9IHNvdXJjZXM7XG4gICAgICAgIHRoaXMuYWRzID0gYWRzO1xuICAgICAgICB0aGlzLnRleHRUcmFja3MgPSB0ZXh0VHJhY2tzO1xuICAgICAgICB0aGlzLm1ldGFEYXRhID0gbWV0YURhdGE7XG4gICAgfVxuXG4gICAgLy9Gb3Igbm93IHdlIG9ubHkgc3VwcG9ydCBvbmUgVHlwZWRTb3VyY2UgcGVyIFNvdXJjZURlc2NyaXB0aW9uLCBpZiB3ZSB3YW50IHBsYXlsaXN0cyB3ZSB3aWxsIGFkZCBvdXIgb3duIGltcGxlbWVudGF0aW9uIVxuICAgIHB1YmxpYyBnZXRTb3VyY2UoKTogVHlwZWRTb3VyY2Uge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2VzLmhhc093blByb3BlcnR5KCdsZW5ndGgnKSkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLnNvdXJjZXMgYXMgVHlwZWRTb3VyY2VbXSlbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VzIGFzIFR5cGVkU291cmNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkU291cmNlIHtcbiAgICBzb3VyY2VzOiBzdHJpbmcgfCB7IHNyYzogc3RyaW5nOyB0eXBlPzogJ3Zhc3QnIHwgJ3ZtYXAnIHwgJ2FkcnVsZScgfTtcbiAgICB0aW1lT2Zmc2V0OiBzdHJpbmc7XG4gICAgc2tpcE9mZnNldD86IG51bWJlcjtcbiAgICBpbnRlZ3JhdGlvbjogc3RyaW5nOyAvLyBnb29nbGUtaW1hIG9yIHRoZW9cbn1cbiIsImltcG9ydCB7IERSTUNvbmZpZyB9IGZyb20gJy4vZHJtLWNvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBUeXBlZFNvdXJjZSB7XG4gICAgcHVibGljIHNyYzogc3RyaW5nO1xuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XG4gICAgcHVibGljIGNvbnRlbnRQcm90ZWN0aW9uOiBEUk1Db25maWc7XG5cbiAgICBjb25zdHJ1Y3RvcihzcmM6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjb250ZW50UHJvdGVjdGlvbjogRFJNQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuc3JjID0gc3JjO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmNvbnRlbnRQcm90ZWN0aW9uID0gY29udGVudFByb3RlY3Rpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUHVibGlzaGVyIH0gZnJvbSAnLi4vcGxheWVyL3B1Ymxpc2hlcic7XG5pbXBvcnQgeyBQbGF5ZXJFdmVudCB9IGZyb20gJy4uL21vZGVsL2V2ZW50aW5nL3BsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgQnJvd3NlclV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvYnJvd3Nlci11dGlscyc7XG5pbXBvcnQgeyBVc2VyUHJlZmVyZW5jZXNVcGRhdGVkUGF5bG9hZCB9IGZyb20gJy4uL21vZGVsL2V2ZW50aW5nL2ludGVybmFsLXBsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgT25Wb2x1bWVDaGFuZ2VQYXlsb2FkIH0gZnJvbSAnLi4vbW9kZWwvZXZlbnRpbmcvcHVibGljLXBsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgUHJvbWlzZVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvcHJvbWlzZS11dGlscyc7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi9tb2RlbC9jb25maWcnO1xuXG5leHBvcnQgY2xhc3MgVXNlclByZWZlcmVuY2VzTWFuYWdlciB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwdWJsaXNoZXI6IFB1Ymxpc2hlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogQ29uZmlnO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB1c2VyUHJlZmVyZW5jZXNVcmw6IHN0cmluZztcbiAgICBwdWJsaWMgcmVhZG9ubHkgdXNlclByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXM7XG5cbiAgICBwcml2YXRlIHVwZGF0ZVByZWZlcmVuY2VzSGFuZGxlcjogKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB2b2lkO1xuICAgIHByaXZhdGUgdm9sdW1lQ2hhbmdlSGFuZGxlcjogKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IocHVibGlzaGVyOiBQdWJsaXNoZXIsIGNvbmZpZzogQ29uZmlnKSB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICB0aGlzLnVzZXJQcmVmZXJlbmNlc1VybCA9IEJyb3dzZXJVdGlscy5nZXRTaXRlVXJsUmVkdWNlZFRvRmlyc3RQYXRoSXRlbSgpO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5yZXNldCwgdGhpcy5yZXNldC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVByZWZlcmVuY2VzSGFuZGxlciA9IChldmVudDogUGxheWVyRXZlbnQ8VXNlclByZWZlcmVuY2VzVXBkYXRlZFBheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLnVzZXJQcmVmZXJlbmNlc1tldmVudC5jb250ZW50LnR5cGVdID0gZXZlbnQuY29udGVudC52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVVzZXJQcmVmZXJlbmNlcygpO1xuICAgICAgICB9O1xuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMudXBkYXRlVXNlclByZWZlcmVuY2VzLCB0aGlzLnVwZGF0ZVByZWZlcmVuY2VzSGFuZGxlcik7XG5cbiAgICAgICAgdGhpcy51c2VyUHJlZmVyZW5jZXMgPSB0aGlzLmxvYWRVc2VyUHJlZmVyZW5jZXNGb3JTaXRlKHRoaXMudXNlclByZWZlcmVuY2VzVXJsKTtcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJQcmVmZXJlbmNlcykge1xuICAgICAgICAgICAgdGhpcy51c2VyUHJlZmVyZW5jZXMgPSB7XG4gICAgICAgICAgICAgICAgc2l0ZTogdGhpcy51c2VyUHJlZmVyZW5jZXNVcmwsXG4gICAgICAgICAgICAgICAgdm9sdW1lOiAxLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmRlYnVnKCdVc2VyIHByZWZlcmVuY2VzIGxvYWRlZCEnKTtcbiAgICAgICAgY29uc29sZS5kZWJ1Zyh0aGlzLnVzZXJQcmVmZXJlbmNlcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkVXNlclByZWZlcmVuY2VzRm9yU2l0ZShzaXRlOiBzdHJpbmcpOiBVc2VyUHJlZmVyZW5jZXMge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkVXNlclByZWZlcmVuY2VzKCkuZmluZCgodXNlclByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXMpID0+IHtcbiAgICAgICAgICAgIGlmICh1c2VyUHJlZmVyZW5jZXMuc2l0ZSA9PT0gc2l0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyUHJlZmVyZW5jZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFVzZXJQcmVmZXJlbmNlcygpOiBVc2VyUHJlZmVyZW5jZXNbXSB7XG4gICAgICAgIGlmICghQnJvd3NlclV0aWxzLmlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0xvY2Fsc3RvcmFnZSBub3QgYXZhaWxhYmxlLCB1c2VyIHByZWZlcmVuY2VzIHdpbGwgbm90IHdvcmshJyk7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1c2VyUHJlZmVyZW5jZXNTdG9yYWdlU3RyaW5nOiBzdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnJ0UGxheWVyVXNlclByZWZlcmVuY2VzJyk7XG4gICAgICAgIGlmICh1c2VyUHJlZmVyZW5jZXNTdG9yYWdlU3RyaW5nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHVzZXJQcmVmZXJlbmNlc1N0b3JhZ2VTdHJpbmcpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBiaW5kVG9QbGF5ZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudm9sdW1lQ2hhbmdlSGFuZGxlciA9IChldmVudDogUGxheWVyRXZlbnQ8T25Wb2x1bWVDaGFuZ2VQYXlsb2FkPikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnN0YXJ0TXV0ZWRPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUHJlZmVyZW5jZXNIYW5kbGVyKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIGNvZGU6IG51bGwsXG4gICAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBVc2VyUHJlZmVyZW5jZXNUeXBlcy5WT0xVTUUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBldmVudC5jb250ZW50LnZvbHVtZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmFkZFN1YnNjcmliZXIoXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnZvbHVtZWNoYW5nZSxcbiAgICAgICAgICAgIFByb21pc2VVdGlscy5kZWJvdW5jZSh0aGlzLnZvbHVtZUNoYW5nZUhhbmRsZXIsIDUwMCksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzYXZlVXNlclByZWZlcmVuY2VzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB1c2VyUHJlZmVyZW5jZXNGb3JBbGxTaXRlczogVXNlclByZWZlcmVuY2VzW10gPSB0aGlzLmxvYWRVc2VyUHJlZmVyZW5jZXMoKTtcblxuICAgICAgICBjb25zdCBzaXRlSW5kZXg6IG51bWJlciA9IHVzZXJQcmVmZXJlbmNlc0ZvckFsbFNpdGVzLmZpbmRJbmRleCgodXNlclByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXMpID0+IHtcbiAgICAgICAgICAgIGlmICh1c2VyUHJlZmVyZW5jZXMuc2l0ZSA9PT0gdGhpcy51c2VyUHJlZmVyZW5jZXNVcmwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclByZWZlcmVuY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2l0ZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHVzZXJQcmVmZXJlbmNlc0ZvckFsbFNpdGVzW3NpdGVJbmRleF0gPSB0aGlzLnVzZXJQcmVmZXJlbmNlcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVzZXJQcmVmZXJlbmNlc0ZvckFsbFNpdGVzLnB1c2godGhpcy51c2VyUHJlZmVyZW5jZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5kZWJ1ZygnU2F2aW5nIHVzZXIgcHJlZmVyZW5jZXMuLi4nKTtcbiAgICAgICAgY29uc29sZS5kZWJ1Zyh0aGlzLnVzZXJQcmVmZXJlbmNlcyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2cnRQbGF5ZXJVc2VyUHJlZmVyZW5jZXMnLCBKU09OLnN0cmluZ2lmeSh1c2VyUHJlZmVyZW5jZXNGb3JBbGxTaXRlcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzZXQoKTogdm9pZCB7XG4gICAgICAgIC8vIFJlbW92ZSBhbnkgaGFuZGxlcnMgaGVyZSB0aGF0IGhhdmUgYmVlbiBhZGRlZCBpbiB0aGUgYmluZFRvUGxheWVyIG1ldGhvZCFcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucmVtb3ZlU3Vic2NyaWJlcihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnZvbHVtZWNoYW5nZSwgdGhpcy52b2x1bWVDaGFuZ2VIYW5kbGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucmVtb3ZlU3Vic2NyaWJlcihcbiAgICAgICAgICAgIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy51cGRhdGVVc2VyUHJlZmVyZW5jZXMsXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByZWZlcmVuY2VzSGFuZGxlcixcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy51cGRhdGVQcmVmZXJlbmNlc0hhbmRsZXIgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGVudW0gVXNlclByZWZlcmVuY2VzVHlwZXMge1xuICAgIFZPTFVNRSA9ICd2b2x1bWUnLFxuICAgIFNVQlRJVExFUyA9ICdzdWJ0aXRsZXNPbicsXG4gICAgUVVBTElUWSA9ICdxdWFsaXR5Jyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyUHJlZmVyZW5jZXMge1xuICAgIHNpdGU6IHN0cmluZztcbiAgICB2b2x1bWU6IG51bWJlcjsgLy8gQmV0d2VlbiAwIGFuZCAxXG4gICAgc3VidGl0bGVzT24/OiBib29sZWFuOyAvLyBUT0RPOiBJbXBsZW1lbnQgbGF0ZXJcbiAgICBxdWFsaXR5Pzogc3RyaW5nIHwgbnVtYmVyOyAvLyBUT0RPOiBJbXBsZW1lbnQgbGF0ZXJcbn1cbiIsImV4cG9ydCBjbGFzcyBBbmFseXRpY3NSZWZlcmVuY2VFeHRyYWN0b3Ige1xuICAgIHB1YmxpYyBzdGF0aWMgZXh0cmFjdFZydFZvZFJlZmVyZW5jZShpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnNwbGl0KC8lMjR8XFwkL2cpLnBvcCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZXh0cmFjdFZydExpdmVSZWZlcmVuY2UoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGxldCBvdXRwdXQ6IHN0cmluZyA9IG51bGw7XG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZVBpZWNlczogc3RyaW5nW10gPSBpbnB1dC5zcGxpdCgvKFxcL2xpdmVcXC8pfChcXC9saXZlXFwuKS9nKTtcbiAgICAgICAgaWYgKHJlZmVyZW5jZVBpZWNlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKHJlZmVyZW5jZVBpZWNlcyk7XG4gICAgICAgICAgICBvdXRwdXQgPSByZWZlcmVuY2VQaWVjZXNbcmVmZXJlbmNlUGllY2VzLmxlbmd0aCAtIDRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0ID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGV4dHJhY3RTdGFuZGFsb25lUmVmZXJlbmNlKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0cHV0OiBzdHJpbmcgPSBudWxsO1xuICAgICAgICBjb25zdCByZWZlcmVuY2VQaWVjZXM6IHN0cmluZ1tdID0gaW5wdXQuc3BsaXQoLyh2b2RcXC8pfCgtQ0ROXzFcXC8pL2cpO1xuICAgICAgICBpZiAocmVmZXJlbmNlUGllY2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcocmVmZXJlbmNlUGllY2VzKTtcbiAgICAgICAgICAgIG91dHB1dCA9IHJlZmVyZW5jZVBpZWNlc1tyZWZlcmVuY2VQaWVjZXMubGVuZ3RoIC0gNF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBpbnB1dC5zcGxpdCgnLycpLnBvcCgpO1xuICAgICAgICAgICAgb3V0cHV0LnN1YnN0cigwLCA2NCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGV4dHJhY3RZb3V0dWJlUmVmZXJlbmNlKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0cHV0OiBzdHJpbmc7XG4gICAgICAgIC8vV2Ugd2FudCB0byBoYXZlIHRoZSB2aWRlbyBVUkwgaW4gdGhlIGZvcm1hdCBvZjogaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJ3ZpZGVvSWQnIGFuZCB0aGVuIHNwbGl0IG9mZiB0aGUgaWRcbiAgICAgICAgb3V0cHV0ID0gaW5wdXQucmVwbGFjZSgnd2F0Y2g/dj0nLCAnZW1iZWQvJyk7XG4gICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKCdodHRwOi8veW91dHUuYmUvJywgJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycpO1xuICAgICAgICBvdXRwdXQgPSBvdXRwdXQuc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEUk1Db25maWcgfSBmcm9tICcuLi8uLi9tb2RlbC9kcm0tY29uZmlnJztcbmltcG9ydCB7IE1lZGlhSW5mbyB9IGZyb20gJy4uLy4uL21vZGVsL21lZGlhLWluZm8nO1xuaW1wb3J0IHsgU2NoZWR1bGVJdGVtIH0gZnJvbSAnLi4vLi4vbW9kZWwvc2NoZWR1bGUtaXRlbSc7XG5pbXBvcnQgeyBBZFNvdXJjZSwgU291cmNlRGVzY3JpcHRpb24gfSBmcm9tICcuLi8uLi9tb2RlbC9zb3VyY2UtZGVzY3JpcHRpb24nO1xuaW1wb3J0IHsgVHlwZWRTb3VyY2UgfSBmcm9tICcuLi8uLi9tb2RlbC90eXBlZC1zb3VyY2UnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU291cmNlU2VydmljZSB7XG4gICAgcHJvdGVjdGVkIHN0cmVhbVR5cGVNYXBwaW5nOiBTdHJlYW1UeXBlTWFwcGluZyA9IHtcbiAgICAgICAgbXBlZ19kYXNoOiB7XG4gICAgICAgICAgICBuYW1lOiAnbXBlZ19kYXNoJyxcbiAgICAgICAgICAgIG1lZGlhVHlwZTogJ2FwcGxpY2F0aW9uL2Rhc2greG1sJyxcbiAgICAgICAgICAgIG1kcEZpcnN0U29ydE9yZGVyOiAxMDAsXG4gICAgICAgICAgICBobHNGaXJzdFNvcnRPcmRlcjogMSxcbiAgICAgICAgICAgIGhsc0Flc0ZpcnN0U29ydE9yZGVyOiAxLFxuICAgICAgICB9LFxuICAgICAgICBobHM6IHtcbiAgICAgICAgICAgIG5hbWU6ICdobHMnLFxuICAgICAgICAgICAgbWVkaWFUeXBlOiAnYXBwbGljYXRpb24veC1tcGVnVVJMJyxcbiAgICAgICAgICAgIG1kcEZpcnN0U29ydE9yZGVyOiAxMCxcbiAgICAgICAgICAgIGhsc0ZpcnN0U29ydE9yZGVyOiAxMDAsXG4gICAgICAgICAgICBobHNBZXNGaXJzdFNvcnRPcmRlcjogMTAsXG4gICAgICAgIH0sXG4gICAgICAgIGhsc19hZXM6IHtcbiAgICAgICAgICAgIG5hbWU6ICdobHNfYWVzJyxcbiAgICAgICAgICAgIG1lZGlhVHlwZTogJycsXG4gICAgICAgICAgICBtZHBGaXJzdFNvcnRPcmRlcjogMSxcbiAgICAgICAgICAgIGhsc0ZpcnN0U29ydE9yZGVyOiAxMCxcbiAgICAgICAgICAgIGhsc0Flc0ZpcnN0U29ydE9yZGVyOiAxMDAsXG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBtYXBTb3VyY2VzKG1lZGlhSW5mbzogTWVkaWFJbmZvLCBkcm1Db25maWc6IERSTUNvbmZpZyk6IFR5cGVkU291cmNlW107XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TmV4dFNvdXJjZShcbiAgICAgICAgbWVkaWFJbmZvOiBNZWRpYUluZm8sXG4gICAgICAgIGFkU291cmNlPzogQWRTb3VyY2UsXG4gICAgICAgIGlzTGl2ZVN0YXJ0T3Zlcj86IGJvb2xlYW4sXG4gICAgICAgIHN0YXJ0T3ZlckJlZ2luPzogc3RyaW5nLFxuICAgICAgICBzdGFydE92ZXJFbmQ/OiBzdHJpbmcsXG4gICAgKTogU291cmNlRGVzY3JpcHRpb247XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0U3RhcnRPdmVyU291cmNlKFxuICAgICAgICBtZWRpYUluZm86IE1lZGlhSW5mbyxcbiAgICAgICAgc291cmNlOiBUeXBlZFNvdXJjZSxcbiAgICAgICAgc3RhcnRPdmVyQmVnaW4/OiBzdHJpbmcsXG4gICAgICAgIHN0YXJ0T3ZlckVuZD86IHN0cmluZyxcbiAgICApOiBUeXBlZFNvdXJjZTtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBjYW5Eb1N0YXJ0T3ZlcihhY3RpdmVTY2hlZHVsZUl0ZW06IFNjaGVkdWxlSXRlbSk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFtVHlwZU1hcHBpbmcge1xuICAgIG1wZWdfZGFzaDogQ29udGVudFR5cGVEZXRhaWxzO1xuICAgIGhsczogQ29udGVudFR5cGVEZXRhaWxzO1xuICAgIGhsc19hZXM6IENvbnRlbnRUeXBlRGV0YWlscztcblxuICAgIFtrZXk6IHN0cmluZ106IENvbnRlbnRUeXBlRGV0YWlscztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250ZW50VHlwZURldGFpbHMge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBtZWRpYVR5cGU6IHN0cmluZztcbiAgICBtZHBGaXJzdFNvcnRPcmRlcjogbnVtYmVyO1xuICAgIGhsc0ZpcnN0U29ydE9yZGVyOiBudW1iZXI7XG4gICAgaGxzQWVzRmlyc3RTb3J0T3JkZXI6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IERSTUNvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL2RybS1jb25maWcnO1xuaW1wb3J0IHsgTWVkaWFJbmZvIH0gZnJvbSAnLi4vLi4vbW9kZWwvbWVkaWEtaW5mbyc7XG5pbXBvcnQgeyBTY2hlZHVsZUl0ZW0gfSBmcm9tICcuLi8uLi9tb2RlbC9zY2hlZHVsZS1pdGVtJztcbmltcG9ydCB7IEFkU291cmNlLCBTb3VyY2VEZXNjcmlwdGlvbiB9IGZyb20gJy4uLy4uL21vZGVsL3NvdXJjZS1kZXNjcmlwdGlvbic7XG5pbXBvcnQgeyBUeXBlZFNvdXJjZSB9IGZyb20gJy4uLy4uL21vZGVsL3R5cGVkLXNvdXJjZSc7XG5pbXBvcnQgeyBTb3VyY2VTZXJ2aWNlIH0gZnJvbSAnLi9zb3VyY2Utc2VydmljZSc7XG5cbmV4cG9ydCBjbGFzcyBTb3VyY2VTZXJ2aWNlU3RhbmRhbG9uZSBleHRlbmRzIFNvdXJjZVNlcnZpY2Uge1xuICAgIHB1YmxpYyBtYXBTb3VyY2VzKG1lZGlhSW5mbzogTWVkaWFJbmZvLCBkcm1Db25maWc6IERSTUNvbmZpZyk6IFR5cGVkU291cmNlW10ge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5leHRTb3VyY2UobWVkaWFJbmZvOiBNZWRpYUluZm8sIGFkU291cmNlPzogQWRTb3VyY2UpOiBTb3VyY2VEZXNjcmlwdGlvbiB7XG4gICAgICAgIGlmIChtZWRpYUluZm8uc291cmNlcyAmJiBtZWRpYUluZm8uc291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNvdXJjZURlc2NyaXB0aW9uKG1lZGlhSW5mby5zb3VyY2VzLnNoaWZ0KCksIFthZFNvdXJjZV0sIG51bGwsIG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnTm8gbW9yZSBzb3VyY2VzIScpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RhcnRPdmVyU291cmNlKG1lZGlhSW5mbzogTWVkaWFJbmZvLCBzb3VyY2U6IFR5cGVkU291cmNlKTogVHlwZWRTb3VyY2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FuRG9TdGFydE92ZXIoYWN0aXZlU2NoZWR1bGVJdGVtOiBTY2hlZHVsZUl0ZW0pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL2NvbmZpZyc7XG5pbXBvcnQgeyBNZWRpYUluZm8gfSBmcm9tICcuLi8uLi9tb2RlbC9tZWRpYS1pbmZvJztcbmltcG9ydCB7IFBsYXllckFic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuLi8uLi9wbGF5ZXIvYWJzdHJhY3Rpb24tbGF5ZXIvcGxheWVyLWFic3RyYWN0aW9uLWxheWVyJztcbmltcG9ydCB7IFB1Ymxpc2hlciB9IGZyb20gJy4uLy4uL3BsYXllci9wdWJsaXNoZXInO1xuaW1wb3J0IHsgU291cmNlU2VydmljZSB9IGZyb20gJy4uL3NvdXJjZS1zZXJ2aWNlL3NvdXJjZS1zZXJ2aWNlJztcbmltcG9ydCB7IFBsYXlsaXN0SXRlbSB9IGZyb20gJy4uLy4uL21vZGVsL3BsYXlsaXN0JztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1lZGlhRW5yaWNoZXIge1xuICAgIHB1YmxpYyBtZWRpYUluZm86IFByb21pc2U8TWVkaWFJbmZvPjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlU2VydmljZTogU291cmNlU2VydmljZTtcblxuICAgIHByb3RlY3RlZCByZWFkb25seSBjb25maWc6IENvbmZpZztcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgcHVibGlzaGVyOiBQdWJsaXNoZXI7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHBsYXlsaXN0SXRlbTogUGxheWxpc3RJdGVtO1xuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxuICAgICAgICBjb25maWc6IENvbmZpZyxcbiAgICAgICAgcHVibGlzaGVyOiBQdWJsaXNoZXIsXG4gICAgICAgIHBsYXlsaXN0SXRlbTogUGxheWxpc3RJdGVtLFxuICAgICAgICBzb3VyY2VTZXJ2aWNlPzogU291cmNlU2VydmljZSxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuICAgICAgICB0aGlzLnBsYXlsaXN0SXRlbSA9IHBsYXlsaXN0SXRlbTtcbiAgICAgICAgdGhpcy5zb3VyY2VTZXJ2aWNlID0gc291cmNlU2VydmljZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgZW5yaWNoTWVkaWEocGxheWVySW5zdGFuY2U/OiBhbnkpOiBQcm9taXNlPE1lZGlhSW5mbz4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwcmVwYXJlU291cmNlcyhtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWQge1xuICAgICAgICAvL0VtcHR5IGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlTWVkaWFFbnJpY2htZW50KHBhbDogUGxheWVyQWJzdHJhY3Rpb25MYXllciwgbWVkaWFJbmZvOiBNZWRpYUluZm8pOiB2b2lkIHtcbiAgICAgICAgLy9FbXB0eSBkZWZhdWx0IGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgcHVibGljIGF1dG9VcGRhdGVMaXZlU2NoZWR1bGUoXG4gICAgICAgIGludGVydmFsSW5TZWNvbmRzOiBudW1iZXIsXG4gICAgICAgIG1lZGlhSW5mbzogTWVkaWFJbmZvLFxuICAgICAgICBvbkxpdmVTY2hlZHVsZVVwZGF0ZWQ/OiAoKSA9PiB2b2lkLFxuICAgICk6IHZvaWQge1xuICAgICAgICAvL0VtcHR5IGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNWUlQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNTdGFuZEFsb25lVmlkZW8oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNZb3VUdWJlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIC8vRW1wdHkgZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL2NvbmZpZyc7XG5pbXBvcnQgeyBNZWRpYUluZm8sIE1lZGlhVHlwZXMgfSBmcm9tICcuLi8uLi9tb2RlbC9tZWRpYS1pbmZvJztcbmltcG9ydCB7IFR5cGVkU291cmNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvdHlwZWQtc291cmNlJztcbmltcG9ydCB7IFBsYXllckFic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuLi8uLi9wbGF5ZXIvYWJzdHJhY3Rpb24tbGF5ZXIvcGxheWVyLWFic3RyYWN0aW9uLWxheWVyJztcbmltcG9ydCB7IFB1Ymxpc2hlciB9IGZyb20gJy4uLy4uL3BsYXllci9wdWJsaXNoZXInO1xuaW1wb3J0IHsgQW5hbHl0aWNzUmVmZXJlbmNlRXh0cmFjdG9yIH0gZnJvbSAnLi4vYW5hbHl0aWNzL2FuYWx5dGljcy1yZWZlcmVuY2UtZXh0cmFjdG9yJztcbmltcG9ydCB7IFNvdXJjZVNlcnZpY2VTdGFuZGFsb25lIH0gZnJvbSAnLi4vc291cmNlLXNlcnZpY2Uvc291cmNlLXNlcnZpY2Utc3RhbmRhbG9uZSc7XG5pbXBvcnQgeyBNZWRpYUVucmljaGVyIH0gZnJvbSAnLi9tZWRpYS1lbnJpY2hlcic7XG5pbXBvcnQgeyBQbGF5bGlzdEl0ZW0gfSBmcm9tICcuLi8uLi9tb2RlbC9wbGF5bGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBNZWRpYUVucmljaGVyU3RhbmRhbG9uZVZpZGVvIGV4dGVuZHMgTWVkaWFFbnJpY2hlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWcsIHB1Ymxpc2hlcjogUHVibGlzaGVyLCBwbGF5bGlzdEl0ZW06IFBsYXlsaXN0SXRlbSkge1xuICAgICAgICBzdXBlcihjb25maWcsIHB1Ymxpc2hlciwgcGxheWxpc3RJdGVtLCBuZXcgU291cmNlU2VydmljZVN0YW5kYWxvbmUoKSk7XG5cbiAgICAgICAgdGhpcy5tZWRpYUluZm8gPSBuZXcgUHJvbWlzZTxNZWRpYUluZm8+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShhd2FpdCB0aGlzLmVucmljaE1lZGlhKCkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgZW5yaWNoTWVkaWEoKTogUHJvbWlzZTxNZWRpYUluZm8+IHtcbiAgICAgICAgY29uc3QgbWVkaWFSZWZlcmVuY2U6IHN0cmluZyA9IHRoaXMucGxheWxpc3RJdGVtLm1lZGlhUmVmZXJlbmNlO1xuXG4gICAgICAgIGNvbnN0IG1lZGlhSW5mbzogTWVkaWFJbmZvID0gbmV3IE1lZGlhSW5mbyhcbiAgICAgICAgICAgIG1lZGlhUmVmZXJlbmNlLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAtMSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvL1RPRE86IEZpbmQgYSB3YXkgdG8gZGV0ZWN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBMSVZFIGFuZCBhIFZPRCFcbiAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgJycsXG4gICAgICAgICAgICBNZWRpYVR5cGVzLlZPRCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAnVmlkZW8nLFxuICAgICAgICApO1xuXG4gICAgICAgIC8vQWxsb3cgZm9yIFZSVCBiYXNlZCB1cmxzIGFzIHdlbGwgYXMgcmVndWxhciB1cmxzLlxuICAgICAgICBtZWRpYUluZm8uYW5hbHl0aWNzUmVmZXJlbmNlID0gQW5hbHl0aWNzUmVmZXJlbmNlRXh0cmFjdG9yLmV4dHJhY3RTdGFuZGFsb25lUmVmZXJlbmNlKG1lZGlhUmVmZXJlbmNlKTtcbiAgICAgICAgbWVkaWFJbmZvLm92ZXJyaWRkZW5Bc3NldE5hbWUgPSB0aGlzLmNvbmZpZy5hbmFseXRpY3NBc3NldE5hbWVPdmVycmlkZVxuICAgICAgICAgICAgPyB0aGlzLmNvbmZpZy5hbmFseXRpY3NBc3NldE5hbWVPdmVycmlkZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBtZWRpYUluZm8uZGlnaXRhbERhdGEgPSB0aGlzLnBsYXlsaXN0SXRlbS5kaWdpdGFsRGF0YTtcblxuICAgICAgICBtZWRpYUluZm8udGFyZ2V0VXJscyA9IFt7IHR5cGU6IG51bGwsIHVybDogbWVkaWFSZWZlcmVuY2UgfV07XG4gICAgICAgIG1lZGlhSW5mby5zb3VyY2VzID0gW25ldyBUeXBlZFNvdXJjZShtZWRpYVJlZmVyZW5jZSwgbnVsbCwgbnVsbCldO1xuICAgICAgICByZXR1cm4gbWVkaWFJbmZvO1xuICAgIH1cblxuICAgIHB1YmxpYyBwcmVwYXJlU291cmNlcyhtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWQge1xuICAgICAgICBtZWRpYUluZm8uc291cmNlcyA9IFtuZXcgVHlwZWRTb3VyY2UobWVkaWFJbmZvLm1lZGlhUmVmZXJlbmNlLCBudWxsLCBudWxsKV07XG4gICAgICAgIGNvbnNvbGUuZGVidWcobWVkaWFJbmZvLnNvdXJjZXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVNZWRpYUVucmljaG1lbnQocGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyLCBtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWQge1xuICAgICAgICBjb25zdCBuZXdEdXJhdGlvbjogbnVtYmVyID0gcGFsLmdldER1cmF0aW9uKCk7XG4gICAgICAgIGlmICghaXNOYU4obmV3RHVyYXRpb24pKSB7XG4gICAgICAgICAgICBtZWRpYUluZm8uZHVyYXRpb24gPSBuZXdEdXJhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc1N0YW5kQWxvbmVWaWRlbygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFRva2VuIHtcbiAgICBwdWJsaWMgdnJ0UGxheWVyVG9rZW46IHN0cmluZztcbiAgICBwdWJsaWMgZXhwaXJhdGlvbkRhdGU6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHZydFBsYXllclRva2VuOiBzdHJpbmcsIGV4cGlyYXRpb25EYXRlOiBhbnkpIHtcbiAgICAgICAgdGhpcy52cnRQbGF5ZXJUb2tlbiA9IHZydFBsYXllclRva2VuO1xuICAgICAgICB0aGlzLmV4cGlyYXRpb25EYXRlID0gZXhwaXJhdGlvbkRhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIGhhc05vdEV4cGlyZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIDwgbmV3IERhdGUodGhpcy5leHBpcmF0aW9uRGF0ZSkuZ2V0VGltZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc05vdFdvcmxkV2lkZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudnJ0UGxheWVyVG9rZW4uc2VhcmNoKC9eKFt2YmVdKS8pID49IDA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVG9rZW4gfSBmcm9tICcuLi9tb2RlbC90b2tlbic7XG5pbXBvcnQgeyBSZW1vdGVSZXBseSwgUmVtb3RlVXRpbHMgfSBmcm9tICcuLi91dGlscy9yZW1vdGUtdXRpbHMnO1xuaW1wb3J0IHsgRXJyb3JDb2RlcyB9IGZyb20gJy4vZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuLi9wbGF5ZXIvcHVibGlzaGVyJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4uL3V0aWxzL2Jyb3dzZXItdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgVG9rZW5GYWN0b3J5IHtcbiAgICBwdWJsaWMgc3RhdGljIGxhc3RJZGVudGl0eVRva2VuOiBzdHJpbmc7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGFnZ3JlZ2F0b3JVcmw6IHN0cmluZztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGlzVjJBZ2dyZWdhdG9yOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBwbGF5ZXJUb2tlblN0b3JhZ2VOYW1lOiBzdHJpbmc7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHB1Ymxpc2hlcjogUHVibGlzaGVyO1xuXG4gICAgY29uc3RydWN0b3IoYWdncmVnYXRvclVybDogc3RyaW5nLCBwdWJsaXNoZXI6IFB1Ymxpc2hlciwgaXNWMkFnZ3JlZ2F0b3I6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5hZ2dyZWdhdG9yVXJsID0gYWdncmVnYXRvclVybDtcbiAgICAgICAgdGhpcy5pc1YyQWdncmVnYXRvciA9IGlzVjJBZ2dyZWdhdG9yO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlciA9IHB1Ymxpc2hlcjtcblxuICAgICAgICB0aGlzLnBsYXllclRva2VuU3RvcmFnZU5hbWUgPSB0aGlzLmlzVjJBZ2dyZWdhdG9yID8gJ3ZydFBsYXllclRva2VuVjInIDogJ3ZydFBsYXllclRva2VuJztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGNsZWFyVG9rZW4oKTogdm9pZCB7XG4gICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZydFBsYXllclRva2VuJyk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndnJ0UGxheWVyVG9rZW5WMicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnTG9jYWxzdG9yYWdlIG5vdCBhdmFpbGFibGUsIG5vdGhpbmcgdG8gYmUgY2xlYXJlZCEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFN0b3JlZFRva2VuKGFnZ3JlZ2F0b3JVcmw/OiBzdHJpbmcpOiBUb2tlbiB7XG4gICAgICAgIGxldCBzdG9yZWRUb2tlbjogc3RyaW5nO1xuXG4gICAgICAgIGNvbnN0IHBsYXllclRva2VuU3RvcmFnZU5hbWU6IHN0cmluZyA9IGFnZ3JlZ2F0b3JVcmw/LnNlYXJjaCgndjInKSA+IC0xID8gJ3ZydFBsYXllclRva2VuVjInIDogJ3ZydFBsYXllclRva2VuJztcblxuICAgICAgICBpZiAoQnJvd3NlclV0aWxzLmlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ocGxheWVyVG9rZW5TdG9yYWdlTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdMb2NhbHN0b3JhZ2Ugbm90IGF2YWlsYWJsZSwgbm90aGluZyB0byBiZSBmZXRjaGVkIScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0b3JlZFRva2VuKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoSlNPTi5wYXJzZShzdG9yZWRUb2tlbiksIFRva2VuLnByb3RvdHlwZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgY3VycmVudCB0b2tlbiBpcyBjb3JydXB0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFRva2VuKGlkZW50aXR5VG9rZW46IHN0cmluZyk6IFByb21pc2U8VG9rZW4+IHtcbiAgICAgICAgbGV0IHRva2VuOiBUb2tlbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFRva2VuRmFjdG9yeS5sYXN0SWRlbnRpdHlUb2tlbiA9IGlkZW50aXR5VG9rZW47XG4gICAgICAgICAgICB0b2tlbiA9IFRva2VuRmFjdG9yeS5sb2FkU3RvcmVkVG9rZW4oKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIuZXJyb3JIYW5kbGVyLmhhbmRsZVdhcm5pbmcoXG4gICAgICAgICAgICAgICAgRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX1RPS0VOX0VSUk9SX1NUT1JFRF9UT0tFTl9NQUxGT1JNRUQsXG4gICAgICAgICAgICAgICAgJ3dhcm5pbmctdGhlLWN1cnJlbnQtdG9rZW4taXMtY29ycnVwdCcsXG4gICAgICAgICAgICAgICAgeyBlcnJvcjogZSB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRva2VuID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy50b2tlbklzVmFsaWQodG9rZW4pKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1Rva2VuIGludmFsaWQsIHJlcXVlc3RpbmcgYSBuZXcgb25lIScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlkZW50aXR5VG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlkZW50aXR5IHRva2VuIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbiA9IGF3YWl0IHRoaXMucmVxdWVzdE5ld1Rva2VuKGlkZW50aXR5VG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1NhdmluZyB0b2tlbiB0byBsb2NhbCBzdG9yYWdlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoQnJvd3NlclV0aWxzLmlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5wbGF5ZXJUb2tlblN0b3JhZ2VOYW1lLCBKU09OLnN0cmluZ2lmeSh0b2tlbikpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0xvY2Fsc3RvcmFnZSBub3QgYXZhaWxhYmxlLCB0b2tlbiBjYW5ub3QgYmUgc3RvcmVkIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmV0cmlldmUgYSBuZXcgcGxheWVyIHRva2VuOiAnICsgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMudG9rZW5BY3F1aXJlZCk7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRva2VuSXNWYWxpZCh0b2tlbjogVG9rZW4pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRva2VuICYmIHRva2VuLmlzTm90V29ybGRXaWRlKCkgJiYgdG9rZW4uaGFzTm90RXhwaXJlZCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVxdWVzdE5ld1Rva2VuKGlkZW50aXR5VG9rZW46IHN0cmluZyk6IFByb21pc2U8VG9rZW4+IHtcbiAgICAgICAgbGV0IHBheWxvYWQ6IHN0cmluZztcbiAgICAgICAgbGV0IHdpdGhDcmVkZW50aWFsczogYm9vbGVhbjtcblxuICAgICAgICAvL1RPRE86IFJlbW92ZSB0aGlzIGxvZ2ljIG9uY2UgdGhlIFgtVlJULVBsYXllciBjb29raWUgaXMgbm8gbG9uZ2VyIHVzZWQhXG4gICAgICAgIGlmIChpZGVudGl0eVRva2VuKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdJbmRlbnRpdHkgVG9rZW4gc2V0LCByZXF1ZXN0aW5nIG5ldyBWUlQgUGxheWVyIFRva2VuJyk7XG4gICAgICAgICAgICBwYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoeyBpZGVudGl0eVRva2VuIH0pO1xuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdJbmRlbnRpdHkgVG9rZW4gbm90IHNldCwgZ2V0dGluZyB2YWx1ZSBmcm9tIGNvb2tpZSwgcmVxdWVzdGluZyBuZXcgVlJUIFBsYXllciBUb2tlbicpO1xuICAgICAgICAgICAgcGF5bG9hZCA9IG51bGw7XG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGE6IFJlbW90ZVJlcGx5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IGF3YWl0IFJlbW90ZVV0aWxzLmRvUG9zdChcbiAgICAgICAgICAgICAgICBgJHt0aGlzLmFnZ3JlZ2F0b3JVcmx9L3Rva2Vuc2AsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZGF0YS5yZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihKU09OLnBhcnNlKGRhdGEucmVzcG9uc2UpLCBUb2tlbi5wcm90b3R5cGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBFcnJvckNvZGVzLkFHR1JFR0FUT1JfVE9LRU5fRVJST1JfQ0FOTk9UX0dFVF9UT0tFTixcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9ycy1hLXRva2VuLWNvdWxkLW5vdC1iZS1yZXRyaWV2ZWQnLFxuICAgICAgICAgICAgICAgICAgICBKU09OLnBhcnNlKGRhdGEucmVzcG9uc2UpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX1RPS0VOX0VSUk9SX0NBTk5PVF9HRVRfVE9LRU4sXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcnMtYS10b2tlbi1jb3VsZC1ub3QtYmUtcmV0cmlldmVkJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZldGNoIHRva2VuIScpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWVkaWFJbmZvIH0gZnJvbSAnLi4vbW9kZWwvbWVkaWEtaW5mbyc7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4uL21vZGVsL3Rva2VuJztcbmltcG9ydCB7IFJlbW90ZVJlcGx5LCBSZW1vdGVVdGlscyB9IGZyb20gJy4uL3V0aWxzL3JlbW90ZS11dGlscyc7XG5pbXBvcnQgeyBUb2tlbkZhY3RvcnkgfSBmcm9tICcuL3Rva2VuLWZhY3RvcnknO1xuaW1wb3J0IHsgUHVibGlzaGVyIH0gZnJvbSAnLi4vcGxheWVyL3B1Ymxpc2hlcic7XG5cbmV4cG9ydCBjbGFzcyBBZ2dyZWdhdG9yU2VydmljZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBhZ2dyZWdhdG9yVXJsOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBpc1YyQWdncmVnYXRvcjogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgaWRlbnRpdHlUb2tlbjogc3RyaW5nO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdG9rZW5VdGlsczogVG9rZW5GYWN0b3J5O1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBwdWJsaXNoZXI6IFB1Ymxpc2hlcjtcblxuICAgIGNvbnN0cnVjdG9yKGFnZ3JlZ2F0b3JVcmw6IHN0cmluZywgaWRlbnRpdHlUb2tlbjogc3RyaW5nLCBwdWJsaXNoZXI6IFB1Ymxpc2hlcikge1xuICAgICAgICB0aGlzLmFnZ3JlZ2F0b3JVcmwgPSBhZ2dyZWdhdG9yVXJsO1xuICAgICAgICB0aGlzLmlzVjJBZ2dyZWdhdG9yID0gYWdncmVnYXRvclVybD8uc2VhcmNoKCd2MicpID4gLTE7XG5cbiAgICAgICAgdGhpcy5pZGVudGl0eVRva2VuID0gaWRlbnRpdHlUb2tlbjtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG5cbiAgICAgICAgdGhpcy50b2tlblV0aWxzID0gbmV3IFRva2VuRmFjdG9yeShhZ2dyZWdhdG9yVXJsLCBwdWJsaXNoZXIsIHRoaXMuaXNWMkFnZ3JlZ2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBhZ2dyZWdhdGVNZWRpYShtZWRpYVJlZmVyZW5jZTogc3RyaW5nLCBjbGllbnRDb2RlOiBzdHJpbmcpOiBQcm9taXNlPE1lZGlhSW5mbz4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdG9rZW46IFRva2VuID0gYXdhaXQgdGhpcy50b2tlblV0aWxzLmdldFRva2VuKHRoaXMuaWRlbnRpdHlUb2tlbik7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRNZWRpYUluZm8obWVkaWFSZWZlcmVuY2UsIGNsaWVudENvZGUsIHRva2VuKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFnZ3JlZ2F0ZSBtZWRpYSEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZ2V0TWVkaWFJbmZvKG1lZGlhUmVmZXJlbmNlOiBzdHJpbmcsIGNsaWVudENvZGU6IHN0cmluZywgdnJ0VG9rZW46IFRva2VuKTogUHJvbWlzZTxNZWRpYUluZm8+IHtcbiAgICAgICAgbGV0IGRhdGE6IFJlbW90ZVJlcGx5ID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IGF3YWl0IFJlbW90ZVV0aWxzLmRvR2V0KFxuICAgICAgICAgICAgICAgIGAke3RoaXMuYWdncmVnYXRvclVybH0vdmlkZW9zLyR7bWVkaWFSZWZlcmVuY2V9P3ZydFBsYXllclRva2VuPSR7dnJ0VG9rZW4udnJ0UGxheWVyVG9rZW59JmNsaWVudD0ke2NsaWVudENvZGV9YCxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChkYXRhLnJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVNZWRpYUluZm86IGFueSA9IEpTT04ucGFyc2UoZGF0YS5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgcHJlTWVkaWFJbmZvLm1lZGlhU2VjdGlvbnMgPSBwcmVNZWRpYUluZm8ucGxheWxpc3Q7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHByZU1lZGlhSW5mby5wbGF5bGlzdDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1lZGlhSW5mbzogTWVkaWFJbmZvID0gT2JqZWN0LnNldFByb3RvdHlwZU9mKHByZU1lZGlhSW5mbywgTWVkaWFJbmZvLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgLy9TdHJpbmcgaXMgbm90IGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIERhdGVcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFJbmZvLmRybUV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFJbmZvLmRybUV4cGlyZWQgPSBuZXcgRGF0ZShtZWRpYUluZm8uZHJtRXhwaXJlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5tZWRpYVJlZmVyZW5jZSA9IG1lZGlhUmVmZXJlbmNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYUluZm87XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JIYW5kbGVyOiBGdW5jdGlvbiA9IHRoaXMuaXNWMkFnZ3JlZ2F0b3JcbiAgICAgICAgICAgICAgICA/IHRoaXMucHVibGlzaGVyLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvckZyb21WMkFnZ3JlZ2F0b3IuYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgIDogdGhpcy5wdWJsaXNoZXIuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yRnJvbUFnZ3JlZ2F0b3IuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyKGRhdGEucmVxdWVzdCwgZGF0YS5yZXNwb25zZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVycm9ySGFuZGxlcihudWxsLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdldCBpbmZvIGZyb20gYWdncmVnYXRvciEnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBEUk1Db25maWcge1xuICAgIHB1YmxpYyBpbnRlZ3JhdGlvbjogc3RyaW5nO1xuICAgIHB1YmxpYyB0b2tlbjogYW55O1xuXG4gICAgcHVibGljIHdpZGV2aW5lOiBEUk1UeXBlO1xuICAgIHB1YmxpYyBwbGF5cmVhZHk6IERSTVR5cGU7XG4gICAgcHVibGljIGZhaXJwbGF5OiBEUk1UeXBlO1xuICAgIHB1YmxpYyBhZXMxMjg6IERSTVR5cGU7XG5cbiAgICBjb25zdHJ1Y3RvcihpbnRlZ3JhdGlvbjogc3RyaW5nLCB0b2tlbjogYW55LCBjb250ZW50UHJvdGVjdGlvbnM6IENvbnRlbnRQcm90ZWN0aW9ucykge1xuICAgICAgICB0aGlzLmludGVncmF0aW9uID0gaW50ZWdyYXRpb247XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcblxuICAgICAgICB0aGlzLndpZGV2aW5lID0gY29udGVudFByb3RlY3Rpb25zLndpZGV2aW5lO1xuICAgICAgICB0aGlzLnBsYXlyZWFkeSA9IGNvbnRlbnRQcm90ZWN0aW9ucy5wbGF5cmVhZHk7XG4gICAgICAgIHRoaXMuZmFpcnBsYXkgPSBjb250ZW50UHJvdGVjdGlvbnMuZmFpcnBsYXk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERSTVR5cGUge1xuICAgIGNlcnRpZmljYXRlVVJMOiBzdHJpbmc7XG4gICAgbGljZW5zZUFjcXVpc2l0aW9uVVJMOiBzdHJpbmc7XG4gICAgdXNlQ3JlZGVudGlhbHM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudFByb3RlY3Rpb25zIHtcbiAgICB3aWRldmluZTogRFJNVHlwZTtcbiAgICBmYWlycGxheTogRFJNVHlwZTtcbiAgICBwbGF5cmVhZHk6IERSTVR5cGU7XG59XG4iLCJpbXBvcnQgeyBDb250ZW50UHJvdGVjdGlvbnMsIERSTUNvbmZpZywgRFJNVHlwZSB9IGZyb20gJy4uL21vZGVsL2RybS1jb25maWcnO1xuXG5leHBvcnQgY2xhc3MgRHJtU2VydmljZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBpbnRlZ3JhdGlvbjogc3RyaW5nO1xuXG4gICAgcHJpdmF0ZSB3aWRldmluZURybTogRFJNVHlwZSA9IHtcbiAgICAgICAgY2VydGlmaWNhdGVVUkw6IG51bGwsXG4gICAgICAgIGxpY2Vuc2VBY3F1aXNpdGlvblVSTDogJ2h0dHBzOi8vd2lkZXZpbmUtcHJveHkuZHJtLnRlY2hub2xvZ3kvcHJveHknLFxuICAgICAgICB1c2VDcmVkZW50aWFsczogZmFsc2UsXG4gICAgfTtcbiAgICBwcml2YXRlIGZhaXJwbGF5RHJtOiBEUk1UeXBlID0ge1xuICAgICAgICBjZXJ0aWZpY2F0ZVVSTDogJ2h0dHBzOi8vZmFpcnBsYXktbGljZW5zZS5kcm0udGVjaG5vbG9neS9jZXJ0aWZpY2F0ZScsXG4gICAgICAgIGxpY2Vuc2VBY3F1aXNpdGlvblVSTDogJ2h0dHBzOi8vZmFpcnBsYXktbGljZW5zZS5kcm0udGVjaG5vbG9neS9saWNlbnNlJyxcbiAgICAgICAgdXNlQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgIH07XG4gICAgcHJpdmF0ZSBwbGF5cmVhZHlEcm06IERSTVR5cGUgPSB7XG4gICAgICAgIGNlcnRpZmljYXRlVVJMOiBudWxsLFxuICAgICAgICBsaWNlbnNlQWNxdWlzaXRpb25VUkw6ICdodHRwczovL3BsYXlyZWFkeS1saWNlbnNlLmRybS50ZWNobm9sb2d5L3JpZ2h0c21hbmFnZXIuYXNteCcsXG4gICAgICAgIHVzZUNyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IoaW50ZWdyYXRpb246IHN0cmluZykge1xuICAgICAgICB0aGlzLmludGVncmF0aW9uID0gaW50ZWdyYXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdlbmVyYXRlRHJtQ29uZmlnKGRybVRva2VuOiBzdHJpbmcpOiBEUk1Db25maWcge1xuICAgICAgICByZXR1cm4gbmV3IERSTUNvbmZpZyh0aGlzLmludGVncmF0aW9uLCBkcm1Ub2tlbiwgdGhpcy5kZXRlcm1pbmVEUk1Gb3JCcm93c2VyKGRybVRva2VuKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZXRlcm1pbmVEUk1Gb3JCcm93c2VyKGRybVRva2VuOiBzdHJpbmcpOiBDb250ZW50UHJvdGVjdGlvbnMge1xuICAgICAgICBjb25zdCBjb250ZW50UHJvdGVjdGlvbnM6IENvbnRlbnRQcm90ZWN0aW9ucyA9IHtcbiAgICAgICAgICAgIHdpZGV2aW5lOiBudWxsLFxuICAgICAgICAgICAgZmFpcnBsYXk6IG51bGwsXG4gICAgICAgICAgICBwbGF5cmVhZHk6IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRybVRva2VuKSB7XG4gICAgICAgICAgICBjb250ZW50UHJvdGVjdGlvbnMud2lkZXZpbmUgPSB0aGlzLndpZGV2aW5lRHJtO1xuICAgICAgICAgICAgY29udGVudFByb3RlY3Rpb25zLmZhaXJwbGF5ID0gdGhpcy5mYWlycGxheURybTtcbiAgICAgICAgICAgIGNvbnRlbnRQcm90ZWN0aW9ucy5wbGF5cmVhZHkgPSB0aGlzLnBsYXlyZWFkeURybTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGVudFByb3RlY3Rpb25zO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNEcm1Ub2tlbkFib3V0VG9FeHBpcmUodmFsaWRVbnRpbDogRGF0ZSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodmFsaWRVbnRpbCkge1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVGltZTogbnVtYmVyID0gdmFsaWRVbnRpbC5nZXRUaW1lKCkgLSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1RpbWUgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlID0+IHByb2Nlc3MuZW52LkRSTV9CVUZGRVJfVElNRV9TRUNPTkRTID0+IDMwIHNlY29uZHMgZm9yIHByb2QgJiBzdGFnLCAxMjAgc2Vjb25kcyBmb3IgbG9jYWwgJiBkZXZcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtYWluaW5nVGltZSA8IHBhcnNlSW50KHByb2Nlc3MuZW52LkRSTV9CVUZGRVJfVElNRV9TRUNPTkRTLCAxMCkgKiAxMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyByZW1hcEFFU1Rva2VuT250b0xpY2Vuc2VSZXF1ZXN0KHVybDogc3RyaW5nLCBkcm1Ub2tlbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgY29uc3QgbG93ZXJDYXNlVXJsOiBzdHJpbmcgPSB1cmwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICghZHJtVG9rZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvd2VyQ2FzZVVybC5pbmRleE9mKCdnZXRrZXknKSA9PT0gLTEgfHwgbG93ZXJDYXNlVXJsLmluZGV4T2YoJ3Rva2VuPScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB1cmwgKyAobG93ZXJDYXNlVXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgJ3Rva2VuPScgKyBlbmNvZGVVUklDb21wb25lbnQoZHJtVG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTY2hlZHVsZUl0ZW0ge1xuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyB0aXRsZTogc3RyaW5nO1xuICAgIHB1YmxpYyBzaG9ydERlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcHVibGljIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcHVibGljIHRpbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHRpdGxlPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU2VjdGlvbiwgU2VjdGlvbkxpc3QgfSBmcm9tICcuLi9tb2RlbC9tZWRpYS1pbmZvJztcbmltcG9ydCB7IFNjaGVkdWxlSXRlbSB9IGZyb20gJy4uL21vZGVsL3NjaGVkdWxlLWl0ZW0nO1xuaW1wb3J0IHsgSGVhZGVyLCBSZW1vdGVSZXBseSwgUmVtb3RlVXRpbHMgfSBmcm9tICcuLi91dGlscy9yZW1vdGUtdXRpbHMnO1xuaW1wb3J0IHsgRXJyb3JDb2RlcywgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi9lcnJvci1oYW5kbGVyJztcblxuZXhwb3J0IGNsYXNzIFByb2dyYW1taW5nU2VydmljZSB7XG4gICAgcHVibGljIHN0YXRpYyB0eXBlczogUGxheWxpc3RUeXBlcyA9IHtcbiAgICAgICAgUFJPTU9USU9OQUw6ICdwcm9tb3Rpb25hbCcsXG4gICAgICAgIFNUQU5EQVJEOiAnc3RhbmRhcmQnLFxuICAgICAgICBUUkFJTEVSOiAndHJhaWxlcicsXG4gICAgICAgIE9OQk9BUkRJTkc6ICdvbmJvYXJkaW5nJyxcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBhZ2dyZWdhdG9yVXJsOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBlcnJvckhhbmRsZXI6IEVycm9ySGFuZGxlcjtcblxuICAgIHByaXZhdGUgbWVkaWFTZWN0aW9uczogU2VjdGlvbkxpc3Q7XG4gICAgcHJpdmF0ZSBwcmV2aW91c01lZGlhU2VjdGlvbjogU2VjdGlvbjtcblxuICAgIHByaXZhdGUgcGxheWxpc3RUaW1lTWFwcGluZzogbnVtYmVyW107XG4gICAgcHJpdmF0ZSBwbGF5bGlzdER1cmF0aW9uTWFwcGluZ1BlckJsb2NrOiBCbG9ja0l0ZW1bXTtcblxuICAgIHByaXZhdGUgbGl2ZVNjaGVkdWxlTGFzdE1vZGlmaWVkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBub0Jyb2FkQ2FzdDogU2NoZWR1bGVJdGVtO1xuXG4gICAgY29uc3RydWN0b3IoYWdncmVnYXRvclVybDogc3RyaW5nLCBlcnJvckhhbmRsZXI6IEVycm9ySGFuZGxlcikge1xuICAgICAgICB0aGlzLmFnZ3JlZ2F0b3JVcmwgPSBhZ2dyZWdhdG9yVXJsO1xuICAgICAgICB0aGlzLmVycm9ySGFuZGxlciA9IGVycm9ySGFuZGxlcjtcblxuICAgICAgICB0aGlzLm5vQnJvYWRDYXN0ID0gbmV3IFNjaGVkdWxlSXRlbSgnR2VlbiB1aXR6ZW5kaW5nJyk7XG4gICAgfVxuXG4gICAgcHVibGljIG1hcE1lZGlhU2VjdGlvbnMobWVkaWFTZWN0aW9uczogU2VjdGlvbkxpc3QpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZWRpYVNlY3Rpb25zID0gbWVkaWFTZWN0aW9ucztcblxuICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgbWVkaWFTZWN0aW9ucy5jb250ZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBtZWRpYVNlY3Rpb25zLmNvbnRlbnRbaV0uaW5kZXggPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXBQbGF5bGlzdER1cmF0aW9uc1RvUGxheXRpbWUoKTtcbiAgICAgICAgdGhpcy5kZXRlcm1pbmVEdXJhdGlvblBlckJsb2NrKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlbWFpbmluZ0Jsb2NrRHVyYXRpb24oY3VycmVudFBsYXllclBvc2l0aW9uSW5TZWNvbmRzOiBudW1iZXIpOiBBY3RpdmVJdGVtV2l0aFJlbWFpbmluZ0Jsb2NrRHVyYXRpb24ge1xuICAgICAgICBjb25zdCBhY3RpdmVQbGF5bGlzdEl0ZW06IEFjdGl2ZVBsYXlsaXN0SXRlbSA9IHRoaXMuZ2V0QWN0aXZlUGxheWxpc3RJdGVtKFxuICAgICAgICAgICAgY3VycmVudFBsYXllclBvc2l0aW9uSW5TZWNvbmRzICogMTAwMCxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoYWN0aXZlUGxheWxpc3RJdGVtKSB7XG4gICAgICAgICAgICBsZXQgbGFzdFBsYXlsaXN0SXRlbUluZGV4T2ZDdXJyZW50QmxvY2s6IG51bWJlcjtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYmxvY2sgb2YgdGhpcy5wbGF5bGlzdER1cmF0aW9uTWFwcGluZ1BlckJsb2NrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrLnBsYXlMaXN0SW5kZXhlcy5pbmRleE9mKGFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtLmluZGV4KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQbGF5bGlzdEl0ZW1JbmRleE9mQ3VycmVudEJsb2NrID0gYmxvY2sucGxheUxpc3RJbmRleGVzW2Jsb2NrLnBsYXlMaXN0SW5kZXhlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBlbmQ6IG51bWJlciA9IHRoaXMucGxheWxpc3RUaW1lTWFwcGluZ1tsYXN0UGxheWxpc3RJdGVtSW5kZXhPZkN1cnJlbnRCbG9ja107XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVBsYXlsaXN0SXRlbSxcbiAgICAgICAgICAgICAgICByZW1haW5pbmdCbG9ja0R1cmF0aW9uOiBNYXRoLnJvdW5kKChlbmQgLSBjdXJyZW50UGxheWVyUG9zaXRpb25JblNlY29uZHMgKiAxMDAwKSAvIDEwMDApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWN0aXZlUGxheWxpc3RJdGVtOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZ0Jsb2NrRHVyYXRpb246IE5hTixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0TGl2ZVNjaGVkdWxlKG1lZGlhUmVmZXJlbmNlOiBzdHJpbmcpOiBQcm9taXNlPFNjaGVkdWxlSXRlbVtdPiB7XG4gICAgICAgIGxldCBoZWFkZXJzOiBIZWFkZXJbXSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmxpdmVTY2hlZHVsZUxhc3RNb2RpZmllZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdJZi1Nb2RpZmllZC1TaW5jZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmxpdmVTY2hlZHVsZUxhc3RNb2RpZmllZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXBseTogUmVtb3RlUmVwbHkgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVwbHkgPSBhd2FpdCBSZW1vdGVVdGlscy5kb0dldChgJHt0aGlzLmFnZ3JlZ2F0b3JVcmx9L2NoYW5uZWxzLyR7bWVkaWFSZWZlcmVuY2V9YCwgdHJ1ZSwgaGVhZGVycyk7XG5cbiAgICAgICAgICAgIGlmIChyZXBseS5yZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXZlU2NoZWR1bGVMYXN0TW9kaWZpZWQgPSByZXBseS5yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKCdsYXN0LW1vZGlmaWVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVwbHkucmVzcG9uc2UpLnNjaGVkdWxlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXBseS5yZXF1ZXN0LnN0YXR1cyA9PT0gMzA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlcGx5LnJlcXVlc3Quc3RhdHVzID4gMzk5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAocmVwbHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX1NDSEVEVUxFX0VSUk9SX0NBTk5PVF9HRVRfU0NIRURVTEUsXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcnMtdGhlLXByb2dyYW0tc2NoZWR1bGUtY2Fubm90LWJlLXJldHJpZXZlZCcsXG4gICAgICAgICAgICAgICAgICAgIEpTT04ucGFyc2UocmVwbHkucmVzcG9uc2UpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBFcnJvckNvZGVzLkFHR1JFR0FUT1JfU0NIRURVTEVfRVJST1JfQ0FOTk9UX0dFVF9TQ0hFRFVMRSxcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9ycy10aGUtcHJvZ3JhbS1zY2hlZHVsZS1jYW5ub3QtYmUtcmV0cmlldmVkJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHByb2dyYW0gc2NoZWR1bGUgY291bGQgbm90IGJlIHJldHJpZXZlZCEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBY3RpdmVTY2hlZHVsZUl0ZW0oc2NoZWR1bGVJdGVtczogU2NoZWR1bGVJdGVtW10pOiBTY2hlZHVsZUl0ZW0ge1xuICAgICAgICBpZiAoc2NoZWR1bGVJdGVtcyAmJiBzY2hlZHVsZUl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdzogbnVtYmVyID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHNjaGVkdWxlSXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtOiBTY2hlZHVsZUl0ZW0gPSBzY2hlZHVsZUl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1TdGFydFRpbWU6IG51bWJlciA9IG5ldyBEYXRlKGl0ZW0udGltZSkuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEl0ZW06IFNjaGVkdWxlSXRlbSA9IHNjaGVkdWxlSXRlbXNbaSArIDFdO1xuICAgICAgICAgICAgICAgIGxldCBuZXh0SXRlbVN0YXJ0VGltZTogbnVtYmVyID0gbm93ICsgMTtcbiAgICAgICAgICAgICAgICBpZiAoaSA8IHNjaGVkdWxlSXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0SXRlbVN0YXJ0VGltZSA9IG5ldyBEYXRlKG5leHRJdGVtLnRpbWUpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGl0ZW1TdGFydFRpbWUgJiYgbm93IDwgbmV4dEl0ZW1TdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9Ccm9hZENhc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbWFwUGxheWxpc3REdXJhdGlvbnNUb1BsYXl0aW1lKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsYXlsaXN0VGltZU1hcHBpbmcgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwbGF5bGlzdEl0ZW0gPSB0aGlzLm1lZGlhU2VjdGlvbnMuY29udGVudFtpXTtcbiAgICAgICAgICAgIGxldCBwcmV2aW91c0R1cmF0aW9uOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWxpc3RUaW1lTWFwcGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNEdXJhdGlvbiA9IHRoaXMucGxheWxpc3RUaW1lTWFwcGluZ1tpIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBsYXlsaXN0VGltZU1hcHBpbmcucHVzaChwcmV2aW91c0R1cmF0aW9uICsgcGxheWxpc3RJdGVtLmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZGV0ZXJtaW5lRHVyYXRpb25QZXJCbG9jaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5bGlzdER1cmF0aW9uTWFwcGluZ1BlckJsb2NrID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50Lmxlbmd0aDsgKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SXRlbTogU2VjdGlvbiA9IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50W2ldO1xuICAgICAgICAgICAgY29uc3QgYmxvY2tJdGVtOiBCbG9ja0l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGN1cnJlbnRJdGVtLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHBsYXlMaXN0SW5kZXhlczogW2ldLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucGxheWxpc3REdXJhdGlvbk1hcHBpbmdQZXJCbG9jay5wdXNoKGJsb2NrSXRlbSk7XG5cbiAgICAgICAgICAgIC8vQ2hlY2sgYWxsIG90aGVyIGl0ZW1zIGluIHRoZSBsaXN0IGFnYWludCB0aGUgY3VycmVudCBvbmUsIHdoZW4gbm8gbWF0Y2ggaXMgZm91bmQsIHdlIG1vdmUgdGhlIG91dGVyIGxvb3AgaW5kZXggdG8gdGhlIG5vbiBtYXRjaGluZyBpbmRleC5cbiAgICAgICAgICAgIGZvciAobGV0IGo6IG51bWJlciA9IGkgKyAxOyBqIDwgdGhpcy5tZWRpYVNlY3Rpb25zLmNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEl0ZW0uZXZlbnRUeXBlLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50W2pdLmV2ZW50VHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vTWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tJdGVtLnBsYXlMaXN0SW5kZXhlcy5wdXNoKGopO1xuICAgICAgICAgICAgICAgICAgICBibG9ja0l0ZW0uZHVyYXRpb24gKz0gdGhpcy5tZWRpYVNlY3Rpb25zLmNvbnRlbnRbal0uZHVyYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgLy9MYXN0IGluZGV4LCBzdG9wIG91dGVyIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB0aGlzLm1lZGlhU2VjdGlvbnMuY29udGVudC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL05vIE1hdGNoLCBtb3ZlIG91dGVyIGxvb3AgdG8gbm9uLW1hdGNoaW5nIGluZGV4IHRvIGFkZCB0aGUgbmV4dCBibG9ja1xuICAgICAgICAgICAgICAgICAgICBpID0gajtcblxuICAgICAgICAgICAgICAgICAgICAvL0xhc3QgaW5kZXgsIHN0b3Agb3V0ZXIgbG9vcCBhbmQgYWRkIHRoZSBsYXN0IGJsb2NrIVxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdGhpcy5tZWRpYVNlY3Rpb25zLmNvbnRlbnQubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdER1cmF0aW9uTWFwcGluZ1BlckJsb2NrLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjdXJyZW50SXRlbS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5TGlzdEluZGV4ZXM6IFtpIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEFjdGl2ZVBsYXlsaXN0SXRlbShjdXJyZW50VGltZWxpbmVQb3NpdGlvbkluTWlsbGlzOiBudW1iZXIpOiBBY3RpdmVQbGF5bGlzdEl0ZW0ge1xuICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgdGhpcy5wbGF5bGlzdFRpbWVNYXBwaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFRpbWVsaW5lUG9zaXRpb25Jbk1pbGxpcyA8PSB0aGlzLnBsYXlsaXN0VGltZU1hcHBpbmdbaV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgdHlwZUNoYW5nZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNUeXBlOiBzdHJpbmcgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy9GaXJzdCBpdGVtLCBubyBwcmV2aW91cyBwbGF5bGlzdCBpdGVtXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZpb3VzTWVkaWFTZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c01lZGlhU2VjdGlvbiA9IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50W2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vQW55IG5leHQgaXRlbSB3aGVyZSB0aGUgZXZlbnRUeXBlcyBkbyBub3QgbWF0Y2hcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzTWVkaWFTZWN0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNNZWRpYVNlY3Rpb24uZXZlbnRUeXBlICE9PSB0aGlzLm1lZGlhU2VjdGlvbnMuY29udGVudFtpXS5ldmVudFR5cGVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1R5cGUgPSB0aGlzLnByZXZpb3VzTWVkaWFTZWN0aW9uLmV2ZW50VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c01lZGlhU2VjdGlvbiA9IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50W2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vQW55IG5leHQgaXRlbSB3aGVyZSB0aGUgZXZlbnRUeXBlcyBtYXRjaFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNNZWRpYVNlY3Rpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c01lZGlhU2VjdGlvbi5ldmVudFR5cGUgPT09IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50W2ldLmV2ZW50VHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzTWVkaWFTZWN0aW9uLmluZGV4ICE9PSB0aGlzLm1lZGlhU2VjdGlvbnMuY29udGVudFtpXS5pbmRleFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1R5cGUgPSB0aGlzLnByZXZpb3VzTWVkaWFTZWN0aW9uLmV2ZW50VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c01lZGlhU2VjdGlvbiA9IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50W2ldO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IHRoaXMubWVkaWFTZWN0aW9ucy5jb250ZW50W2ldLFxuICAgICAgICAgICAgICAgICAgICB0eXBlQ2hhbmdlZCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUeXBlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYXlsaXN0VHlwZXMge1xuICAgIFRSQUlMRVI6IHN0cmluZztcbiAgICBQUk9NT1RJT05BTDogc3RyaW5nO1xuICAgIFNUQU5EQVJEOiBzdHJpbmc7XG4gICAgT05CT0FSRElORzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFjdGl2ZVBsYXlsaXN0SXRlbSB7XG4gICAgaXRlbTogU2VjdGlvbjtcbiAgICB0eXBlQ2hhbmdlZDogYm9vbGVhbjtcbiAgICBwcmV2aW91c1R5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbG9ja0l0ZW0ge1xuICAgIGR1cmF0aW9uOiBudW1iZXI7XG4gICAgcGxheUxpc3RJbmRleGVzOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3RpdmVJdGVtV2l0aFJlbWFpbmluZ0Jsb2NrRHVyYXRpb24ge1xuICAgIGFjdGl2ZVBsYXlsaXN0SXRlbTogQWN0aXZlUGxheWxpc3RJdGVtO1xuICAgIHJlbWFpbmluZ0Jsb2NrRHVyYXRpb246IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IERSTUNvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL2RybS1jb25maWcnO1xuaW1wb3J0IHsgTWVkaWFJbmZvLCBUYXJnZXRVcmwgfSBmcm9tICcuLi8uLi9tb2RlbC9tZWRpYS1pbmZvJztcbmltcG9ydCB7IFNjaGVkdWxlSXRlbSB9IGZyb20gJy4uLy4uL21vZGVsL3NjaGVkdWxlLWl0ZW0nO1xuaW1wb3J0IHsgQWRTb3VyY2UsIFNvdXJjZURlc2NyaXB0aW9uIH0gZnJvbSAnLi4vLi4vbW9kZWwvc291cmNlLWRlc2NyaXB0aW9uJztcbmltcG9ydCB7IFR5cGVkU291cmNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvdHlwZWQtc291cmNlJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL2Jyb3dzZXItdXRpbHMnO1xuaW1wb3J0IHsgU291cmNlU2VydmljZSB9IGZyb20gJy4vc291cmNlLXNlcnZpY2UnO1xuXG5leHBvcnQgY2xhc3MgU291cmNlU2VydmljZVZydCBleHRlbmRzIFNvdXJjZVNlcnZpY2Uge1xuICAgIHB1YmxpYyBtYXBTb3VyY2VzKG1lZGlhSW5mbzogTWVkaWFJbmZvLCBkcm1Db25maWc6IERSTUNvbmZpZyk6IFR5cGVkU291cmNlW10ge1xuICAgICAgICByZXR1cm4gbWVkaWFJbmZvLnRhcmdldFVybHNcbiAgICAgICAgICAgIC5zb3J0KChhOiBUYXJnZXRVcmwsIGI6IFRhcmdldFVybCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNJT1MoKSB8fCBCcm93c2VyVXRpbHMuaXNTYWZhcmkoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1UeXBlTWFwcGluZ1tiLnR5cGVdLmhsc0ZpcnN0U29ydE9yZGVyIC1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtVHlwZU1hcHBpbmdbYS50eXBlXS5obHNGaXJzdFNvcnRPcmRlclxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQnJvd3NlclV0aWxzLmlzSUUoKSB8fCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goJ0ZpcmVmb3gvNjguMCcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtVHlwZU1hcHBpbmdbYi50eXBlXS5obHNBZXNGaXJzdFNvcnRPcmRlciAtXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbVR5cGVNYXBwaW5nW2EudHlwZV0uaGxzQWVzRmlyc3RTb3J0T3JkZXJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1UeXBlTWFwcGluZ1tiLnR5cGVdLm1kcEZpcnN0U29ydE9yZGVyIC1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtVHlwZU1hcHBpbmdbYS50eXBlXS5tZHBGaXJzdFNvcnRPcmRlclxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubWFwKCh0YXJnZXRVcmw6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbVR5cGVNYXBwaW5nLmhsc19hZXMubmFtZSA9PT0gdGFyZ2V0VXJsLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUeXBlZFNvdXJjZSh0YXJnZXRVcmwudXJsLCB0aGlzLnN0cmVhbVR5cGVNYXBwaW5nW3RhcmdldFVybC50eXBlXS5tZWRpYVR5cGUsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFR5cGVkU291cmNlKHRhcmdldFVybC51cmwsIHRoaXMuc3RyZWFtVHlwZU1hcHBpbmdbdGFyZ2V0VXJsLnR5cGVdLm1lZGlhVHlwZSwgZHJtQ29uZmlnKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROZXh0U291cmNlKFxuICAgICAgICBtZWRpYUluZm86IE1lZGlhSW5mbyxcbiAgICAgICAgYWRTb3VyY2U/OiBBZFNvdXJjZSxcbiAgICAgICAgaXNMaXZlU3RhcnRPdmVyPzogYm9vbGVhbixcbiAgICAgICAgc3RhcnRPdmVyQmVnaW4/OiBzdHJpbmcsXG4gICAgICAgIHN0YXJ0T3ZlckVuZD86IHN0cmluZyxcbiAgICApOiBTb3VyY2VEZXNjcmlwdGlvbiB7XG4gICAgICAgIGlmIChtZWRpYUluZm8uc291cmNlcyAmJiBtZWRpYUluZm8uc291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgc291cmNlOiBUeXBlZFNvdXJjZSA9IG1lZGlhSW5mby5zb3VyY2VzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoaXNMaXZlU3RhcnRPdmVyICYmIGlzTGl2ZVN0YXJ0T3ZlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IHRoaXMuZ2V0U3RhcnRPdmVyU291cmNlKG1lZGlhSW5mbywgc291cmNlLCBzdGFydE92ZXJCZWdpbiwgc3RhcnRPdmVyRW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgU291cmNlRGVzY3JpcHRpb24oc291cmNlLCBbYWRTb3VyY2VdLCBudWxsLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ05vIG1vcmUgc291cmNlcyEnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN0YXJ0T3ZlclNvdXJjZShcbiAgICAgICAgbWVkaWFJbmZvOiBNZWRpYUluZm8sXG4gICAgICAgIHNvdXJjZTogVHlwZWRTb3VyY2UsXG4gICAgICAgIHN0YXJ0T3ZlckJlZ2luPzogc3RyaW5nLFxuICAgICAgICBzdGFydE92ZXJFbmQ/OiBzdHJpbmcsXG4gICAgKTogVHlwZWRTb3VyY2Uge1xuICAgICAgICBpZiAoc3RhcnRPdmVyQmVnaW4gJiYgc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFR5cGVkU291cmNlKFxuICAgICAgICAgICAgICAgIChzb3VyY2Uuc3JjLnNwbGl0KCc/dD0nKVswXSArPSAnP3Q9JyArIHN0YXJ0T3ZlckJlZ2luICsgKHN0YXJ0T3ZlckVuZCA/ICckJyArIHN0YXJ0T3ZlckVuZCA6ICcnKSksXG4gICAgICAgICAgICAgICAgc291cmNlLnR5cGUsXG4gICAgICAgICAgICAgICAgc291cmNlLmNvbnRlbnRQcm90ZWN0aW9uLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbkRvU3RhcnRPdmVyKG1lZGlhSW5mby5hY3RpdmVTY2hlZHVsZUl0ZW0pICYmIHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUeXBlZFNvdXJjZShcbiAgICAgICAgICAgICAgICAoc291cmNlLnNyYy5zcGxpdCgnP3Q9JylbMF0gKz0gJz90PScgKyBtZWRpYUluZm8uYWN0aXZlU2NoZWR1bGVJdGVtLnRpbWUpLFxuICAgICAgICAgICAgICAgIHNvdXJjZS50eXBlLFxuICAgICAgICAgICAgICAgIHNvdXJjZS5jb250ZW50UHJvdGVjdGlvbixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjYW5Eb1N0YXJ0T3ZlcihhY3RpdmVTY2hlZHVsZUl0ZW06IFNjaGVkdWxlSXRlbSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgYWN0aXZlU2NoZWR1bGVJdGVtICE9PSBudWxsICYmXG4gICAgICAgICAgICBhY3RpdmVTY2hlZHVsZUl0ZW0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgYWN0aXZlU2NoZWR1bGVJdGVtLnRpbWUgIT09IG51bGwgJiZcbiAgICAgICAgICAgIGFjdGl2ZVNjaGVkdWxlSXRlbS50aW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi8uLi9tb2RlbC9jb25maWcnO1xuaW1wb3J0IHsgRFJNQ29uZmlnIH0gZnJvbSAnLi4vLi4vbW9kZWwvZHJtLWNvbmZpZyc7XG5pbXBvcnQgeyBBZFBheWxvYWQgfSBmcm9tICcuLi8uLi9tb2RlbC9ldmVudGluZy9wdWJsaWMtcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBNZWRpYUluZm8gfSBmcm9tICcuLi8uLi9tb2RlbC9tZWRpYS1pbmZvJztcbmltcG9ydCB7IFBsYXllckFic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuLi8uLi9wbGF5ZXIvYWJzdHJhY3Rpb24tbGF5ZXIvcGxheWVyLWFic3RyYWN0aW9uLWxheWVyJztcbmltcG9ydCB7IFB1Ymxpc2hlciB9IGZyb20gJy4uLy4uL3BsYXllci9wdWJsaXNoZXInO1xuaW1wb3J0IHsgQWdncmVnYXRvclNlcnZpY2UgfSBmcm9tICcuLi9hZ2dyZWdhdG9yLXNlcnZpY2UnO1xuaW1wb3J0IHsgQW5hbHl0aWNzUmVmZXJlbmNlRXh0cmFjdG9yIH0gZnJvbSAnLi4vYW5hbHl0aWNzL2FuYWx5dGljcy1yZWZlcmVuY2UtZXh0cmFjdG9yJztcbmltcG9ydCB7IERybVNlcnZpY2UgfSBmcm9tICcuLi9kcm0tc2VydmljZSc7XG5pbXBvcnQgeyBBY3RpdmVJdGVtV2l0aFJlbWFpbmluZ0Jsb2NrRHVyYXRpb24sIFByb2dyYW1taW5nU2VydmljZSB9IGZyb20gJy4uL3Byb2dyYW1taW5nLXNlcnZpY2UnO1xuXG5pbXBvcnQgeyBTb3VyY2VTZXJ2aWNlVnJ0IH0gZnJvbSAnLi4vc291cmNlLXNlcnZpY2Uvc291cmNlLXNlcnZpY2UtdnJ0JztcbmltcG9ydCB7IE1lZGlhRW5yaWNoZXIgfSBmcm9tICcuL21lZGlhLWVucmljaGVyJztcbmltcG9ydCB7IFBsYXlsaXN0SXRlbSB9IGZyb20gJy4uLy4uL21vZGVsL3BsYXlsaXN0JztcblxuZXhwb3J0IGNsYXNzIE1lZGlhRW5yaWNoZXJWcnQgZXh0ZW5kcyBNZWRpYUVucmljaGVyIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHByb2dyYW1taW5nU2VydmljZTogUHJvZ3JhbW1pbmdTZXJ2aWNlO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYWdncmVnYXRvclNlcnZpY2U6IEFnZ3JlZ2F0b3JTZXJ2aWNlO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZHJtU2VydmljZTogRHJtU2VydmljZTtcblxuICAgIHByaXZhdGUgbGl2ZVNjaGVkdWxlSW50ZXJ2YWw6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29uZmlnLCBwdWJsaXNoZXI6IFB1Ymxpc2hlciwgcGxheWxpc3RJdGVtOiBQbGF5bGlzdEl0ZW0pIHtcbiAgICAgICAgc3VwZXIoY29uZmlnLCBwdWJsaXNoZXIsIHBsYXlsaXN0SXRlbSwgbmV3IFNvdXJjZVNlcnZpY2VWcnQoKSk7XG5cbiAgICAgICAgdGhpcy5wcm9ncmFtbWluZ1NlcnZpY2UgPSBuZXcgUHJvZ3JhbW1pbmdTZXJ2aWNlKHRoaXMuY29uZmlnLmFnZ3JlZ2F0b3JVcmwsIHRoaXMucHVibGlzaGVyLmVycm9ySGFuZGxlcik7XG4gICAgICAgIHRoaXMuYWdncmVnYXRvclNlcnZpY2UgPSBuZXcgQWdncmVnYXRvclNlcnZpY2UoXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hZ2dyZWdhdG9yVXJsLFxuICAgICAgICAgICAgdGhpcy5jb25maWcuaWRlbnRpdHlUb2tlbixcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRybVNlcnZpY2UgPSBuZXcgRHJtU2VydmljZSgndnVkcm0nKTtcblxuICAgICAgICB0aGlzLm1lZGlhSW5mbyA9IG5ldyBQcm9taXNlPE1lZGlhSW5mbz4oYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGF3YWl0IHRoaXMuZW5yaWNoTWVkaWEoKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBlbnJpY2hNZWRpYSgpOiBQcm9taXNlPE1lZGlhSW5mbz4ge1xuICAgICAgICBjb25zdCBtZWRpYVJlZmVyZW5jZTogc3RyaW5nID0gdGhpcy5wbGF5bGlzdEl0ZW0ubWVkaWFSZWZlcmVuY2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG1lZGlhSW5mbzogTWVkaWFJbmZvID0gYXdhaXQgdGhpcy5hZ2dyZWdhdG9yU2VydmljZS5hZ2dyZWdhdGVNZWRpYShcbiAgICAgICAgICAgICAgICBtZWRpYVJlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5jbGllbnRDb2RlLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKG1lZGlhSW5mby5pc0xpdmVTdHJlYW0oKSkge1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5saXZlU2NoZWR1bGUgPSBhd2FpdCB0aGlzLnByb2dyYW1taW5nU2VydmljZS5nZXRMaXZlU2NoZWR1bGUobWVkaWFSZWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVTY2hlZHVsZUl0ZW0gPSB0aGlzLnByb2dyYW1taW5nU2VydmljZS5nZXRBY3RpdmVTY2hlZHVsZUl0ZW0obWVkaWFJbmZvLmxpdmVTY2hlZHVsZSk7XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmFuYWx5dGljc1JlZmVyZW5jZSA9IEFuYWx5dGljc1JlZmVyZW5jZUV4dHJhY3Rvci5leHRyYWN0VnJ0TGl2ZVJlZmVyZW5jZShtZWRpYVJlZmVyZW5jZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5hbmFseXRpY3NSZWZlcmVuY2UgPSBBbmFseXRpY3NSZWZlcmVuY2VFeHRyYWN0b3IuZXh0cmFjdFZydFZvZFJlZmVyZW5jZShtZWRpYVJlZmVyZW5jZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmFtbWluZ1NlcnZpY2UubWFwTWVkaWFTZWN0aW9ucyhtZWRpYUluZm8ubWVkaWFTZWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZWRpYUluZm8ub3ZlcnJpZGRlbkFzc2V0TmFtZSA9IHRoaXMuY29uZmlnLmFuYWx5dGljc0Fzc2V0TmFtZU92ZXJyaWRlXG4gICAgICAgICAgICAgICAgPyB0aGlzLmNvbmZpZy5hbmFseXRpY3NBc3NldE5hbWVPdmVycmlkZVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIG1lZGlhSW5mby5kaWdpdGFsRGF0YSA9IHRoaXMucGxheWxpc3RJdGVtLmRpZ2l0YWxEYXRhO1xuICAgICAgICAgICAgcmV0dXJuIG1lZGlhSW5mbztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGVucmljaCBtZWRpYSEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBwcmVwYXJlU291cmNlcyhtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWQge1xuICAgICAgICBjb25zdCBkcm1Db25maWc6IERSTUNvbmZpZyA9IHRoaXMuZHJtU2VydmljZS5nZW5lcmF0ZURybUNvbmZpZyhtZWRpYUluZm8uZHJtKTtcbiAgICAgICAgbWVkaWFJbmZvLnNvdXJjZXMgPSB0aGlzLnNvdXJjZVNlcnZpY2UubWFwU291cmNlcyhtZWRpYUluZm8sIGRybUNvbmZpZyk7XG4gICAgICAgIGNvbnNvbGUuZGVidWcobWVkaWFJbmZvLnNvdXJjZXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVNZWRpYUVucmljaG1lbnQocGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyLCBtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWQge1xuICAgICAgICBpZiAobWVkaWFJbmZvLmlzTGl2ZVN0cmVhbSgpKSB7XG4gICAgICAgICAgICBtZWRpYUluZm8uYWN0aXZlU2NoZWR1bGVJdGVtID0gdGhpcy5wcm9ncmFtbWluZ1NlcnZpY2UuZ2V0QWN0aXZlU2NoZWR1bGVJdGVtKG1lZGlhSW5mby5saXZlU2NoZWR1bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlSXRlbVdpdGhSZW1haW5pbmdCbG9ja0R1cmF0aW9uOiBBY3RpdmVJdGVtV2l0aFJlbWFpbmluZ0Jsb2NrRHVyYXRpb24gPSB0aGlzLnByb2dyYW1taW5nU2VydmljZS5nZXRSZW1haW5pbmdCbG9ja0R1cmF0aW9uKFxuICAgICAgICAgICAgICAgIHBhbC5wbGF5SGVhZFBvc2l0aW9uKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbSA9IGFjdGl2ZUl0ZW1XaXRoUmVtYWluaW5nQmxvY2tEdXJhdGlvbi5hY3RpdmVQbGF5bGlzdEl0ZW07XG4gICAgICAgICAgICBtZWRpYUluZm8ucmVtYWluaW5nUGxheWxpc3RJdGVtRHVyYXRpb24gPSBhY3RpdmVJdGVtV2l0aFJlbWFpbmluZ0Jsb2NrRHVyYXRpb24ucmVtYWluaW5nQmxvY2tEdXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0UHJvbW90aW9uYWxQcm9ncmVzcyhwYWwsIG1lZGlhSW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXV0b1VwZGF0ZUxpdmVTY2hlZHVsZShcbiAgICAgICAgaW50ZXJ2YWxJblNlY29uZHM6IG51bWJlcixcbiAgICAgICAgbWVkaWFJbmZvOiBNZWRpYUluZm8sXG4gICAgICAgIG9uTGl2ZVNjaGVkdWxlVXBkYXRlZD86ICgpID0+IHZvaWQsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGl2ZVNjaGVkdWxlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkTGl2ZVNjaGVkdWxlID0gYXdhaXQgdGhpcy5wcm9ncmFtbWluZ1NlcnZpY2UuZ2V0TGl2ZVNjaGVkdWxlKHRoaXMucGxheWxpc3RJdGVtLm1lZGlhUmVmZXJlbmNlKTtcblxuICAgICAgICAgICAgaWYgKHVwZGF0ZWRMaXZlU2NoZWR1bGUpIHtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8ubGl2ZVNjaGVkdWxlID0gdXBkYXRlZExpdmVTY2hlZHVsZTtcbiAgICAgICAgICAgICAgICBtZWRpYUluZm8uYWN0aXZlU2NoZWR1bGVJdGVtID0gdGhpcy5wcm9ncmFtbWluZ1NlcnZpY2UuZ2V0QWN0aXZlU2NoZWR1bGVJdGVtKG1lZGlhSW5mby5saXZlU2NoZWR1bGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9uTGl2ZVNjaGVkdWxlVXBkYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBvbkxpdmVTY2hlZHVsZVVwZGF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDAgKiBpbnRlcnZhbEluU2Vjb25kcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzVlJUKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmxpdmVTY2hlZHVsZUludGVydmFsKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRldGVjdFByb21vdGlvbmFsUHJvZ3Jlc3MocGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyLCBtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWQge1xuICAgICAgICAvL05PVEU6IFdoZW4gcGxheWluZyBhbiBhZCBmb2xsb3dlZCBieSBwcm9tb3Rpb25hbHMgdGhlcmUgaXMgYW4gaXNzdWUgd2hlcmUgYmVmb3JlIHRoZSBhZGJyZWFrIGEgcHJvbW90aW9uYWwgYnJlYWsgc3RhcnQgd2lsbCBiZSBkaXNwYXRjaGVkLlxuICAgICAgICAvL0ZvciBub3cgYSBzaXR1YXRpb24gbGlrZSB0aGlzIGlzIE5PVCBzdXBwb3J0ZWQhXG5cbiAgICAgICAgaWYgKHRoaXMuaXNBZFBsYXlpbmcocGFsLCBtZWRpYUluZm8pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0ZpcnN0UHJvbW90aW9uYWxQbGF5aW5nKG1lZGlhSW5mbykpIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2g8QWRQYXlsb2FkPihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnByb21vdGlvbmFsc3RhcnRlZCwge1xuICAgICAgICAgICAgICAgIGlkOiBtZWRpYUluZm8uYWN0aXZlUGxheWxpc3RJdGVtLml0ZW0uaW5kZXggKyAnJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUFJPTU9USU9OQUwtJyArIChtZWRpYUluZm8uYWN0aXZlUGxheWxpc3RJdGVtLml0ZW0uaW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtLmR1cmF0aW9uIC8gMTAwMCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZVVyaTogbnVsbCxcblxuICAgICAgICAgICAgICAgIGFmZmlsaWF0ZTogJ1BST01PVElPTkFMJyxcbiAgICAgICAgICAgICAgICBjYW1wYWlnbjogJ1BST01PVElPTkFMJyxcbiAgICAgICAgICAgICAgICBhZHZlcnRpc2VyOiAnUFJPTU9USU9OQUwnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc05leHRQcm9tb3Rpb25hbFBsYXlpbmcobWVkaWFJbmZvKSkge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaDxBZFBheWxvYWQ+KFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMubmV4dHByb21vdGlvbmFsc3RhcnRlZCwge1xuICAgICAgICAgICAgICAgIGlkOiBtZWRpYUluZm8uYWN0aXZlUGxheWxpc3RJdGVtLml0ZW0uaW5kZXggKyAnJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUFJPTU9USU9OQUwtJyArIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0uaXRlbS5pbmRleCxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHJlc291cmNlVXJpOiBudWxsLFxuXG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlOiAnUFJPTU9USU9OQUwnLFxuICAgICAgICAgICAgICAgIGNhbXBhaWduOiAnUFJPTU9USU9OQUwnLFxuICAgICAgICAgICAgICAgIGFkdmVydGlzZXI6ICdQUk9NT1RJT05BTCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTWFpbkNvbnRlbnRQbGF5aW5nQWZ0ZXJQcm9tb3Rpb25hbHMobWVkaWFJbmZvKSkge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnByb21vdGlvbmFsZW5kZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0FkUGxheWluZyhwYWw6IFBsYXllckFic3RyYWN0aW9uTGF5ZXIsIG1lZGlhSW5mbzogTWVkaWFJbmZvKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbSB8fCBwYWwuaXNBZFBsYXlpbmcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzRmlyc3RQcm9tb3Rpb25hbFBsYXlpbmcobWVkaWFJbmZvOiBNZWRpYUluZm8pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0udHlwZUNoYW5nZWQgJiZcbiAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0uaXRlbSAmJlxuICAgICAgICAgICAgbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtLmV2ZW50VHlwZS50b0xvd2VyQ2FzZSgpID09PSBQcm9ncmFtbWluZ1NlcnZpY2UudHlwZXMuUFJPTU9USU9OQUxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzTmV4dFByb21vdGlvbmFsUGxheWluZyhtZWRpYUluZm86IE1lZGlhSW5mbyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgIW1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0udHlwZUNoYW5nZWQgJiZcbiAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0ucHJldmlvdXNUeXBlID09PSBQcm9ncmFtbWluZ1NlcnZpY2UudHlwZXMuUFJPTU9USU9OQUwgJiZcbiAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0uaXRlbSAmJlxuICAgICAgICAgICAgbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtLmV2ZW50VHlwZS50b0xvd2VyQ2FzZSgpID09PSBQcm9ncmFtbWluZ1NlcnZpY2UudHlwZXMuUFJPTU9USU9OQUxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzTWFpbkNvbnRlbnRQbGF5aW5nQWZ0ZXJQcm9tb3Rpb25hbHMobWVkaWFJbmZvOiBNZWRpYUluZm8pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0udHlwZUNoYW5nZWQgJiZcbiAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0ucHJldmlvdXNUeXBlID09PSBQcm9ncmFtbWluZ1NlcnZpY2UudHlwZXMuUFJPTU9USU9OQUwgJiZcbiAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0uaXRlbSAmJlxuICAgICAgICAgICAgKG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0uaXRlbS5ldmVudFR5cGUudG9Mb3dlckNhc2UoKSA9PT0gUHJvZ3JhbW1pbmdTZXJ2aWNlLnR5cGVzLlNUQU5EQVJEIHx8XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtLmV2ZW50VHlwZS50b0xvd2VyQ2FzZSgpID09PSBQcm9ncmFtbWluZ1NlcnZpY2UudHlwZXMuVFJBSUxFUilcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi8uLi9tb2RlbC9jb25maWcnO1xuaW1wb3J0IHsgTWVkaWFJbmZvLCBNZWRpYVR5cGVzIH0gZnJvbSAnLi4vLi4vbW9kZWwvbWVkaWEtaW5mbyc7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuLi8uLi9wbGF5ZXIvcHVibGlzaGVyJztcbmltcG9ydCB7IEFuYWx5dGljc1JlZmVyZW5jZUV4dHJhY3RvciB9IGZyb20gJy4uL2FuYWx5dGljcy9hbmFseXRpY3MtcmVmZXJlbmNlLWV4dHJhY3Rvcic7XG5pbXBvcnQgeyBNZWRpYUVucmljaGVyIH0gZnJvbSAnLi9tZWRpYS1lbnJpY2hlcic7XG5pbXBvcnQgeyBQbGF5bGlzdEl0ZW0gfSBmcm9tICcuLi8uLi9tb2RlbC9wbGF5bGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBNZWRpYUVucmljaGVyWW91dHViZSBleHRlbmRzIE1lZGlhRW5yaWNoZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29uZmlnLCBwdWJsaXNoZXI6IFB1Ymxpc2hlciwgcGxheWxpc3RJdGVtOiBQbGF5bGlzdEl0ZW0pIHtcbiAgICAgICAgc3VwZXIoY29uZmlnLCBwdWJsaXNoZXIsIHBsYXlsaXN0SXRlbSk7XG5cbiAgICAgICAgdGhpcy5tZWRpYUluZm8gPSBuZXcgUHJvbWlzZTxNZWRpYUluZm8+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShhd2FpdCB0aGlzLmVucmljaE1lZGlhKCkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgZW5yaWNoTWVkaWEocGxheWVySW5zdGFuY2U/OiBhbnkpOiBQcm9taXNlPE1lZGlhSW5mbz4ge1xuICAgICAgICBjb25zdCBhY3R1YWxNZWRpYVJlZmVyZW5jZTogc3RyaW5nID0gQW5hbHl0aWNzUmVmZXJlbmNlRXh0cmFjdG9yLmV4dHJhY3RZb3V0dWJlUmVmZXJlbmNlKFxuICAgICAgICAgICAgdGhpcy5wbGF5bGlzdEl0ZW0ubWVkaWFSZWZlcmVuY2UsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgbWVkaWFJbmZvOiBNZWRpYUluZm8gPSBuZXcgTWVkaWFJbmZvKFxuICAgICAgICAgICAgYWN0dWFsTWVkaWFSZWZlcmVuY2UsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHRoaXMuZ2V0RHVyYXRpb24ocGxheWVySW5zdGFuY2UpLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICcnLFxuICAgICAgICAgICAgYWN0dWFsTWVkaWFSZWZlcmVuY2UsXG4gICAgICAgICAgICBNZWRpYVR5cGVzLlZPRCxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0nICsgYWN0dWFsTWVkaWFSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBhY3R1YWxNZWRpYVJlZmVyZW5jZSxcbiAgICAgICAgKTtcblxuICAgICAgICBtZWRpYUluZm8uYW5hbHl0aWNzUmVmZXJlbmNlID0gYWN0dWFsTWVkaWFSZWZlcmVuY2U7XG4gICAgICAgIG1lZGlhSW5mby5vdmVycmlkZGVuQXNzZXROYW1lID0gdGhpcy5jb25maWcuYW5hbHl0aWNzQXNzZXROYW1lT3ZlcnJpZGVcbiAgICAgICAgICAgID8gdGhpcy5jb25maWcuYW5hbHl0aWNzQXNzZXROYW1lT3ZlcnJpZGVcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgbWVkaWFJbmZvLmRpZ2l0YWxEYXRhID0gdGhpcy5wbGF5bGlzdEl0ZW0uZGlnaXRhbERhdGE7XG4gICAgICAgIHJldHVybiBtZWRpYUluZm87XG4gICAgfVxuXG4gICAgcHVibGljIGlzWW91VHViZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREdXJhdGlvbihwbGF5ZXJJbnN0YW5jZTogYW55KTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHBsYXllckluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcGxheWVySW5zdGFuY2UuZ2V0RHVyYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4uL21vZGVsL2NvbmZpZyc7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuLi9wbGF5ZXIvcHVibGlzaGVyJztcbmltcG9ydCB7IE1lZGlhRW5yaWNoZXIgfSBmcm9tICcuL21lZGlhLWVucmljaGVyL21lZGlhLWVucmljaGVyJztcbmltcG9ydCB7IE1lZGlhRW5yaWNoZXJTdGFuZGFsb25lVmlkZW8gfSBmcm9tICcuL21lZGlhLWVucmljaGVyL21lZGlhLWVucmljaGVyLXN0YW5kYWxvbmUtdmlkZW8nO1xuaW1wb3J0IHsgTWVkaWFFbnJpY2hlclZydCB9IGZyb20gJy4vbWVkaWEtZW5yaWNoZXIvbWVkaWEtZW5yaWNoZXItdnJ0JztcbmltcG9ydCB7IE1lZGlhRW5yaWNoZXJZb3V0dWJlIH0gZnJvbSAnLi9tZWRpYS1lbnJpY2hlci9tZWRpYS1lbnJpY2hlci15b3V0dWJlJztcbmltcG9ydCB7IFBsYXlsaXN0LCBQbGF5bGlzdEl0ZW0gfSBmcm9tICcuLi9tb2RlbC9wbGF5bGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBDb250ZW50RGV0ZWN0b3Ige1xuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlTWVkaWFFbnJpY2hlcihjb25maWc6IENvbmZpZywgcHVibGlzaGVyOiBQdWJsaXNoZXIsIHBsYXlsaXN0SXRlbTogUGxheWxpc3RJdGVtKTogTWVkaWFFbnJpY2hlciB7XG4gICAgICAgIGNvbnN0IG1lZGlhUmVmZXJlbmNlOiBzdHJpbmcgPSBwbGF5bGlzdEl0ZW0/Lm1lZGlhUmVmZXJlbmNlO1xuXG4gICAgICAgIGlmICghbWVkaWFSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSBNZWRpYUVucmljaGVyLCBtZWRpYVJlZmVyZW5jZSBpcyBudWxsIScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTdGFuZEFsb25lTWVkaWFSZWZlcmVuY2UobWVkaWFSZWZlcmVuY2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1lZGlhRW5yaWNoZXJTdGFuZGFsb25lVmlkZW8oY29uZmlnLCBwdWJsaXNoZXIsIHBsYXlsaXN0SXRlbSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1lvdVR1YmVNZWRpYVJlZmVyZW5jZShtZWRpYVJlZmVyZW5jZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWVkaWFFbnJpY2hlcllvdXR1YmUoY29uZmlnLCBwdWJsaXNoZXIsIHBsYXlsaXN0SXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1lZGlhRW5yaWNoZXJWcnQoY29uZmlnLCBwdWJsaXNoZXIsIHBsYXlsaXN0SXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzVnJ0TWVkaWFSZWZlcmVuY2UobWVkaWFSZWZlcmVuY2U6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbWVkaWFSZWZlcmVuY2VcbiAgICAgICAgICAgID8gIUNvbnRlbnREZXRlY3Rvci5pc1N0YW5kQWxvbmVNZWRpYVJlZmVyZW5jZShtZWRpYVJlZmVyZW5jZSkgJiZcbiAgICAgICAgICAgICAgICAgICFDb250ZW50RGV0ZWN0b3IuaXNZb3VUdWJlTWVkaWFSZWZlcmVuY2UobWVkaWFSZWZlcmVuY2UpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNTdGFuZEFsb25lTWVkaWFSZWZlcmVuY2UobWVkaWFSZWZlcmVuY2U6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIW1lZGlhUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG1lZGlhUmVmZXJlbmNlLnNlYXJjaCgnOi8vJykgPj0gMCAmJlxuICAgICAgICAgICAgKG1lZGlhUmVmZXJlbmNlLnNlYXJjaCgnLm0zdTgnKSA+PSAwIHx8XG4gICAgICAgICAgICAgICAgbWVkaWFSZWZlcmVuY2Uuc2VhcmNoKCcubXBkJykgPj0gMCB8fFxuICAgICAgICAgICAgICAgIG1lZGlhUmVmZXJlbmNlLnNlYXJjaCgnLm1wMycpID49IDAgfHxcbiAgICAgICAgICAgICAgICBtZWRpYVJlZmVyZW5jZS5zZWFyY2goJy5tcDQnKSA+PSAwKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNZb3VUdWJlTWVkaWFSZWZlcmVuY2UobWVkaWFSZWZlcmVuY2U6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIW1lZGlhUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG1lZGlhUmVmZXJlbmNlLnNlYXJjaCgneW91dHViZS5jb20vd2F0Y2gnKSA+PSAwIHx8XG4gICAgICAgICAgICBtZWRpYVJlZmVyZW5jZS5zZWFyY2goJ3lvdXR1YmUuY29tL2VtYmVkJykgPj0gMCB8fFxuICAgICAgICAgICAgbWVkaWFSZWZlcmVuY2Uuc2VhcmNoKCd5b3V0dS5iZS8nKSA+PSAwXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2YWxpZGF0ZVBsYXlsaXN0KHBsYXlsaXN0OiBQbGF5bGlzdCk6IHZvaWQge1xuICAgICAgICBpZiAoIXBsYXlsaXN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBAdHMtaWdub3JlLCBhIGhhY2sgdG8gZ2V0IHRoZSBhY3R1YWwgaXRlbXMgaW4gdGhlIHBsYXlsaXN0LCBieXBhc3NpbmcgdGhlIEFQSVxuICAgICAgICBjb25zdCBpdGVtczogc3RyaW5nW10gPSBwbGF5bGlzdC5pdGVtcztcblxuICAgICAgICBsZXQgeXRDb3VudGVyOiBudW1iZXIgPSAwO1xuICAgICAgICBsZXQgcmVnQ291bnRlcjogbnVtYmVyID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBtZWRpYVJlZmVyZW5jZSBvZiBpdGVtcykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIENvbnRlbnREZXRlY3Rvci5pc1N0YW5kQWxvbmVNZWRpYVJlZmVyZW5jZShtZWRpYVJlZmVyZW5jZSkgfHxcbiAgICAgICAgICAgICAgICBDb250ZW50RGV0ZWN0b3IuaXNWcnRNZWRpYVJlZmVyZW5jZShtZWRpYVJlZmVyZW5jZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJlZ0NvdW50ZXIrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeXRDb3VudGVyKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh5dENvdW50ZXIgPiAwICYmIHJlZ0NvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnSW52YWxpZCBwbGF5bGlzdDogYSBwbGF5bGlzdCBjYW4gb25seSBjb250YWluIG5vbiBZb3VUdWJlIGl0ZW1zIG9yIG9ubHkgWW91VHViZSBpdGVtcyEnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBZG9iZUFuYWx5dGljc1NlcnZpY2UgfSBmcm9tICcuLi9sb2dpYy9hbmFseXRpY3MvYWRvYmUtYW5hbHl0aWNzLXNlcnZpY2UnO1xuaW1wb3J0IHsgQ2ltQW5hbHl0aWNzU2VydmljZSB9IGZyb20gJy4uL2xvZ2ljL2FuYWx5dGljcy9jaW0tYW5hbHl0aWNzLXNlcnZpY2UnO1xuaW1wb3J0IHsgTWVkaWFFbnJpY2hlciB9IGZyb20gJy4uL2xvZ2ljL21lZGlhLWVucmljaGVyL21lZGlhLWVucmljaGVyJztcbmltcG9ydCB7IFBlYmJsZVNlcnZpY2UgfSBmcm9tICcuLi9sb2dpYy9wZWJibGUtc2VydmljZSc7XG5pbXBvcnQgeyBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyIH0gZnJvbSAnLi4vcGxheWVyL2Fic3RyYWN0aW9uLWxheWVyL3BsYXllci1hYnN0cmFjdGlvbi1sYXllcic7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuLi9wbGF5ZXIvcHVibGlzaGVyJztcblxuZXhwb3J0IGNsYXNzIEludGVybmFsTG9naWMge1xuICAgIHB1YmxpYyByZWFkb25seSBwdWJsaXNoZXI6IFB1Ymxpc2hlcjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IG1lZGlhRW5yaWNoZXI6IE1lZGlhRW5yaWNoZXI7XG4gICAgcHVibGljIHJlYWRvbmx5IHBlYmJsZVNlcnZpY2U6IFBlYmJsZVNlcnZpY2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyLFxuICAgICAgICBwdWJsaXNoZXI6IFB1Ymxpc2hlcixcbiAgICAgICAgbWVkaWFFbnJpY2hlcjogTWVkaWFFbnJpY2hlcixcbiAgICAgICAgcGViYmxlU2VydmljZTogUGViYmxlU2VydmljZSxcbiAgICApIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG4gICAgICAgIHRoaXMucGFsID0gcGFsO1xuXG4gICAgICAgIHRoaXMubWVkaWFFbnJpY2hlciA9IG1lZGlhRW5yaWNoZXI7XG4gICAgICAgIHRoaXMucGViYmxlU2VydmljZSA9IHBlYmJsZVNlcnZpY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIC8vRG8gYW55IGNsZWFudXAgdGhhdCBpcyByZXF1aXJlZCBoZXJlIVxuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbmFseXRpY3NXcmFwcGVyIHtcbiAgICBhZG9iZUFuYWx5dGljczogQWRvYmVBbmFseXRpY3NTZXJ2aWNlO1xuICAgIGNpbTogQ2ltQW5hbHl0aWNzU2VydmljZTtcbn1cbiIsImltcG9ydCB7IE1lZGlhSW5mbyB9IGZyb20gJy4vbWVkaWEtaW5mbyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5YmFja1N0YXRlIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvZHVjdGlvbk1vZGU6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgdGl0bGVJc0hpZGRlbjogYm9vbGVhbjtcbiAgICBwdWJsaWMgY3VycmVudFRpdGxlOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgdXBkYXRlSW50ZXJ2YWw6IG51bWJlcjtcbiAgICBwdWJsaWMgcGxheWVyRXJyb3JJblN0YXJ0dXA6IGJvb2xlYW47XG4gICAgcHVibGljIHByZXZpb3VzVm9sdW1lTGV2ZWw6IG51bWJlcjtcblxuICAgIHB1YmxpYyBtZWRpYUluZm86IE1lZGlhSW5mbztcbiAgICBwdWJsaWMgYWRJbnRlZ3JhdGlvbjogc3RyaW5nO1xuXG4gICAgcHVibGljIGNhblNraXBBZE9yUHJvbW90aW9uYWw6IGJvb2xlYW47XG4gICAgcHVibGljIG5leHRVcERpc3BhdGNoZWQ6IGJvb2xlYW47XG4gICAgcHVibGljIGNhblNlZWtEaXNwYXRjaGVkOiBib29sZWFuO1xuXG4gICAgcHVibGljIHBsYXllckRlc3Ryb3llZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHByb2R1Y3Rpb25Nb2RlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnByb2R1Y3Rpb25Nb2RlID0gcHJvZHVjdGlvbk1vZGU7XG5cbiAgICAgICAgdGhpcy50aXRsZUlzSGlkZGVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJFcnJvckluU3RhcnR1cCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubWVkaWFJbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5hZEludGVncmF0aW9uID0gbnVsbDtcblxuICAgICAgICB0aGlzLmNhblNraXBBZE9yUHJvbW90aW9uYWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5uZXh0VXBEaXNwYXRjaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuU2Vla0Rpc3BhdGNoZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnBsYXllckRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4vYnJvd3Nlci11dGlscyc7XG5cbmV4cG9ydCBjbGFzcyBDYXBhYmlsaXRpZXMge1xuICAgIHB1YmxpYyBzdGF0aWMgY2FuQ2hyb21lY2FzdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChCcm93c2VyVXRpbHMuaXNDaHJvbWUoKSB8fCBCcm93c2VyVXRpbHMuaXNBbmRyb2lkKCkpICYmICFCcm93c2VyVXRpbHMuaXNFZGdlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBjYW5BaXJwbGF5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQnJvd3NlclV0aWxzLmlzU2FmYXJpKCkgfHwgQnJvd3NlclV0aWxzLmlzSU9TKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXJyb3JDb2RlcywgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vLi4vbG9naWMvZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi8uLi9tb2RlbC9jb25maWcnO1xuaW1wb3J0IHsgUHVibGljUGxheWVyRXZlbnQgfSBmcm9tICcuLi8uLi9tb2RlbC9ldmVudGluZy9wdWJsaWMtcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBBbmFseXRpY3NXcmFwcGVyLCBJbnRlcm5hbExvZ2ljIH0gZnJvbSAnLi4vLi4vbW9kZWwvaW50ZXJuYWwtbG9naWMnO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyTWFwcGluZywgUHVibGlzaGVyIH0gZnJvbSAnLi4vcHVibGlzaGVyJztcbmltcG9ydCB7IEludGVybmFsUGxheWVyRXZlbnQgfSBmcm9tICcuLi8uLi9tb2RlbC9ldmVudGluZy9pbnRlcm5hbC1wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IFBsYXllckFic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuLi9hYnN0cmFjdGlvbi1sYXllci9wbGF5ZXItYWJzdHJhY3Rpb24tbGF5ZXInO1xuaW1wb3J0IHsgUGxheWJhY2tTdGF0ZSB9IGZyb20gJy4uLy4uL21vZGVsL3BsYXliYWNrLXN0YXRlJztcbmltcG9ydCB7IFBlYmJsZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9sb2dpYy9wZWJibGUtc2VydmljZSc7XG5pbXBvcnQgeyBQbGF5bGlzdCB9IGZyb20gJy4uLy4uL21vZGVsL3BsYXlsaXN0JztcbmltcG9ydCB7IERpZ2l0YWxEYXRhIH0gZnJvbSAnLi4vLi4vbW9kZWwvZGlnaXRhbC1kYXRhJztcbmltcG9ydCB7IENhcGFiaWxpdGllcyB9IGZyb20gJy4uLy4uL3V0aWxzL2NhcGFiaWxpdGllcyc7XG5pbXBvcnQgeyBQbGF5ZXJFdmVudCB9IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL3BsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgU291cmNlU2VydmljZSB9IGZyb20gJy4uLy4uL2xvZ2ljL3NvdXJjZS1zZXJ2aWNlL3NvdXJjZS1zZXJ2aWNlJztcbmltcG9ydCB7IE1lZGlhRW5yaWNoZXIgfSBmcm9tICcuLi8uLi9sb2dpYy9tZWRpYS1lbnJpY2hlci9tZWRpYS1lbnJpY2hlcic7XG5pbXBvcnQgeyBQcm9taXNlVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9wcm9taXNlLXV0aWxzJztcbmltcG9ydCB7IFVzZXJQcmVmZXJlbmNlcywgVXNlclByZWZlcmVuY2VzVHlwZXMgfSBmcm9tICcuLi8uLi9sb2dpYy91c2VyLXByZWZlcmVuY2VzLW1hbmFnZXInO1xuaW1wb3J0IHsgQnJvd3NlclV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvYnJvd3Nlci11dGlscyc7XG5pbXBvcnQgeyBRdWFsaXR5IH0gZnJvbSAnLi4vLi4vbW9kZWwvcXVhbGl0eSc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQbGF5YmFjayB7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbmZpZzogQ29uZmlnO1xuICAgIHByb3RlY3RlZCByZWFkb25seSBwbGF5bGlzdDogUGxheWxpc3Q7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHN0YXRlOiBQbGF5YmFja1N0YXRlO1xuXG4gICAgcHJvdGVjdGVkIGlsYzogSW50ZXJuYWxMb2dpYztcbiAgICBwcm90ZWN0ZWQgYW5hbHl0aWNzV3JhcHBlcjogQW5hbHl0aWNzV3JhcHBlcjtcblxuICAgIHByb3RlY3RlZCBldmVudEhhbmRsZXJzOiBFdmVudEhhbmRsZXJNYXBwaW5nW10gPSBbXTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgdXBkYXRlVGlja1RpbWU6IG51bWJlciA9IDEwMDtcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihjb25maWc6IENvbmZpZywgcGxheWxpc3Q6IFBsYXlsaXN0KSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnBsYXlsaXN0ID0gcGxheWxpc3Q7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgUGxheWJhY2tTdGF0ZShjb25maWcucHJvZHVjdGlvbk1vZGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBwcmVwYXJlUGxheWVyRm9yUGxheWJhY2soXG4gICAgICAgIHB1Ymxpc2hlcjogUHVibGlzaGVyLFxuICAgICAgICBwYWw6IFBsYXllckFic3RyYWN0aW9uTGF5ZXIsXG4gICAgICAgIG1lZGlhRW5yaWNoZXI6IE1lZGlhRW5yaWNoZXIsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5lcnJvcixcbiAgICAgICAgICAgIHRoaXMub25QbGF5ZXJFcnJvci5iaW5kKHRoaXMsIHB1Ymxpc2hlciksXG4gICAgICAgICk7XG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy53YXJuaW5nLFxuICAgICAgICAgICAgdGhpcy5vblBsYXllcldhcm5pbmcuYmluZCh0aGlzKSxcbiAgICAgICAgKTtcbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMucmVzZXQsXG4gICAgICAgICAgICB0aGlzLm9uUGxheWVyUmVzZXRSZXF1ZXN0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgKTtcbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMuZGVzdHJveSxcbiAgICAgICAgICAgIHRoaXMub25QbGF5ZXJEZXN0cm95UmVxdWVzdGVkLmJpbmQodGhpcyksXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5pbGMgPSBuZXcgSW50ZXJuYWxMb2dpYyhwYWwsIHB1Ymxpc2hlciwgbWVkaWFFbnJpY2hlciwgdGhpcy5zZXR1cEFkcyhwdWJsaXNoZXIsIHBhbCkpO1xuICAgICAgICB0aGlzLmlsYy5wYWwuc2V0QXV0b3BsYXkodGhpcy5jb25maWcuYXV0b3BsYXkpO1xuICAgICAgICB0aGlzLnN0YXRlLm1lZGlhSW5mbyA9IGF3YWl0IG1lZGlhRW5yaWNoZXIubWVkaWFJbmZvO1xuICAgICAgICBtZWRpYUVucmljaGVyLnByZXBhcmVTb3VyY2VzKHRoaXMuc3RhdGUubWVkaWFJbmZvKTtcbiAgICAgICAgdGhpcy5hbmFseXRpY3NXcmFwcGVyID0gdGhpcy5zZXR1cEFuYWx5dGljcyhwdWJsaXNoZXIsIHBhbCk7XG5cbiAgICAgICAgdGhpcy5tYXBBcGlDYWxscyhwdWJsaXNoZXIsIHBhbCwgbWVkaWFFbnJpY2hlci5zb3VyY2VTZXJ2aWNlKTtcblxuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVTb3VyY2VGb3JQbGF5YmFjaygpO1xuICAgICAgICBhd2FpdCB0aGlzLm1hcmtQbGF5ZXJSZWFkeUZvclBsYXliYWNrKCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXN0b3JlUGxheWJhY2soXG4gICAgICAgIHB1Ymxpc2hlcjogUHVibGlzaGVyLFxuICAgICAgICBpc0ZpcnN0UGxheWJhY2s6IGJvb2xlYW4sXG4gICAgICAgIHdhc1BsYXlpbmc6IGJvb2xlYW4sXG4gICAgICAgIHBvc2l0aW9uOiBudW1iZXIsXG4gICAgICAgIHVzZXJQcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzLFxuICAgICk6IHZvaWQge1xuICAgICAgICBwdWJsaXNoZXIuYWRkT25lVGltZVN1YnNjcmliZXIoUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wbGF5LCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodXNlclByZWZlcmVuY2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnN0YXJ0TXV0ZWRPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlsYy5wYWwuc2V0Vm9sdW1lKDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQnJvd3NlclV0aWxzLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbGMucGFsLnNldFZvbHVtZSgxKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlsYy5wYWwuc2V0Vm9sdW1lKHVzZXJQcmVmZXJlbmNlcy52b2x1bWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBxdWFsaXR5IVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBXZSBkbyBub3Qgd2FudCB0byB3YWl0IGZvciB0aGlzIHRvIGNvbXBsZXRlLCBpdCBpcyBub24gYmxvY2tpbmchXG4gICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUubWVkaWFJbmZvLmlzTGl2ZVN0cmVhbSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmlzTGl2ZVN0YXJ0T3ZlciAmJiB0aGlzLmNvbmZpZy5pc0xpdmVTdGFydE92ZXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU2Vla2luZyB0byBiZWdpbm5pbmcgZm9yIGxpdmUgc3RhcnQgb3Zlci4uLicpO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnU2Vla2luZyB0byBsaXZlIHBvaW50Li4uJyk7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gIT09IG51bGwgJiYgcG9zaXRpb24gIT09IHVuZGVmaW5lZCAmJiBwb3NpdGlvbiA+IDApIHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIuYWRkT25lVGltZVN1YnNjcmliZXIoUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy50aW1ldXBkYXRlLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1NlZWtpbmcgdG86ICcgKyBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWxjLnBhbC5zZWVrKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdhc1BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlVXRpbHMud2FpdCgxNTApO1xuICAgICAgICAgICAgICAgIHRoaXMuaWxjLnBhbC5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBzZXR1cEFkcyhwdWJsaXNoZXI6IFB1Ymxpc2hlciwgcGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyKTogUGViYmxlU2VydmljZTtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBzZXR1cEFuYWx5dGljcyhwdWJsaXNoZXI6IFB1Ymxpc2hlciwgcGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyKTogQW5hbHl0aWNzV3JhcHBlcjtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBwcmVwYXJlU291cmNlRm9yUGxheWJhY2soKTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhc3luYyBtYXJrUGxheWVyUmVhZHlGb3JQbGF5YmFjaygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5tYXJrUGxheWVyUmVhZHlGb3JQbGF5YmFja1NwZWNpZmljKCk7XG5cbiAgICAgICAgLy9UaGUgcGxheWJhY2sgaXMgdXBkYXRlZCAxMCB0aW1lcyBwZXIgc2Vjb25kIVxuICAgICAgICB0aGlzLnN0YXRlLnVwZGF0ZUludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVUaWNrLmJpbmQodGhpcywgdGhpcy5pbGMpLCB0aGlzLnVwZGF0ZVRpY2tUaW1lKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgbWFya1BsYXllclJlYWR5Rm9yUGxheWJhY2tTcGVjaWZpYygpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVRpY2soKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uOiBudW1iZXIgPSB0aGlzLmlsYy5wYWwuZ2V0RHVyYXRpb24oKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb246IG51bWJlciA9IHRoaXMuaWxjLnBhbC5wbGF5SGVhZFBvc2l0aW9uKCk7XG5cbiAgICAgICAgLy9EdXJhdGlvbiBtdXN0IGJlIGhpZ2hlciB0aGFuIDAgPT0+IFlUIGluaXRpYWxseSBsb2FkcyB3aXRoIDAgYXMgZHVyYXRpb24sIHRoaXMgaXMgcmVzb2x2ZWQgaW4gbGF0ZXIgdXBkYXRlIHRpY2tzIVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnBsYXlsaXN0Lmhhc05leHQoKSAmJlxuICAgICAgICAgICAgZHVyYXRpb24gPiAwICYmXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGR1cmF0aW9uIC0gcG9zaXRpb24pIDw9IHRoaXMuY29uZmlnLm5leHRVcERlbGF5ICYmXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5uZXh0VXBEaXNwYXRjaGVkXG4gICAgICAgICkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlsYy5wYWwuaXNBZFBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubmV4dFVwRGlzcGF0Y2hlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvL1RoZSByZW1haW5pbmcgZHVyYXRpb24gaXMgbm90IGFsd2F5cyBhdCB0aGUgY29uZmlndXJlZCB2YWx1ZSAoZS5nLjogd2hlbiB0aGUgdXNlcnMgY2xpY2tzIGluIHRoZSBjb25maWd1cmVkIG5leHQtdXAgcmFuZ2UpXG4gICAgICAgICAgICAgICAgbGV0IHJlbWFpbmluZ0R1cmF0aW9uOiBudW1iZXIgPSAxNTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUubWVkaWFJbmZvLmlzTGl2ZVN0cmVhbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0R1cmF0aW9uID0gdGhpcy5pbGMucGFsLmdldER1cmF0aW9uKCkgLSB0aGlzLmlsYy5wYWwucGxheUhlYWRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5uZXh0dXBBbm5vdW5jZWQsIHsgcmVtYWluaW5nRHVyYXRpb24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm5leHRVcERpc3BhdGNoZWQgJiZcbiAgICAgICAgICAgICghdGhpcy5wbGF5bGlzdC5oYXNOZXh0KCkgfHwgTWF0aC5yb3VuZChkdXJhdGlvbiAtIHBvc2l0aW9uKSA+IHRoaXMuY29uZmlnLm5leHRVcERlbGF5KVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubmV4dFVwRGlzcGF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5uZXh0dXByZW1vdmVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGlja1NwZWNpZmljKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHVwZGF0ZVRpY2tTcGVjaWZpYygpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIGFzeW5jIG9uUGxheWVyRXJyb3IocHVibGlzaGVyOiBQdWJsaXNoZXIsIGV2ZW50OiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXZlbnQpO1xuICAgICAgICB0aGlzLm9uUGxheWVyRXJyb3JTcGVjaWZpYyhwdWJsaXNoZXIsIGV2ZW50KTtcblxuICAgICAgICAvL0hpZGUgbm90IGxvZ2dlZCBpbiBlcnJvcnMgaW4gc2VudHJ5LCB0aGVzZSBhcmUgZnJlcXVlbnQgYW5kIG5vdCBzb21ldGhpbmcgd2UgbmVlZCB0byAnZml4JyFcbiAgICAgICAgLy9IaWRlIG5ldHdvcmsgZGlzY29ubmVjdGVkIGVycm9ycyFcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZXZlbnQuY29kZSAhPT0gRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX0VSUk9SX05PVF9BVVRIRU5USUNBVEVEICYmXG4gICAgICAgICAgICBldmVudC5jb2RlICE9PSBFcnJvckNvZGVzLlBMQVlFUl9ORVRXT1JLX0FQSV9HRU5FUkFMXG4gICAgICAgICkge1xuICAgICAgICAgICAgRXJyb3JIYW5kbGVyLmVycm9yVG9TZW50cnkoJ1BsYXllciBlcnJvcicsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvblBsYXllckVycm9yU3BlY2lmaWMocHVibGlzaGVyOiBQdWJsaXNoZXIsIGV2ZW50OiBQdWJsaWNQbGF5ZXJFdmVudDxhbnk+KTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBvblBsYXllcldhcm5pbmcoZXZlbnQ6IFB1YmxpY1BsYXllckV2ZW50PGFueT4pOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS53YXJuKCduYW1lOiAnICsgZXZlbnQubmFtZSArICcsIGNvZGU6ICcgKyBldmVudC5jb2RlICsgJywgbWVzc2FnZTogJyArIGV2ZW50Lm1lc3NhZ2UpO1xuICAgICAgICBpZiAoZXZlbnQuY29udGVudCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGV2ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgRXJyb3JIYW5kbGVyLmVycm9yVG9TZW50cnkoJ1BsYXllciB3YXJuaW5nJywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uUGxheWVyUmVzZXRSZXF1ZXN0ZWQoZXZlbnQ6IEludGVybmFsUGxheWVyRXZlbnQ8YW55Pik6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdQbGF5ZXIgcmVzZXQgcmVxdWVzdGVkLCBzdG9wcGluZyB1cGRhdGUgbG9vcCEnKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0YXRlLnVwZGF0ZUludGVydmFsKTtcblxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMuZm9yRWFjaCgodmFsdWU6IHsgZXZlbnQ6IFBsYXllckV2ZW50PGFueT47IGhhbmRsZXI6IEZ1bmN0aW9uIH0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5yZW1vdmVTdWJzY3JpYmVyKHZhbHVlLmV2ZW50LCB2YWx1ZS5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IFtdO1xuXG4gICAgICAgIHRoaXMub25QbGF5ZXJSZXNldFJlcXVlc3RlZFNwZWNpZmljKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYW5hbHl0aWNzV3JhcHBlcikge1xuICAgICAgICAgICAgdGhpcy5hbmFseXRpY3NXcmFwcGVyLmFkb2JlQW5hbHl0aWNzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuYW5hbHl0aWNzV3JhcHBlci5hZG9iZUFuYWx5dGljcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuYWx5dGljc1dyYXBwZXIuY2ltLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuYW5hbHl0aWNzV3JhcHBlci5jaW0gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSB0aW1lb3V0IGlzIG5lZWRlZCBiZWNhdXNlIGFueSBjYWxsYmFja3MgY291bGQgc3RpbGwgYmUgZXhlY3V0aW5nIGFuZCBjbGVhcmluZyB0aGUgSUxDIGNhbiBjYXVzZSBpc3N1ZXMhXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbGMuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5pbGMgPSBudWxsO1xuICAgICAgICB9LCB0aGlzLnVwZGF0ZVRpY2tUaW1lKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25QbGF5ZXJSZXNldFJlcXVlc3RlZFNwZWNpZmljKCk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgb25QbGF5ZXJEZXN0cm95UmVxdWVzdGVkKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PGFueT4pOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnUGxheWVyIGRlc3Ryb3kgcmVxdWVzdGVkLCBzdG9wcGluZyB1cGRhdGUgbG9vcCEnKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0YXRlLnVwZGF0ZUludGVydmFsKTtcbiAgICAgICAgdGhpcy5pbGMucGFsLnJlbGVhc2VQbGF5ZXJSZXNvdXJjZXMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hcEFwaUNhbGxzKHB1Ymxpc2hlcjogUHVibGlzaGVyLCBwYWw6IFBsYXllckFic3RyYWN0aW9uTGF5ZXIsIHNvdXJjZVNlcnZpY2U6IFNvdXJjZVNlcnZpY2UpOiB2b2lkIHtcbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5kZXN0cm95QXBpQ2FsbCwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnBsYXllckRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIHBhbC5vblBsYXllckRlc3Ryb3lSZXF1ZXN0ZWQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnBsYXllckRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1BsYXllciBhbHJlYWR5IGRlc3Ryb3llZCEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vUHJvcGVydGllc1xuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5tdXRlQXBpQ2FsbFNldCxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8Ym9vbGVhbj4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnByZXZpb3VzVm9sdW1lTGV2ZWwgPSBwYWwuZ2V0Vm9sdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHBhbC5zZXRWb2x1bWUoMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFsLnNldFZvbHVtZSh0aGlzLnN0YXRlLnByZXZpb3VzVm9sdW1lTGV2ZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMudXBkYXRlVXNlclByZWZlcmVuY2VzLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFVzZXJQcmVmZXJlbmNlc1R5cGVzLlZPTFVNRSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhbC5nZXRWb2x1bWUoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5tdXRlQXBpQ2FsbEdldCwgKCkgPT4ge1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMubXV0ZUFwaUNhbGxHZXRSZXR1cm4sIHBhbC5nZXRWb2x1bWUoKSA9PT0gMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMudm9sdW1lQXBpQ2FsbFNldCxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8bnVtYmVyPikgPT4ge1xuICAgICAgICAgICAgICAgIHBhbC5zZXRWb2x1bWUoZXZlbnQuY29udGVudCk7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnVwZGF0ZVVzZXJQcmVmZXJlbmNlcywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBVc2VyUHJlZmVyZW5jZXNUeXBlcy5WT0xVTUUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYWwuZ2V0Vm9sdW1lKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMudm9sdW1lQXBpQ2FsbEdldCwgKCkgPT4ge1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMudm9sdW1lQXBpQ2FsbEdldFJldHVybiwgcGFsLmdldFZvbHVtZSgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5kdXJhdGlvbkFwaUNhbGxHZXQsICgpID0+IHtcbiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmR1cmF0aW9uQXBpQ2FsbEdldFJldHVybiwgcGFsLmdldER1cmF0aW9uKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmN1cnJlbnRUaW1lQXBpQ2FsbFNldCxcbiAgICAgICAgICAgIChldmVudDogUGxheWVyRXZlbnQ8bnVtYmVyPikgPT4ge1xuICAgICAgICAgICAgICAgIHBhbC5zZWVrKGV2ZW50LmNvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBicmVha3MgVlJUTlUgYW5kIG5lZWRzIHRvIGJlIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGUgcmVzdG9yZSBvZiBwbGF5YmFjayBpcyBkaXNhYmxlZCB3aGVuIHByb21vcy90cmFpbGVycyBhcmUgYWRkZWQsIHBvdGVudGlhbCBmaXggaXMgdG8gb25seSBkaXNhbGxvdyBzZWVraW5nIHdpdGggcmVhbCBhZHNcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGUgcmVhbFNlZWtUaW1lIHNlZW1zIHRvIGJlIGNvcnJlY3Qgb24gb3VyIHNpZGUgYnV0IHRoZSB0aW1lIHdlIGFyZSBnaXZlbiBieSB0aGUgYXBpIGNhbGxlciBzZWVtcyB0byBiZSB3cm9uZywgdGhleSBzZWVtIHRvIGJlIGNvdW50aW5nIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSB2aWRlbywgbm90IHRoZSBtYWluIGNvbnRlbnQhXG4gICAgICAgICAgICAgICAgLyppZiAodGhpcy5zdGF0ZS5jYW5TZWVrRGlzcGF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHBhbC5zZWVrKHRoaXMuc3RhdGUubWVkaWFJbmZvLmdldFJlYWxTZWVrVGltZShldmVudC5jb250ZW50KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0Nhbm5vdCBzZWVrIGJlZm9yZSBtYWluIGNvbnRlbnQgaGFzIHN0YXJ0ZWQhJyk7XG4gICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5jdXJyZW50VGltZUFwaUNhbGxHZXQsICgpID0+IHtcbiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmN1cnJlbnRUaW1lQXBpQ2FsbEdldFJldHVybiwgcGFsLnBsYXlIZWFkUG9zaXRpb24oKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY3VycmVudERhdGVUaW1lQXBpQ2FsbEdldCxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChcbiAgICAgICAgICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY3VycmVudERhdGVUaW1lQXBpQ2FsbEdldFJldHVybixcbiAgICAgICAgICAgICAgICAgICAgcGFsLnBsYXlIZWFkRGF0ZVRpbWVQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMucGF1c2VkQXBpQ2FsbEdldCwgKCkgPT4ge1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMucGF1c2VkQXBpQ2FsbEdldFJldHVybiwgcGFsLmlzUGF1c2VkKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmxvb3BBcGlDYWxsU2V0LFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxib29sZWFuPikgPT4ge1xuICAgICAgICAgICAgICAgIHBhbC5zZXRMb29wKGV2ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmxvb3BBcGlDYWxsR2V0LCAoKSA9PiB7XG4gICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5sb29wQXBpQ2FsbEdldFJldHVybiwgcGFsLmlzTG9vcGluZygpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5jdXJyZW50U3JjQXBpQ2FsbEdldCwgKCkgPT4ge1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goXG4gICAgICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY3VycmVudFNyY0FwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5tZWRpYUluZm8uY3VycmVudFNvdXJjZS5nZXRTb3VyY2UoKS5zcmMsXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmN1cnJlbnRNZWRpYVJlZmVyZW5jZUFwaUNhbGxHZXQsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goXG4gICAgICAgICAgICAgICAgICAgIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmN1cnJlbnRNZWRpYVJlZmVyZW5jZUFwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubWVkaWFJbmZvLm1lZGlhUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuc3JjQXBpQ2FsbFNldCxcbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICBldmVudDogUGxheWVyRXZlbnQ8XG4gICAgICAgICAgICAgICAgICAgIHwgKHN0cmluZyB8IHN0cmluZ1tdKVxuICAgICAgICAgICAgICAgICAgICB8IHsgbmV3U291cmNlczogc3RyaW5nIHwgc3RyaW5nW107IG5ld0RpZ2l0YWxEYXRhczogRGlnaXRhbERhdGEgfCBEaWdpdGFsRGF0YVtdIH1cbiAgICAgICAgICAgICAgICA+LFxuICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnQuY29udGVudCkgfHwgZXZlbnQuY29udGVudC5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5tZWRpYVJlZmVyZW5jZUNoYW5nZWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld01lZGlhUmVmZXJlbmNlczogZXZlbnQuY29udGVudCBhcyBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RpZ2l0YWxEYXRhczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLm1lZGlhUmVmZXJlbmNlQ2hhbmdlZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWVkaWFSZWZlcmVuY2VzOiAoZXZlbnQuY29udGVudCBhcyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U291cmNlczogc3RyaW5nIHwgc3RyaW5nW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGlnaXRhbERhdGFzOiBEaWdpdGFsRGF0YSB8IERpZ2l0YWxEYXRhW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5uZXdTb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGlnaXRhbERhdGFzOiAoZXZlbnQuY29udGVudCBhcyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U291cmNlczogc3RyaW5nIHwgc3RyaW5nW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGlnaXRhbERhdGFzOiBEaWdpdGFsRGF0YSB8IERpZ2l0YWxEYXRhW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5uZXdEaWdpdGFsRGF0YXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5zcmNBcGlDYWxsR2V0LCAoKSA9PiB7XG4gICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChcbiAgICAgICAgICAgICAgICBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5zcmNBcGlDYWxsR2V0UmV0dXJuLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubWVkaWFJbmZvLmN1cnJlbnRTb3VyY2UuZ2V0U291cmNlKCkuc3JjLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5zZWVrYWJsZUFwaUNhbGxHZXQsICgpID0+IHtcbiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnNlZWthYmxlQXBpQ2FsbEdldFJldHVybiwgcGFsLmdldFNlZWthYmxlUmFuZ2VzKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmhhc1BsYXllZEFwaUNhbGxHZXQsICgpID0+IHtcbiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmhhc1BsYXllZEFwaUNhbGxHZXRSZXR1cm4sIHBhbC5oYXNQbGF5ZWQoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY29udHJvbHNBcGlDYWxsU2V0LFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxib29sZWFuPikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhbC5lbmFibGVJbnRlcmZhY2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYWwuZGlzYWJsZUludGVyZmFjZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5jb250cm9sc0FwaUNhbGxHZXQsICgpID0+IHtcbiAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmNvbnRyb2xzQXBpQ2FsbEdldFJldHVybiwgcGFsLmlzSW50ZXJmYWNlRW5hYmxlZCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5wbGF5bGlzdFNpemVBcGlDYWxsR2V0LCAoKSA9PiB7XG4gICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5wbGF5bGlzdFNpemVBcGlDYWxsR2V0UmV0dXJuLCB0aGlzLnBsYXlsaXN0Lmxlbmd0aCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5jdXJyZW50UGxheWxpc3RJdGVtQXBpQ2FsbEdldCxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5jdXJyZW50UGxheWxpc3RJdGVtQXBpQ2FsbEdldFJldHVybiwgdGhpcy5wbGF5bGlzdC5jdXJyZW50KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmFjdGl2ZVN1YnRpdGxlc0FwaUNhbGxHZXQsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuYWN0aXZlU3VidGl0bGVzQXBpQ2FsbEdldFJldHVybiwgcGFsLmdldEFjdGl2ZVN1YnMoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuYXZhaWxhYmxlUXVhbGl0aWVzQXBpQ2FsbEdldCxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChcbiAgICAgICAgICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuYXZhaWxhYmxlUXVhbGl0aWVzQXBpQ2FsbEdldFJldHVybixcbiAgICAgICAgICAgICAgICAgICAgcGFsLmdldEF2YWlsYWJsZVF1YWxpdGllcygpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuYXV0b3BsYXlBcGlDYWxsR2V0LCAoKSA9PiB7XG4gICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5hdXRvcGxheUFwaUNhbGxHZXRSZXR1cm4sIHBhbC5nZXRBdXRvcGxheSgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5hdXRvcGxheUFwaUNhbGxTZXQsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PGJvb2xlYW4+KSA9PiB7XG4gICAgICAgICAgICAgICAgcGFsLnNldEF1dG9wbGF5KGV2ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy9NZXRob2RzXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnBsYXlBcGlDYWxsLCAoKSA9PiB7XG4gICAgICAgICAgICBwYWwucGxheSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnBhdXNlQXBpQ2FsbCwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFwYWwuaXNQYXVzZWQoKSkge1xuICAgICAgICAgICAgICAgIHBhbC5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnRvZ2dsZVBsYXlBcGlDYWxsLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFsLmlzUGF1c2VkKCkpIHtcbiAgICAgICAgICAgICAgICBwYWwucGxheSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWwucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5za2lwQWRBcGlDYWxsLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYW5Ta2lwQWRPclByb21vdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhbC5pc0FkUGxheWluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhbC5za2lwQWQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYW5Ta2lwQWRPclByb21vdGlvbmFsICYmIHRoaXMuc3RhdGUubWVkaWFJbmZvLnJlbWFpbmluZ1BsYXlsaXN0SXRlbUR1cmF0aW9uID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbC5za2lwUHJvbW90aW9uYWwodGhpcy5zdGF0ZS5tZWRpYUluZm8ucmVtYWluaW5nUGxheWxpc3RJdGVtRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnRvZ2dsZUNhc3RBcGlDYWxsLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBhbC5pc0Nhc3RpbmcoKSkge1xuICAgICAgICAgICAgICAgIGlmIChDYXBhYmlsaXRpZXMuY2FuQ2hyb21lY2FzdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhbC5zdGFydENhc3QoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKENhcGFiaWxpdGllcy5jYW5BaXJwbGF5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFsLnN0YXJ0QWlycGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKENhcGFiaWxpdGllcy5jYW5DaHJvbWVjYXN0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFsLnN0b3BDYXN0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChDYXBhYmlsaXRpZXMuY2FuQWlycGxheSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhbC5zdG9wQWlycGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudEhhbmRsZXJzLCBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy50b2dnbGVNdXRlQXBpQ2FsbCwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhbC5nZXRWb2x1bWUoKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVm9sdW1lOiBudW1iZXIgPSB0aGlzLnN0YXRlLnByZXZpb3VzVm9sdW1lTGV2ZWw7XG4gICAgICAgICAgICAgICAgcGFsLnNldFZvbHVtZShwcmV2aW91c1ZvbHVtZSA/IHByZXZpb3VzVm9sdW1lIDogMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVm9sdW1lOiBudW1iZXIgPSBwYWwuZ2V0Vm9sdW1lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wcmV2aW91c1ZvbHVtZUxldmVsID0gaXNOYU4ocHJldmlvdXNWb2x1bWUpID8gMSA6IHByZXZpb3VzVm9sdW1lO1xuICAgICAgICAgICAgICAgIHBhbC5zZXRWb2x1bWUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMucmV3aW5kU2Vjb25kc0FwaUNhbGwsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PG51bWJlcj4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYW5TZWVrRGlzcGF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWluQ29udGVudFN0YXJ0OiBudW1iZXIgPSB0aGlzLnN0YXRlLm1lZGlhSW5mby5nZXRSZWFsU2Vla1RpbWUoMCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWVrVG86IG51bWJlciA9IHBhbC5wbGF5SGVhZFBvc2l0aW9uKCkgLSBldmVudC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICBzZWVrVG8gPSBzZWVrVG8gPCBtYWluQ29udGVudFN0YXJ0ID8gbWFpbkNvbnRlbnRTdGFydCA6IHNlZWtUbztcbiAgICAgICAgICAgICAgICAgICAgcGFsLnNlZWsoc2Vla1RvKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdDYW5ub3Qgc2VlayBiZWZvcmUgbWFpbiBjb250ZW50IGhhcyBzdGFydGVkIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5mYXN0U2Vla0FwaUNhbGwsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PG51bWJlcj4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYW5TZWVrRGlzcGF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBwYWwuc2Vlayh0aGlzLnN0YXRlLm1lZGlhSW5mby5nZXRSZWFsU2Vla1RpbWUoZXZlbnQuY29udGVudCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0Nhbm5vdCBzZWVrIGJlZm9yZSBtYWluIGNvbnRlbnQgaGFzIHN0YXJ0ZWQhJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmxpdmVTdGFydE92ZXJBcGlDYWxsLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdQZXJmb3JtaW5nIGxpdmUgc3RhcnRvdmVyIScpO1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5zdGFydG92ZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnRvZ2dsZVN1YnRpdGxlc0FwaUNhbGwsICgpID0+IHtcbiAgICAgICAgICAgIHBhbC50b2dnbGVTdWJzKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMudG9nZ2xlRnVsbHNjcmVlbkFwaUNhbGwsICgpID0+IHtcbiAgICAgICAgICAgIHBhbC50b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuZGlzYWJsZUludGVyZmFjZUFwaUNhbGwsICgpID0+IHtcbiAgICAgICAgICAgIHBhbC5kaXNhYmxlSW50ZXJmYWNlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRIYW5kbGVycywgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuZW5hYmxlSW50ZXJmYWNlQXBpQ2FsbCwgKCkgPT4ge1xuICAgICAgICAgICAgcGFsLmVuYWJsZUludGVyZmFjZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnRocm93RXJyb3JBcGlDYWxsLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDx7IG1lc3NhZ2U6IHN0cmluZzsgY29udGVudD86IGFueSB9PikgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEVycm9yQ29kZXMuR0VORVJJQ19FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY29udGVudC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBldmVudC5jb250ZW50LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5zaG93VGl0bGVBcGlDYWxsLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxib29sZWFuPikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudGl0bGVJc0hpZGRlbiA9ICFldmVudC5jb250ZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLm5leHRBcGlDYWxsLCAoKSA9PiB7XG4gICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLm5leHRzb3VyY2VyZXF1ZXN0ZWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50SGFuZGxlcnMsIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnByZXZpb3VzQXBpQ2FsbCwgKCkgPT4ge1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wcmV2aW91c3NvdXJjZXJlcXVlc3RlZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuZ290b0FwaUNhbGwsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PG51bWJlciB8IHN0cmluZz4pID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMucGxheWxpc3RTb3VyY2VSZXF1ZXN0ZWQsIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlzTmFOKGV2ZW50LmNvbnRlbnQgYXMgYW55KSA/IG51bGwgOiBldmVudC5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBtZWRpYVJlZmVyZW5jZTogaXNOYU4oZXZlbnQuY29udGVudCBhcyBhbnkpID8gZXZlbnQuY29udGVudCA6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuYWRkVG9QbGF5bGlzdEFwaUNhbGwsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PHsgbWVkaWFSZWZlcmVuY2U6IHN0cmluZzsgZGlnaXRhbERhdGE/OiBEaWdpdGFsRGF0YSB9PikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWxpc3QuYXBwZW5kKGV2ZW50LmNvbnRlbnQubWVkaWFSZWZlcmVuY2UsIGV2ZW50LmNvbnRlbnQuZGlnaXRhbERhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnNldFF1YWxpdHlBcGlDYWxsLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxRdWFsaXR5PikgPT4ge1xuICAgICAgICAgICAgICAgIHBhbC5zZXRRdWFsaXR5KGV2ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBZG9iZUFuYWx5dGljc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9sb2dpYy9hbmFseXRpY3MvYWRvYmUtYW5hbHl0aWNzLXNlcnZpY2UnO1xuaW1wb3J0IHsgQ2ltQW5hbHl0aWNzU2VydmljZSB9IGZyb20gJy4uLy4uL2xvZ2ljL2FuYWx5dGljcy9jaW0tYW5hbHl0aWNzLXNlcnZpY2UnO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi4vLi4vbW9kZWwvY29uZmlnJztcbmltcG9ydCB7IFB1YmxpY1BsYXllckV2ZW50IH0gZnJvbSAnLi4vLi4vbW9kZWwvZXZlbnRpbmcvcHVibGljLXBsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgUGxheWJhY2sgfSBmcm9tICcuL3BsYXliYWNrJztcbmltcG9ydCB7IFBlYmJsZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9sb2dpYy9wZWJibGUtc2VydmljZSc7XG5pbXBvcnQgeyBBbmFseXRpY3NXcmFwcGVyIH0gZnJvbSAnLi4vLi4vbW9kZWwvaW50ZXJuYWwtbG9naWMnO1xuaW1wb3J0IHsgUHVibGlzaGVyIH0gZnJvbSAnLi4vcHVibGlzaGVyJztcbmltcG9ydCB7IFBsYXllckFic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuLi9hYnN0cmFjdGlvbi1sYXllci9wbGF5ZXItYWJzdHJhY3Rpb24tbGF5ZXInO1xuaW1wb3J0IHsgUGxheWxpc3QgfSBmcm9tICcuLi8uLi9tb2RlbC9wbGF5bGlzdCc7XG5pbXBvcnQgeyBQbGF5ZXJFdmVudCB9IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL3BsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgTWVkaWFJbmZvIH0gZnJvbSAnLi4vLi4vbW9kZWwvbWVkaWEtaW5mbyc7XG5pbXBvcnQgeyBFcnJvckNvZGVzIH0gZnJvbSAnLi4vLi4vbG9naWMvZXJyb3ItaGFuZGxlcic7XG5cbmV4cG9ydCBjbGFzcyBZb3V0dWJlUGxheWJhY2sgZXh0ZW5kcyBQbGF5YmFjayB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbmZpZzogQ29uZmlnLCBwbGF5bGlzdDogUGxheWxpc3QpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnLCBwbGF5bGlzdCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldHVwQWRzKHB1Ymxpc2hlcjogUHVibGlzaGVyLCBwYWw6IFBsYXllckFic3RyYWN0aW9uTGF5ZXIpOiBQZWJibGVTZXJ2aWNlIHtcbiAgICAgICAgLy9Ob3Qgc3VwcG9ydGVkIVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0dXBBbmFseXRpY3MocHVibGlzaGVyOiBQdWJsaXNoZXIsIHBhbDogUGxheWVyQWJzdHJhY3Rpb25MYXllcik6IEFuYWx5dGljc1dyYXBwZXIge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRvYmVBbmFseXRpY3M6IG5ldyBBZG9iZUFuYWx5dGljc1NlcnZpY2UodGhpcy5jb25maWcucGxheWVyTW9kZSwgcGFsLCB0aGlzLnN0YXRlLm1lZGlhSW5mbywgcHVibGlzaGVyKSxcbiAgICAgICAgICAgIGNpbTogbmV3IENpbUFuYWx5dGljc1NlcnZpY2UoXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcucGxheWVyTW9kZSxcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5jb250YWluZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgIHBhbCxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm1lZGlhSW5mbyxcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuY2ltSWQsXG4gICAgICAgICAgICApLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBwcmVwYXJlU291cmNlRm9yUGxheWJhY2soKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaWxjLnBhbC5zZXRTb3VyY2UodGhpcy5zdGF0ZS5tZWRpYUluZm8pO1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdZb3VUdWJlIHZpZGVvIHBsYXllciByZWFkeSEnKTtcblxuICAgICAgICAvL1lvdXR1YmUgcGxheWVyIGNhbiBiZSBjb250cm9sbGVkIHRocm91Z2ggb3VyIGFic3RyYWN0aW9uIGxheWVyIVxuICAgICAgICAvL2lsYy5wYWwucGxheSgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBtYXJrUGxheWVyUmVhZHlGb3JQbGF5YmFja1NwZWNpZmljKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmlsYy5wdWJsaXNoZXIuYWRkUmVtb3ZhYmxlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyxcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuc3RhcnRvdmVyLFxuICAgICAgICAgICAgdGhpcy5vblN0YXJ0T3Zlci5iaW5kKHRoaXMpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVUaWNrU3BlY2lmaWMoKTogdm9pZCB7XG4gICAgICAgIC8vTm90IG5lZWRlZCFcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25QbGF5ZXJFcnJvclNwZWNpZmljKHB1Ymxpc2hlcjogUHVibGlzaGVyLCBldmVudDogUHVibGljUGxheWVyRXZlbnQ8YW55Pik6IHZvaWQge1xuICAgICAgICAvL05vdCBuZWVkZWRcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25QbGF5ZXJSZXNldFJlcXVlc3RlZFNwZWNpZmljKCk6IHZvaWQge1xuICAgICAgICAvL05vdCBuZWVkZWRcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uU3RhcnRPdmVyKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuaWxjLnBhbC5zZWVrKDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFF1YWxpdHkgfSBmcm9tICcuL3F1YWxpdHknO1xuXG5leHBvcnQgY2xhc3MgQXVkaW9RdWFsaXR5IGV4dGVuZHMgUXVhbGl0eSB7XG4gICAgcHVibGljIHNhbXBsZVJhdGU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGJhbmR3aWR0aDogbnVtYmVyLCBzYW1wbGVSYXRlOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoYmFuZHdpZHRoKTtcblxuICAgICAgICB0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBUaW1lVXRpbHMge1xuICAgIHB1YmxpYyBzdGF0aWMgc3RyaW5nVG9TZWNvbmRzKGlucHV0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICBpZiAoaW5wdXQgJiYgaW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcGllY2VzOiBzdHJpbmdbXSA9IGlucHV0LnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICBwaWVjZXMucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICBsZXQgdG90YWxUaW1lSW5TZWNvbmRzID0gcGFyc2VJbnQocGllY2VzWzBdLCAxMCk7XG4gICAgICAgICAgICBpZiAocGllY2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0b3RhbFRpbWVJblNlY29uZHMgKz0gcGFyc2VJbnQocGllY2VzWzFdLCAxMCkgKiA2MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaWVjZXMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIHRvdGFsVGltZUluU2Vjb25kcyArPSBwYXJzZUludChwaWVjZXNbMl0sIDEwKSAqIDM2MDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL0lnbm9yZSBtb3JlIHRoYW4gMyBzZWN0aW9ucyAob25seTogSEg6TU06U1Mgb3IgTU06U1Mgb3IgU1MpXG4gICAgICAgICAgICByZXR1cm4gdG90YWxUaW1lSW5TZWNvbmRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQnJvd3NlclV0aWxzIH0gZnJvbSAnLi9icm93c2VyLXV0aWxzJztcbmltcG9ydCB7IFRpbWVVdGlscyB9IGZyb20gJy4vdGltZS11dGlscyc7XG5cbmV4cG9ydCBjbGFzcyBBY2Nlc3NpYmlsaXR5VXRpbHMge1xuICAgIC8vVG9vbHRpcHMgYXJlIHVzaW5nOiBodHRwczovL2F0b21pa3MuZ2l0aHViLmlvL3RpcHB5anMvXG4gICAgLy9UaGUgdmFsdWUgZm9yIHRoZSB0b29sdGlwIGlzIGRlcml2ZWQgZnJvbSB0aGUgYXJpYS1sYWJlbCBhdHRyaWJ1dGUhXG5cbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyVG9vbHRpcChyZWZlcmVuY2U6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuYm9keSk6IHZvaWQge1xuICAgICAgICBjb25zdCB3OiBhbnkgPSB3aW5kb3cgYXMgYW55O1xuXG4gICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNNb2JpbGVPclRhYmxldCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAody50aXBweSkge1xuICAgICAgICAgICAgdy50aXBweShyZWZlcmVuY2UsIHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiByZWZlcmVuY2UuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyksXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IFs1MDAsIDBdLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ2ZhZGUnLFxuICAgICAgICAgICAgICAgIGFycm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0YXJnZXQuY2hpbGRyZW5bMF0sXG4gICAgICAgICAgICAgICAgZmxpcE9uVXBkYXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBvcHBlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RyYXRlZ3k6ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0QXhpczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRldGhlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblNob3coKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNJT1MoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdDYW5ub3QgY3JlYXRlIHRvb2x0aXAsIFRpcHB5IG5vdCBsb2FkZWQhJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyVG9vbHRpcHMoZWxlbWVudHM6IEhUTUxFbGVtZW50W10sIHRhcmdldDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5ib2R5KTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVG9vbHRpcChlbGVtZW50LCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB1cGRhdGVBcmlhQW5kVG9vbHRpcChyZWZlcmVuY2U6IEhUTUxFbGVtZW50LCBuZXdBcmlhVGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChyZWZlcmVuY2UgJiYgKHJlZmVyZW5jZSBhcyBhbnkpLl90aXBweSkge1xuICAgICAgICAgICAgcmVmZXJlbmNlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIG5ld0FyaWFUZXh0KTtcbiAgICAgICAgICAgIChyZWZlcmVuY2UgYXMgYW55KS5fdGlwcHkuc2V0Q29udGVudChuZXdBcmlhVGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGVuYWJsZVRvb2x0aXBIaWRlT25FU0NQcmVzcyhyZWZlcmVuY2U6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGlmIChyZWZlcmVuY2UpIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZS5vbmtleWRvd24gPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVBbGxUb29sdGlwcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGFkanVzdEFsbFN2Z0VsZW1lbnRzRm9yQWNjZXNzaWJpbGl0eShyb290RWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc3ZnczogU1ZHU1ZHRWxlbWVudFtdID0gQXJyYXkuZnJvbShyb290RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJykpO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc3ZnIG9mIHN2Z3MpIHtcbiAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCdmb2N1c2FibGUnLCAnZmFsc2UnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZW5hYmxlVGltZUVudHJ5T25Gb2N1cyhcbiAgICAgICAgdGFyZ2V0OiBIVE1MRWxlbWVudCxcbiAgICAgICAgY2FsbGJhY2s6IChkdXJhdGlvbkluU2Vjb25kczogbnVtYmVyKSA9PiB2b2lkLFxuICAgICAgICBleGl0S2V5OiBzdHJpbmcgPSAnRW50ZXInLFxuICAgICk6IHZvaWQge1xuICAgICAgICB0YXJnZXQub25mb2N1cyA9IChldmVudDogRm9jdXNFdmVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSAnJztcblxuICAgICAgICAgICAgdGFyZ2V0Lm9ua2V5cHJlc3MgPSAoZXZ0OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGV2dC5rZXkgPT09IGV4aXRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Lm9uYmx1ciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5vbmtleWRvd24gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKFRpbWVVdGlscy5zdHJpbmdUb1NlY29uZHMobGluZSkpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldnQua2V5LnNlYXJjaCgvKFswLTldfDopKy9nKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gZXZ0LmtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRhcmdldC5vbmJsdXIgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0YXJnZXQub25rZXlkb3duID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGhpZGVBbGxUb29sdGlwcygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdzogYW55ID0gd2luZG93IGFzIGFueTtcbiAgICAgICAgdy50aXBweS5oaWRlQWxsKCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIERvbVV0aWxzIHtcbiAgICAvL05vIG5lZWQgZm9yIGNhY2hpbmcgbWVjaGFuaXNtIVxuICAgIC8vaHR0cHM6Ly9nb21ha2V0aGluZ3MuY29tL2phdmFzY3JpcHQtc2VsZWN0b3ItcGVyZm9ybWFuY2UvXG5cbiAgICBwdWJsaWMgc3RhdGljIHNldFZpc2libGUoZWxlbWVudDogSFRNTEVsZW1lbnQsIHZpc2libGU6IGJvb2xlYW4sIHN0eWxlOiBzdHJpbmcgPSAndmlzaWJpbGl0eScpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdmFsdWVzOiBTdHlsZVZhbHVlcyA9IERvbVV0aWxzLmdldFN0eWxlVmFsdWVzKHN0eWxlKTtcblxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHZhbHVlcy5wcm9wZXJ0eSwgdmFsdWVzLnZpc2libGVTdHlsZSwgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHZhbHVlcy5wcm9wZXJ0eSwgdmFsdWVzLmludmlzaWJsZVN0eWxlLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHRvZ2dsZVZpc2libGUoZWxlbWVudDogSFRNTEVsZW1lbnQsIHN0eWxlOiBzdHJpbmcgPSAndmlzaWJpbGl0eScpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdmFsdWVzOiBTdHlsZVZhbHVlcyA9IERvbVV0aWxzLmdldFN0eWxlVmFsdWVzKHN0eWxlKTtcblxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWU6IHN0cmluZyA9IGVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh2YWx1ZXMucHJvcGVydHkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB2YWx1ZXMudmlzaWJsZVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSh2YWx1ZXMucHJvcGVydHksIHZhbHVlcy5pbnZpc2libGVTdHlsZSwgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHZhbHVlcy5wcm9wZXJ0eSwgdmFsdWVzLnZpc2libGVTdHlsZSwgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc1Zpc2libGUoZWxlbWVudDogSFRNTEVsZW1lbnQsIHN0eWxlOiBzdHJpbmcgPSAndmlzaWJpbGl0eScpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgdmFsdWVzOiBTdHlsZVZhbHVlcyA9IERvbVV0aWxzLmdldFN0eWxlVmFsdWVzKHN0eWxlKTtcblxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh2YWx1ZXMucHJvcGVydHkpID09PSB2YWx1ZXMudmlzaWJsZVN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGluc2VydEJlZm9yZShlbGVtZW50VG9JbnNlcnQ6IEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEVsZW1lbnQpOiBFbGVtZW50IHtcbiAgICAgICAgaWYgKGVsZW1lbnRUb0luc2VydCAmJiB0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50LnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGVsZW1lbnRUb0luc2VydCwgdGFyZ2V0RWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudFRvSW5zZXJ0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgc2V0T3JkZXJPbkVsZW1lbnRzKHN0YXJ0OiBudW1iZXIsIC4uLmVsZW1lbnRzOiBIVE1MRWxlbWVudFtdKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm9yZGVyID0gJycgKyBzdGFydCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBzZXRUYWJJbmRleE9uRWxlbWVudHMoLi4uZWxlbWVudHM6IEhUTUxFbGVtZW50W10pOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U3R5bGVWYWx1ZXMoc3R5bGU6IHN0cmluZyk6IFN0eWxlVmFsdWVzIHtcbiAgICAgICAgbGV0IHZpc2libGVQcm9wZXJ0eTogc3RyaW5nO1xuICAgICAgICBsZXQgdmlzaWJsZVN0eWxlOiBzdHJpbmc7XG4gICAgICAgIGxldCBpbnZpc2libGVTdHlsZTogc3RyaW5nO1xuXG4gICAgICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Zpc2liaWxpdHknOlxuICAgICAgICAgICAgICAgIHZpc2libGVQcm9wZXJ0eSA9ICd2aXNpYmlsaXR5JztcbiAgICAgICAgICAgICAgICB2aXNpYmxlU3R5bGUgPSAndmlzaWJsZSc7XG4gICAgICAgICAgICAgICAgaW52aXNpYmxlU3R5bGUgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Rpc3BsYXktYmxvY2snOlxuICAgICAgICAgICAgICAgIHZpc2libGVQcm9wZXJ0eSA9ICdkaXNwbGF5JztcbiAgICAgICAgICAgICAgICB2aXNpYmxlU3R5bGUgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGludmlzaWJsZVN0eWxlID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGlzcGxheS1pbmxpbmUnOlxuICAgICAgICAgICAgICAgIHZpc2libGVQcm9wZXJ0eSA9ICdkaXNwbGF5JztcbiAgICAgICAgICAgICAgICB2aXNpYmxlU3R5bGUgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgICAgICAgICBpbnZpc2libGVTdHlsZSA9ICdub25lJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9wZXJ0eTogdmlzaWJsZVByb3BlcnR5LFxuICAgICAgICAgICAgdmlzaWJsZVN0eWxlLFxuICAgICAgICAgICAgaW52aXNpYmxlU3R5bGUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBzd2FwQnV0dG9uSW1hZ2VzKGJ1dHRvbjogSFRNTEVsZW1lbnQsIHNob3dGaXJzdDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAoYnV0dG9uICYmIGJ1dHRvbi5jaGlsZHJlbi5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN2ZzEgPSBidXR0b24uY2hpbGRyZW4uaXRlbSgwKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IHN2ZzIgPSBidXR0b24uY2hpbGRyZW4uaXRlbSgxKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHNob3dGaXJzdCkge1xuICAgICAgICAgICAgICAgIHN2ZzEuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgc3ZnMi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdmcxLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgc3ZnMi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZVZhbHVlcyB7XG4gICAgcHJvcGVydHk6IHN0cmluZztcbiAgICB2aXNpYmxlU3R5bGU6IHN0cmluZztcbiAgICBpbnZpc2libGVTdHlsZTogc3RyaW5nO1xufVxuIiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNraW5WYWxpZGF0b3Ige1xuICAgIHByb3RlY3RlZCByZWFkb25seSBwbGF5ZXJFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2tpbkVsZW1lbnRzOiBFbGVtZW50RGVmaW5pdGlvbltdO1xuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHBsYXllckVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMucGxheWVyRWxlbWVudCA9IHBsYXllckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2tpbkVsZW1lbnRzID0gW107XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IHZhbGlkYXRlKCk6IGJvb2xlYW47XG5cbiAgICBwcm90ZWN0ZWQgYWRkRWxlbWVudFRvQ2hlY2sobmFtZTogc3RyaW5nLCBzZWxlY3Rvcjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2tpbkVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHNlbGVjdG9yLFxuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWxsRWxlbWVudHNFeGlzdCgpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHZhbGlkOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBkZWZpbml0aW9uIG9mIHRoaXMuc2tpbkVsZW1lbnRzKSB7XG4gICAgICAgICAgICBpZiAoIWRlZmluaXRpb24uZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgICdFbGVtZW50IHdpdGggbmFtZTogJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uLm5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyB3aXRoIHNlbGVjdG9yOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24uc2VsZWN0b3IgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyB3YXMgbm90IGZvdW5kIScsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZDtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudERlZmluaXRpb24ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzZWxlY3Rvcjogc3RyaW5nO1xuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xufVxuIiwiaW1wb3J0IHsgU2tpblZhbGlkYXRvciB9IGZyb20gJy4vc2tpbi12YWxpZGF0b3InO1xuXG5leHBvcnQgY2xhc3MgQ29udHJvbHNTa2luVmFsaWRhdG9yIGV4dGVuZHMgU2tpblZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3IocGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIocGxheWVyRWxlbWVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRUb0NoZWNrKCdPdmVycmlkZSBTdHlsZXMnLCAnI292ZXJyaWRlLXN0eWxlcy1jb250cm9scycpO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRUb0NoZWNrKCdBZC10aXRsZScsICcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLWFkLXRpdGxlJyk7XG4gICAgICAgIHRoaXMuYWRkRWxlbWVudFRvQ2hlY2soJ0FkLWR1cmF0aW9uJywgJy5wbGF5ZXItY29udHJvbHMtY29udGFpbmVyIC5wbGF5ZXItY29udHJvbHMtYWQtZHVyYXRpb24nKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnTGl2ZS1jbG9jaycsICcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLWxpdmUtY2xvY2snKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnQWQtdGltZXInLCAnLnBsYXllci1jb250cm9scy1jb250YWluZXIgLnBsYXllci1jb250cm9scy1hZC10aW1lcicpO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRUb0NoZWNrKCdSZXdpbmQnLCAnLnBsYXllci1jb250cm9scy1jb250YWluZXIgLnBsYXllci1jb250cm9scy1nb2JhY2snKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnU3RhcnRvdmVyJywgJy5wbGF5ZXItY29udHJvbHMtY29udGFpbmVyIC5wbGF5ZXItY29udHJvbHMtc3RhcnRvdmVyJyk7XG5cbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnUGxheS1wYXVzZScsICcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLXBsYXktcGF1c2UnKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnTXV0ZS11bm11dGUnLCAnLnBsYXllci1jb250cm9scy1jb250YWluZXIgLnBsYXllci1jb250cm9scy1tdXRlJyk7XG4gICAgICAgIHRoaXMuYWRkRWxlbWVudFRvQ2hlY2soJ1N1YnRpdGxlcycsICcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLXN1YnRpdGxlcycpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmFsbEVsZW1lbnRzRXhpc3QoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQbGF5ZXJDb2xvciB9IGZyb20gJy4uLy4uL21vZGVsL2NvbG9ycyc7XG5pbXBvcnQgeyBCcm93c2VyVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9icm93c2VyLXV0aWxzJztcbmltcG9ydCB7IFB1Ymxpc2hlciB9IGZyb20gJy4uL3B1Ymxpc2hlcic7XG5pbXBvcnQgeyBTa2luVmFsaWRhdG9yIH0gZnJvbSAnLi9za2luLXZhbGlkYXRvcic7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQbGF5ZXJDb250cm9scyB7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHBsYXllcjogYW55O1xuICAgIHByb3RlY3RlZCByZWFkb25seSBwbGF5ZXJFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgcGxheWVyQ29sb3I6IFBsYXllckNvbG9yO1xuICAgIHByb3RlY3RlZCB2YWxpZGF0b3I6IFNraW5WYWxpZGF0b3I7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGZhZGVpbkNsYXNzOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBmYWRlb3V0Q2xhc3M6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwbGF5ZXJFbGVtZW50OiBIVE1MRWxlbWVudCwgY29sb3I6IFBsYXllckNvbG9yLCBwbGF5ZXI6IGFueSkge1xuICAgICAgICB0aGlzLnBsYXllckVsZW1lbnQgPSBwbGF5ZXJFbGVtZW50O1xuICAgICAgICB0aGlzLnBsYXllckNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuXG4gICAgICAgIHRoaXMuZmFkZWluQ2xhc3MgPSAncGxheWVyLWdlbmVyYWwtZmFkZWluJztcbiAgICAgICAgdGhpcy5mYWRlb3V0Q2xhc3MgPSAncGxheWVyLWdlbmVyYWwtZmFkZW91dCc7XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IHN1YnNjcmliZUZvckludGVybmFsUGxheWVyRXZlbnRzKHB1Ymxpc2hlcjogUHVibGlzaGVyKTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjaGVja0FjdGl2ZSgpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIHVpU2hvdWxkU2hvdygpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLnBhdXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygndmpzLXVzZXItYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNJbnRlcmZhY2VFbmFibGVkKCk6IGJvb2xlYW47XG4gICAgcHVibGljIGFic3RyYWN0IGRpc2FibGVJbnRlcmZhY2UoKTogdm9pZDtcbiAgICBwdWJsaWMgYWJzdHJhY3QgZW5hYmxlSW50ZXJmYWNlKCk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgc3dhcEFjdGl2ZVN0YXRlcyhlbGVtZW50OiBIVE1MRWxlbWVudCwgdWlTaG91bGRTaG93OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmICh1aVNob3VsZFNob3cpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmZhZGVvdXRDbGFzcyk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5mYWRlaW5DbGFzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5mYWRlaW5DbGFzcyk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5mYWRlb3V0Q2xhc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IHZhbGlkYXRlKCk6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZW5hYmxlKCk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgbW9kaWZ5Q29udHJvbHMoKTogdm9pZDtcbn1cbiIsImltcG9ydCB7IEludGVybmFsUGxheWVyRXZlbnQsIE9uUGxheVBheWxvYWQgfSBmcm9tICcuLi8uLi9tb2RlbC9ldmVudGluZy9pbnRlcm5hbC1wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IE9uVm9sdW1lQ2hhbmdlUGF5bG9hZCB9IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL3B1YmxpYy1wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IEFjY2Vzc2liaWxpdHlVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL2FjY2Vzc2liaWxpdHktdXRpbHMnO1xuaW1wb3J0IHsgRG9tVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9kb20tdXRpbHMnO1xuaW1wb3J0IHsgUHVibGlzaGVyIH0gZnJvbSAnLi4vcHVibGlzaGVyJztcbmltcG9ydCB7IENvbnRyb2xzU2tpblZhbGlkYXRvciB9IGZyb20gJy4vY29udHJvbHMtc2tpbi12YWxpZGF0b3InO1xuaW1wb3J0IHsgUGxheWVyQ29udHJvbHMgfSBmcm9tICcuL3BsYXllci1jb250cm9scyc7XG5pbXBvcnQgeyBJbnRlcm5hbFVpQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uLy4uL21vZGVsL2NvbmZpZyc7XG5pbXBvcnQgeyBQbGF5ZXJDb2xvciB9IGZyb20gJy4uLy4uL21vZGVsL2NvbG9ycyc7XG5pbXBvcnQgeyBUcmFuc2xhdG9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHJhbnNsYXRpb24vdHJhbnNsYXRvcic7XG5pbXBvcnQgeyBQbGF5ZXJFdmVudCB9IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL3BsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgVmlkZW9RdWFsaXR5IH0gZnJvbSAnLi4vLi4vbW9kZWwvdmlkZW8tcXVhbGl0eSc7XG5cbmV4cG9ydCBjbGFzcyBNZWRpYUNvbnRyb2xzIGV4dGVuZHMgUGxheWVyQ29udHJvbHMge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdWlDb25maWc6IEludGVybmFsVWlDb25maWd1cmF0aW9uO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb250cm9sQmFyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFkVGl0bGU6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYWREdXJhdGlvbjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBsaXZlQ2xvY2s6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY291bnRkb3duOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJld2luZDEwOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZvcndhcmQxMDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBjdXJyZW50VGltZTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBkaXZpZGVyVGltZTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0b3RhbFRpbWU6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2Vla2VyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHZvbHVtZVNlZWtlcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSB2b2x1bWU6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RhcnRvdmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHF1YWxpdHlDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcXVhbGl0eUxpc3Q6IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSBmdWxsc2NyZWVuOiBIVE1MRWxlbWVudDtcblxuICAgIHByaXZhdGUgcGxheVBhdXNlOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIG11dGU6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgc3VidGl0bGVzOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHNldHRpbmdzOiBIVE1MRWxlbWVudDtcblxuICAgIHByaXZhdGUgb3JpZ2luYWxGdWxsc2NyZWVuQnV0dG9uOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHF1YWxpdHlMaXN0SXRlbXM6IEhUTUxFbGVtZW50W107XG5cbiAgICBwdWJsaWMgc3RhdGljIHdhaXRGb3JUaGVvUGxheWVyUmVhZHkocGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsOiBudW1iZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllckVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGhlby1zZWNvbmRhcnktY29sb3IgdmpzLWNvbnRyb2wtYmFyJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDMzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQsIHBsYXllcjogYW55LCB1aUNvbmZpZzogSW50ZXJuYWxVaUNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgc3VwZXIocGxheWVyRWxlbWVudCwgdWlDb25maWcuY29sb3IgYXMgUGxheWVyQ29sb3IsIHBsYXllcik7XG5cbiAgICAgICAgdGhpcy51aUNvbmZpZyA9IHVpQ29uZmlnO1xuXG4gICAgICAgIC8vRW50aXJlIGNvbnRyb2xzIGJhclxuICAgICAgICB0aGlzLmNvbnRyb2xCYXIgPSBwbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aGVvLXNlY29uZGFyeS1jb2xvci52anMtY29udHJvbC1iYXInKTtcblxuICAgICAgICAvL0ZldGNoIGN1cnJlbnQgZWxlbWVudHNcbiAgICAgICAgdGhpcy5wbGF5UGF1c2UgPSBwbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy52anMtcGxheS1jb250cm9sLnZqcy1jb250cm9sLnZqcy1idXR0b24nKTtcbiAgICAgICAgdGhpcy5hZFRpdGxlID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLWFkLXRpdGxlJyk7XG4gICAgICAgIHRoaXMuYWREdXJhdGlvbiA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1jb250cm9scy1jb250YWluZXIgLnBsYXllci1jb250cm9scy1hZC1kdXJhdGlvbicpO1xuICAgICAgICB0aGlzLmxpdmVDbG9jayA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1jb250cm9scy1jb250YWluZXIgLnBsYXllci1jb250cm9scy1saXZlLWNsb2NrJyk7XG4gICAgICAgIHRoaXMuY291bnRkb3duID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLWFkLXRpbWVyJyk7XG4gICAgICAgIHRoaXMucmV3aW5kMTAgPSBwbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItY29udHJvbHMtY29udGFpbmVyIC5wbGF5ZXItY29udHJvbHMtZ29iYWNrJyk7XG4gICAgICAgIHRoaXMuZm9yd2FyZDEwID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLWZvcndhcmQnKTtcbiAgICAgICAgdGhpcy5tdXRlID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudmpzLW11dGUtY29udHJvbC52anMtY29udHJvbC52anMtYnV0dG9uJyk7XG4gICAgICAgIHRoaXMudm9sdW1lID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudmpzLXZvbHVtZS1jb250cm9sLnZqcy1jb250cm9sJyk7XG4gICAgICAgIHRoaXMudm9sdW1lU2Vla2VyID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgJy52anMtdm9sdW1lLWJhci52anMtc2xpZGVyLWJhci52anMtc2xpZGVyLnZqcy1zbGlkZXItaG9yaXpvbnRhbCcsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSBwbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy52anMtY3VycmVudC10aW1lLnZqcy10aW1lLWNvbnRyb2wudmpzLWNvbnRyb2wnKTtcbiAgICAgICAgdGhpcy5kaXZpZGVyVGltZSA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZqcy10aW1lLWNvbnRyb2wudmpzLXRpbWUtZGl2aWRlcicpO1xuICAgICAgICB0aGlzLnRvdGFsVGltZSA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnZqcy1kdXJhdGlvbi52anMtdGltZS1jb250cm9sLnZqcy1jb250cm9sJyk7XG4gICAgICAgIHRoaXMuc2Vla2VyID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudmpzLXByb2dyZXNzLWhvbGRlci52anMtc2xpZGVyLnZqcy1zbGlkZXItaG9yaXpvbnRhbCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgJy52anMtaWNvbi1jb2cudGhlby1zZXR0aW5ncy1jb250cm9sLWJ1dHRvbi50aGVvLWNvbnRyb2xiYXItYnV0dG9uLnZqcy1tZW51LWJ1dHRvbi52anMtbWVudS1idXR0b24tcG9wdXAudmpzLWNvbnRyb2wudmpzLWJ1dHRvbicsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucXVhbGl0eUNvbnRhaW5lciA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLXF1YWxpdHktc2VsZWN0b3InLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnF1YWxpdHlMaXN0ID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLXF1YWxpdHktbGlzdCcpO1xuICAgICAgICB0aGlzLnF1YWxpdHlMaXN0SXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGFydG92ZXIgPSBwbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItY29udHJvbHMtY29udGFpbmVyIC5wbGF5ZXItY29udHJvbHMtc3RhcnRvdmVyJyk7XG4gICAgICAgIHRoaXMuc3VidGl0bGVzID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgJy52anMtaWNvbi1zdWJ0aXRsZXMudGhlby10ZXh0LXRyYWNrLWNvbnRyb2wtYnV0dG9uLnRoZW8tY29udHJvbGJhci1idXR0b24udmpzLW1lbnUtYnV0dG9uLnZqcy1tZW51LWJ1dHRvbi1wb3B1cC52anMtY29udHJvbC52anMtYnV0dG9uJyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5mdWxsc2NyZWVuID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudmpzLWZ1bGxzY3JlZW4tY29udHJvbC52anMtY29udHJvbC52anMtYnV0dG9uJyk7XG5cbiAgICAgICAgdGhpcy52YWxpZGF0b3IgPSBuZXcgQ29udHJvbHNTa2luVmFsaWRhdG9yKHBsYXllckVsZW1lbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdG9yLnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tb2RpZnlDb250cm9scygpO1xuXG4gICAgICAgIGlmICh0aGlzLnVpQ29uZmlnLmRpc2FibGVGZkFuZFJ3Q29udHJvbHMpIHtcbiAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5yZXdpbmQxMCwgZmFsc2UsICdkaXNwbGF5LWlubGluZScpO1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmZvcndhcmQxMCwgZmFsc2UsICdkaXNwbGF5LWlubGluZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnVpQ29uZmlnLmRpc2FibGVWb2x1bWVDb250cm9scykge1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLnZvbHVtZSwgZmFsc2UsICd2aXNpYmlsaXR5Jyk7XG4gICAgICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMubXV0ZSwgZmFsc2UsICd2aXNpYmlsaXR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudWlDb25maWcuZGlzYWJsZUZ1bGxTY3JlZW5Db250cm9sKSB7XG4gICAgICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuZnVsbHNjcmVlbiwgZmFsc2UsICd2aXNpYmlsaXR5Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgbW9kaWZ5Q29udHJvbHMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudGhlb3BsYXllci10ZXh0dHJhY2tzJykuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG5cbiAgICAgICAgLy9JbnNlcnQgb3VyIG93biBwbGF5L3BhdXNlIGJ1dHRvblxuICAgICAgICB0aGlzLnBsYXlQYXVzZSA9IERvbVV0aWxzLmluc2VydEJlZm9yZShcbiAgICAgICAgICAgIHRoaXMucGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lciAucGxheWVyLWNvbnRyb2xzLXBsYXktcGF1c2UnKSxcbiAgICAgICAgICAgIHRoaXMucGxheVBhdXNlLFxuICAgICAgICApIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgIC8vQWRkIHRoZSByZXdpbmQvZm9yd2FyZCAxMCBzZWNvbmRzIGJ1dHRvbnNcbiAgICAgICAgRG9tVXRpbHMuaW5zZXJ0QmVmb3JlKHRoaXMucmV3aW5kMTAsIHRoaXMuY3VycmVudFRpbWUpO1xuICAgICAgICBEb21VdGlscy5pbnNlcnRCZWZvcmUodGhpcy5mb3J3YXJkMTAsIHRoaXMuY3VycmVudFRpbWUpO1xuXG4gICAgICAgIC8vQWRkIHRoZSBwcm9tb3Rpb25hbCBjb3VudGRvd25cbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmNvdW50ZG93biwgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIERvbVV0aWxzLmluc2VydEJlZm9yZSh0aGlzLmNvdW50ZG93biwgdGhpcy5yZXdpbmQxMCk7XG5cbiAgICAgICAgLy9BZGQgdGhlIGxpdmUgY2xvY2tcbiAgICAgICAgRG9tVXRpbHMuaW5zZXJ0QmVmb3JlKHRoaXMubGl2ZUNsb2NrLCB0aGlzLmN1cnJlbnRUaW1lKTtcblxuICAgICAgICAvL0luc2VydCBvdXIgb3duIG11dGUvdW5tdXRlIGJ1dHRvblxuICAgICAgICB0aGlzLm11dGUgPSBEb21VdGlscy5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICB0aGlzLnBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1jb250cm9scy1jb250YWluZXIgLnBsYXllci1jb250cm9scy1tdXRlJyksXG4gICAgICAgICAgICB0aGlzLm11dGUsXG4gICAgICAgICkgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgLy9BZGQgc3RhcnRvdmVyIGJ1dHRvblxuICAgICAgICBEb21VdGlscy5pbnNlcnRCZWZvcmUodGhpcy5zdGFydG92ZXIsIHRoaXMuc3VidGl0bGVzKTtcblxuICAgICAgICAvL0luc2VydCBvdXIgb3duIHN1YnRpdGxlcyBidXR0b24gYW5kIHNldCB0aGUgY29ycmVjdCBpY29uIHRvIHNob3chXG4gICAgICAgIHRoaXMuc3VidGl0bGVzID0gRG9tVXRpbHMuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItY29udHJvbHMtY29udGFpbmVyIC5wbGF5ZXItY29udHJvbHMtc3VidGl0bGVzJyksXG4gICAgICAgICAgICB0aGlzLnN1YnRpdGxlcyxcbiAgICAgICAgKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgRG9tVXRpbHMuc3dhcEJ1dHRvbkltYWdlcyh0aGlzLnN1YnRpdGxlcywgdHJ1ZSk7XG5cbiAgICAgICAgLy9JbnNlcnQgb3VyIG93biBmdWxsc2NyZWVuIGJ1dHRvbiBhbmQgc2V0IHRoZSBjb3JyZWN0IGljb24gdG8gc2hvdyFcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RDdXN0b21GdWxsc2NyZWVuQnV0dG9uKCk7XG5cbiAgICAgICAgLy9BZGQgb3VyIG93biBzZXR0aW5ncyBpY29uIHRvIGRpc3BsYXkgdGhlIHF1YWxpdHkgbWVudVxuICAgICAgICB0aGlzLnNldHRpbmdzID0gRG9tVXRpbHMuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItY29udHJvbHMtY29udGFpbmVyIC5wbGF5ZXItY29udHJvbHMtcXVhbGl0eScpLFxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgRG9tVXRpbHMuaW5zZXJ0QmVmb3JlKHRoaXMucXVhbGl0eUNvbnRhaW5lciwgdGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUoXG4gICAgICAgICAgICAgICAgdGhpcy5xdWFsaXR5Q29udGFpbmVyLFxuICAgICAgICAgICAgICAgICFEb21VdGlscy5pc1Zpc2libGUodGhpcy5xdWFsaXR5Q29udGFpbmVyLCAnZGlzcGxheS1ibG9jaycpLFxuICAgICAgICAgICAgICAgICdkaXNwbGF5LWJsb2NrJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9TZXQgb3JkZXIgb24gdGhlIG5lZWRlZCBpdGVtcywgdGhpcyBkb2VzIHRoZXkgbGF5b3V0L29yZGVyIGluIHRoZSBjb250cm9sIGJhciFcbiAgICAgICAgRG9tVXRpbHMuc2V0T3JkZXJPbkVsZW1lbnRzKFxuICAgICAgICAgICAgLTEwMCxcbiAgICAgICAgICAgIHRoaXMucGxheVBhdXNlLFxuICAgICAgICAgICAgdGhpcy5jb3VudGRvd24sXG4gICAgICAgICAgICB0aGlzLnJld2luZDEwLFxuICAgICAgICAgICAgdGhpcy5mb3J3YXJkMTAsXG4gICAgICAgICAgICB0aGlzLmxpdmVDbG9jayxcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRpbWUsXG4gICAgICAgICAgICB0aGlzLmRpdmlkZXJUaW1lLFxuICAgICAgICAgICAgdGhpcy50b3RhbFRpbWUsXG4gICAgICAgICAgICB0aGlzLm11dGUsXG4gICAgICAgICAgICB0aGlzLnZvbHVtZSxcbiAgICAgICAgKTtcbiAgICAgICAgLy9UYWIgaXNzdWVzOiBodHRwczovL3d3dy5hbGV4bGFuZGUuY29tL2FydGljbGVzL2Nyb3NzLWJyb3dzZXItdGFiaW5kZXgtd29lcy9cbiAgICAgICAgRG9tVXRpbHMuc2V0VGFiSW5kZXhPbkVsZW1lbnRzKFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LFxuICAgICAgICAgICAgdGhpcy5zZWVrZXIsXG4gICAgICAgICAgICB0aGlzLnBsYXlQYXVzZSxcbiAgICAgICAgICAgIHRoaXMucmV3aW5kMTAsXG4gICAgICAgICAgICB0aGlzLmZvcndhcmQxMCxcbiAgICAgICAgICAgIHRoaXMubXV0ZSxcbiAgICAgICAgICAgIHRoaXMudm9sdW1lU2Vla2VyLFxuICAgICAgICAgICAgdGhpcy5zdGFydG92ZXIsXG4gICAgICAgICAgICB0aGlzLnN1YnRpdGxlcyxcbiAgICAgICAgICAgIHRoaXMuZnVsbHNjcmVlbixcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgICAgICk7XG5cbiAgICAgICAgLy9CcmluZyBvdmVyIHRoZSBvdmVycmlkZGVuIHN0eWxpbmchXG4gICAgICAgIGNvbnN0IHRlbXBDb250cm9sc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSB0aGlzLnBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1jb250cm9scy1jb250YWluZXInKTtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVTdHlsZXM6IEhUTUxFbGVtZW50ID0gdGVtcENvbnRyb2xzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNvdmVycmlkZS1zdHlsZXMtY29udHJvbHMnKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKG92ZXJyaWRlU3R5bGVzKTtcblxuICAgICAgICAvL0FsbCBjb250cm9scyBtb3ZlZCwgcmVtb3ZlIHRoZSBjb250YWluZXIhXG4gICAgICAgIHRlbXBDb250cm9sc0NvbnRhaW5lci5yZW1vdmUoKTtcblxuICAgICAgICAvL1NldCBjb2xvcnNcbiAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5wbGF5ZXJDb2xvci5zdHlsZU5hbWUpO1xuXG4gICAgICAgIC8vUmVwbGFjZSBFbmdsaXNoIGFyaWEtbGFiZWxzXG4gICAgICAgIHRoaXMucGxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnVlJUIFZpZGVvIHBsYXllcicpO1xuICAgICAgICB0aGlzLnNlZWtlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBUcmFuc2xhdG9yLmdldFZhbHVlKCd0b29sdGlwLXNlZWstYmFyJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSk7XG4gICAgICAgIHRoaXMudm9sdW1lU2Vla2VyLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdhcmlhLWxhYmVsJyxcbiAgICAgICAgICAgIFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3Rvb2x0aXAtYWRqdXN0LXZvbHVtZScsIHRoaXMudWlDb25maWcudWlMYW5ndWFnZSksXG4gICAgICAgICk7XG5cbiAgICAgICAgLy9UcmFuc2xhdGUgc2hvdWxkIGhhcHBlbiBCRUZPUkUgYWRkaW5nIHRvb2x0aXBzIVxuICAgICAgICBUcmFuc2xhdG9yLnRyYW5zbGF0ZUFsbEVsZW1lbnRzKHRoaXMucGxheWVyRWxlbWVudCwgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKTtcblxuICAgICAgICAvL1Rvb2x0aXBzXG4gICAgICAgIEFjY2Vzc2liaWxpdHlVdGlscy5yZWdpc3RlclRvb2x0aXBzKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIHRoaXMucGxheVBhdXNlLFxuICAgICAgICAgICAgICAgIHRoaXMucmV3aW5kMTAsXG4gICAgICAgICAgICAgICAgdGhpcy5mb3J3YXJkMTAsXG4gICAgICAgICAgICAgICAgdGhpcy5tdXRlLFxuICAgICAgICAgICAgICAgIHRoaXMudm9sdW1lU2Vla2VyLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRvdmVyLFxuICAgICAgICAgICAgICAgIHRoaXMuc3VidGl0bGVzLFxuICAgICAgICAgICAgICAgIHRoaXMuZnVsbHNjcmVlbixcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHRoaXMucGxheWVyRWxlbWVudCxcbiAgICAgICAgKTtcbiAgICAgICAgLy9BbiBlc2NhcGUgcHJlc3MgYW55d2hlcmUgb24gdGhlIHBhZ2Ugc2hvdWxkIGhpZGUgYW55IHRvb2x0aXAgdGhhdCBpcyBzaG93aW5nIVxuICAgICAgICBBY2Nlc3NpYmlsaXR5VXRpbHMuZW5hYmxlVG9vbHRpcEhpZGVPbkVTQ1ByZXNzKGRvY3VtZW50LmJvZHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdWJzY3JpYmVGb3JJbnRlcm5hbFBsYXllckV2ZW50cyhwdWJsaXNoZXI6IFB1Ymxpc2hlcik6IHZvaWQge1xuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMudXBkYXRlVGl0bGUsIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdlbmVyYWxTdGF0ZShldmVudC5jb250ZW50Lm5ld1RpdGxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnVwZGF0ZVRpY2ssIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWN0aXZlKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXJ0T3ZlclN1cHBvcnQoZXZlbnQuY29udGVudC5lbmFibGVTdGFydE92ZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMuYWRJc1BsYXlpbmdUaWNrLCAoZXZlbnQ6IEludGVybmFsUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVByb21vdGlvbmFsUGxheWluZ1N0YXRlKGV2ZW50LmNvbnRlbnQucHJvbW90aW9uYWxUaXRsZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb21vdGlvbmFsU3RhdGUoZXZlbnQuY29udGVudC5yZW1haW5pbmdEdXJhdGlvbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFxuICAgICAgICAgICAgUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnByb21vdGlvbmFsSXNQbGF5aW5nVGljayxcbiAgICAgICAgICAgIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVByb21vdGlvbmFsUGxheWluZ1N0YXRlKGV2ZW50LmNvbnRlbnQucHJvbW90aW9uYWxUaXRsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9tb3Rpb25hbFN0YXRlKGV2ZW50LmNvbnRlbnQucmVtYWluaW5nRHVyYXRpb24pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihcbiAgICAgICAgICAgIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5vbmJvYXJkaW5nSXNQbGF5aW5nVGljayxcbiAgICAgICAgICAgIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVByb21vdGlvbmFsUGxheWluZ1N0YXRlKCcnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb21vdGlvbmFsU3RhdGUoZXZlbnQuY29udGVudC5yZW1haW5pbmdEdXJhdGlvbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFxuICAgICAgICAgICAgUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnRyYWlsZXJJc1BsYXlpbmdUaWNrLFxuICAgICAgICAgICAgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29udGVudC5oYXNQbGF5ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVByb21vdGlvbmFsUGxheWluZ1N0YXRlKGV2ZW50LmNvbnRlbnQucHJvbW90aW9uYWxUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvbW90aW9uYWxTdGF0ZShldmVudC5jb250ZW50LnJlbWFpbmluZ0R1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFxuICAgICAgICAgICAgUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLm5vcm1hbENvbnRlbnRJc1BsYXlpbmdUaWNrLFxuICAgICAgICAgICAgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlTm9uUHJvbW90aW9uYWxQbGF5aW5nU3RhdGUoZXZlbnQuY29udGVudC5pc0xpdmUpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3VidGl0bGVzQXZhaWxhYmxlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudC5jb250ZW50LmlzUGF1c2VkICYmIGV2ZW50LmNvbnRlbnQuaXNMaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGl2ZUNsb2NrKGV2ZW50LmNvbnRlbnQucGxheUhlYWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMucGxheSwgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PE9uUGxheVBheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN1YnRpdGxlc0F2YWlsYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVBsYXlTdGF0ZShldmVudC5jb250ZW50LmN1cnJlbnRWb2x1bWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnBhdXNlLCAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVQYXVzZWRTdGF0ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihcbiAgICAgICAgICAgIFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMudm9sdW1lY2hhbmdlLFxuICAgICAgICAgICAgKGV2ZW50OiBQbGF5ZXJFdmVudDxPblZvbHVtZUNoYW5nZVBheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblZvbHVtZUNoYW5nZShldmVudC5jb250ZW50LnZvbHVtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZnVsbHNjcmVlbmVudGVyLCAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRnVsbHNjcmVlbkluZGljYXRvcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmZ1bGxzY3JlZW5leGl0LCAoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRnVsbHNjcmVlbkluZGljYXRvcigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY2hlY2tBY3RpdmUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHVpU2hvdWxkU2hvdzogYm9vbGVhbiA9IHRoaXMudWlTaG91bGRTaG93KCk7XG4gICAgICAgIC8vSW1wbGVtZW50IGFueSBjYWxsIHRvIHN3YXBBY3RpdmVTdGF0ZXMgaGVyZSB0byBmYWRlIGluIGFuZCBvdXQgdGhlIHJlcXVpcmVkIGN1c3RvbSBlbGVtZW50cyFcblxuICAgICAgICBpZiAoIXVpU2hvdWxkU2hvdykge1xuICAgICAgICAgICAgQWNjZXNzaWJpbGl0eVV0aWxzLmhpZGVBbGxUb29sdGlwcygpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiB0aGlzIG1pZ2h0IHJlbW92ZSB0aGUgVUkgdG9vIHNvb24hXG4gICAgICAgICAgICBpZiAoRG9tVXRpbHMuaXNWaXNpYmxlKHRoaXMucXVhbGl0eUNvbnRhaW5lciwgJ2Rpc3BsYXktYmxvY2snKSkge1xuICAgICAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5xdWFsaXR5Q29udGFpbmVyLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBlbmFibGVkVGltZUVudHJ5T25TZWVrZXIoY2FsbGJhY2s6IChwb3NpdGlvbkluU2Vjb25kczogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIEFjY2Vzc2liaWxpdHlVdGlscy5lbmFibGVUaW1lRW50cnlPbkZvY3VzKHRoaXMuc2Vla2VyLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZVBsYXlTdGF0ZShjdXJyZW50Vm9sdW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgRG9tVXRpbHMuc3dhcEJ1dHRvbkltYWdlcyh0aGlzLnBsYXlQYXVzZSwgZmFsc2UpO1xuICAgICAgICBEb21VdGlscy5zd2FwQnV0dG9uSW1hZ2VzKHRoaXMubXV0ZSwgY3VycmVudFZvbHVtZSAhPT0gMCk7XG5cbiAgICAgICAgQWNjZXNzaWJpbGl0eVV0aWxzLnVwZGF0ZUFyaWFBbmRUb29sdGlwKFxuICAgICAgICAgICAgdGhpcy5wbGF5UGF1c2UsXG4gICAgICAgICAgICBUcmFuc2xhdG9yLmdldFZhbHVlKCd0b29sdGlwLXBhdXNlJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFjdGl2YXRlUGF1c2VkU3RhdGUoKTogdm9pZCB7XG4gICAgICAgIERvbVV0aWxzLnN3YXBCdXR0b25JbWFnZXModGhpcy5wbGF5UGF1c2UsIHRydWUpO1xuICAgICAgICBBY2Nlc3NpYmlsaXR5VXRpbHMudXBkYXRlQXJpYUFuZFRvb2x0aXAoXG4gICAgICAgICAgICB0aGlzLnBsYXlQYXVzZSxcbiAgICAgICAgICAgIFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3Rvb2x0aXAtcGxheScsIHRoaXMudWlDb25maWcudWlMYW5ndWFnZSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uVm9sdW1lQ2hhbmdlKHZvbHVtZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh2b2x1bWUgPT09IDApIHtcbiAgICAgICAgICAgIERvbVV0aWxzLnN3YXBCdXR0b25JbWFnZXModGhpcy5tdXRlLCBmYWxzZSk7XG4gICAgICAgICAgICBBY2Nlc3NpYmlsaXR5VXRpbHMudXBkYXRlQXJpYUFuZFRvb2x0aXAoXG4gICAgICAgICAgICAgICAgdGhpcy5tdXRlLFxuICAgICAgICAgICAgICAgIFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3Rvb2x0aXAtdW5tdXRlJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBEb21VdGlscy5zd2FwQnV0dG9uSW1hZ2VzKHRoaXMubXV0ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBBY2Nlc3NpYmlsaXR5VXRpbHMudXBkYXRlQXJpYUFuZFRvb2x0aXAoXG4gICAgICAgICAgICAgICAgdGhpcy5tdXRlLFxuICAgICAgICAgICAgICAgIFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3Rvb2x0aXAtbXV0ZScsIHRoaXMudWlDb25maWcudWlMYW5ndWFnZSksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZVByb21vdGlvbmFsUGxheWluZ1N0YXRlKHRpdGxlOiBzdHJpbmcsIGhpZGVBbGw6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmFkVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcblxuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuc2Vla2VyLCBmYWxzZSk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5yZXdpbmQxMCwgZmFsc2UsICdkaXNwbGF5LWlubGluZScpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuZm9yd2FyZDEwLCBmYWxzZSwgJ2Rpc3BsYXktaW5saW5lJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5saXZlQ2xvY2ssIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuY3VycmVudFRpbWUsIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuZGl2aWRlclRpbWUsIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMudG90YWxUaW1lLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLnN0YXJ0b3ZlciwgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5zdWJ0aXRsZXMsIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuXG4gICAgICAgIGlmIChoaWRlQWxsKSB7XG4gICAgICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuY29udHJvbEJhciwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmNvbnRyb2xCYXIsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQcm9tb3Rpb25hbFN0YXRlKHNlY29uZHNSZW1haW5pbmc6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuY291bnRkb3duLCB0cnVlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBsZXQgc2Vjb25kc1JlbWFpbmluZ1RleHQ6IHN0cmluZztcbiAgICAgICAgaWYgKCFpc05hTihzZWNvbmRzUmVtYWluaW5nKSkge1xuICAgICAgICAgICAgc2Vjb25kc1JlbWFpbmluZ1RleHQgPSBzZWNvbmRzUmVtYWluaW5nICsgJyAnO1xuICAgICAgICAgICAgaWYgKHNlY29uZHNSZW1haW5pbmcgPCAxMCAmJiBzZWNvbmRzUmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgIHNlY29uZHNSZW1haW5pbmdUZXh0ID0gJzAnICsgc2Vjb25kc1JlbWFpbmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlY29uZHNSZW1haW5pbmdUZXh0ID0gJy0tJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkRHVyYXRpb24udGV4dENvbnRlbnQgPSBzZWNvbmRzUmVtYWluaW5nVGV4dDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFjdGl2YXRlTm9uUHJvbW90aW9uYWxQbGF5aW5nU3RhdGUoaXNMaXZlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5jb250cm9sQmFyLCB0cnVlKTtcblxuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuc2Vla2VyLCB0cnVlKTtcbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmNvdW50ZG93biwgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG5cbiAgICAgICAgaWYgKGlzTGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZUxpdmVTdHJlYW1TdGF0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZPRFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFjdGl2YXRlTGl2ZVN0cmVhbVN0YXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZS5zdHlsZS5sZWZ0ID0gJy05OTllbSc7XG4gICAgICAgIHRoaXMuZGl2aWRlclRpbWUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB0aGlzLmRpdmlkZXJUaW1lLnN0eWxlLmxlZnQgPSAnLTk5OWVtJztcbiAgICAgICAgdGhpcy50b3RhbFRpbWUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB0aGlzLnRvdGFsVGltZS5zdHlsZS5sZWZ0ID0gJy05OTllbSc7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5yZXdpbmQxMCwgZmFsc2UsICdkaXNwbGF5LWlubGluZScpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuZm9yd2FyZDEwLCBmYWxzZSwgJ2Rpc3BsYXktaW5saW5lJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5jdXJyZW50VGltZSwgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5kaXZpZGVyVGltZSwgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy50b3RhbFRpbWUsIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMubGl2ZUNsb2NrLCB0cnVlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZVZPRFN0YXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lLnN0eWxlLnBvc2l0aW9uID0gJ3Vuc2V0JztcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZS5zdHlsZS5sZWZ0ID0gJ3Vuc2V0JztcbiAgICAgICAgdGhpcy5kaXZpZGVyVGltZS5zdHlsZS5wb3NpdGlvbiA9ICd1bnNldCc7XG4gICAgICAgIHRoaXMuZGl2aWRlclRpbWUuc3R5bGUubGVmdCA9ICd1bnNldCc7XG4gICAgICAgIHRoaXMudG90YWxUaW1lLnN0eWxlLnBvc2l0aW9uID0gJ3Vuc2V0JztcbiAgICAgICAgdGhpcy50b3RhbFRpbWUuc3R5bGUubGVmdCA9ICd1bnNldCc7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5yZXdpbmQxMCwgIXRoaXMudWlDb25maWcuZGlzYWJsZUZmQW5kUndDb250cm9scywgJ2Rpc3BsYXktaW5saW5lJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5mb3J3YXJkMTAsICF0aGlzLnVpQ29uZmlnLmRpc2FibGVGZkFuZFJ3Q29udHJvbHMsICdkaXNwbGF5LWlubGluZScpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuY3VycmVudFRpbWUsIHRydWUsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5kaXZpZGVyVGltZSwgdHJ1ZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLnRvdGFsVGltZSwgdHJ1ZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmxpdmVDbG9jaywgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5zdGFydG92ZXIsIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlTGl2ZUNsb2NrKGxpdmVQbGF5SGVhZERhdGVUaW1lUG9zaXRpb246IERhdGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpdmVQbGF5SGVhZERhdGVUaW1lUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGxldCB0aW1lOiBzdHJpbmcgPSBsaXZlUGxheUhlYWREYXRlVGltZVBvc2l0aW9uLnRvVGltZVN0cmluZygpLnNsaWNlKDAsIDgpO1xuICAgICAgICAgICAgaWYgKHRpbWUgJiYgdGltZS50cmltKCkgPT09ICdJbnZhbGlkJykge1xuICAgICAgICAgICAgICAgIHRpbWUgPSAnMDA6MDA6MDAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5saXZlQ2xvY2sudGV4dENvbnRlbnQgPSB0aW1lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHBsYXlIZWFkQXRMaXZlUG9pbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGNvbG9yOiBzdHJpbmcgPSBnZXRDb21wdXRlZFN0eWxlKFxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aGVvLWxpdmUtY29udHJvbC1pbmRpY2F0b3InKSxcbiAgICAgICAgICAgICc6OmJlZm9yZScsXG4gICAgICAgICkuY29sb3I7XG4gICAgICAgIHJldHVybiBjb2xvciA9PT0gJ3JnYigyNTUsIDAsIDApJztcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVN1YnRpdGxlc0F2YWlsYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0aGlzLnBsYXllci50ZXh0VHJhY2tzKSB7XG4gICAgICAgICAgICBpZiAodHJhY2sua2luZCA9PT0gJ3N1YnRpdGxlcycgfHwgdHJhY2sua2luZCA9PT0gJ2NhcHRpb25zJykge1xuICAgICAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5zdWJ0aXRsZXMsIHRydWUsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5zdWJ0aXRsZXMsIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGVTdWJ0aXRsZXModG9nZ2xlT246IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRvZ2dsZU9uKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnRoZW9wbGF5ZXItdGV4dHRyYWNrcycpLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgICAgICAgICAgQWNjZXNzaWJpbGl0eVV0aWxzLnVwZGF0ZUFyaWFBbmRUb29sdGlwKFxuICAgICAgICAgICAgICAgIHRoaXMuc3VidGl0bGVzLFxuICAgICAgICAgICAgICAgIFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3Rvb2x0aXAtZGlzYWJsZS1zdWJ0aXRsZXMnLCB0aGlzLnVpQ29uZmlnLnVpTGFuZ3VhZ2UpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIERvbVV0aWxzLnN3YXBCdXR0b25JbWFnZXModGhpcy5zdWJ0aXRsZXMsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudGhlb3BsYXllci10ZXh0dHJhY2tzJykuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICAgICAgICBBY2Nlc3NpYmlsaXR5VXRpbHMudXBkYXRlQXJpYUFuZFRvb2x0aXAoXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJ0aXRsZXMsXG4gICAgICAgICAgICAgICAgVHJhbnNsYXRvci5nZXRWYWx1ZSgndG9vbHRpcC1lbmFibGUtc3VidGl0bGVzJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBEb21VdGlscy5zd2FwQnV0dG9uSW1hZ2VzKHRoaXMuc3VidGl0bGVzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGVQcmVzZW50YXRpb25Nb2RlKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdGdWxsc2NyZWVuIGNoYW5nZSByZXF1ZXN0ZWQnKTtcblxuICAgICAgICBjb25zdCBwcmVzZW50YXRpb246IGFueSA9IHRoaXMucGxheWVyLnByZXNlbnRhdGlvbjtcbiAgICAgICAgaWYgKHByZXNlbnRhdGlvbi5jdXJyZW50TW9kZSA9PT0gJ2lubGluZScgfHwgcHJlc2VudGF0aW9uLmN1cnJlbnRNb2RlID09PSAncGljdHVyZS1pbi1waWN0dXJlJykge1xuICAgICAgICAgICAgcHJlc2VudGF0aW9uLnJlcXVlc3RNb2RlKCdmdWxsc2NyZWVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcmVzZW50YXRpb24ucmVxdWVzdE1vZGUoJ2lubGluZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVGdWxsc2NyZWVuSW5kaWNhdG9yKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdVcGRhdGUgZnVsbHNjcmVlbiBpbmRpY2F0b3InKTtcblxuICAgICAgICBjb25zdCBwcmVzZW50YXRpb246IGFueSA9IHRoaXMucGxheWVyLnByZXNlbnRhdGlvbjtcbiAgICAgICAgaWYgKHByZXNlbnRhdGlvbi5jdXJyZW50TW9kZSA9PT0gJ2lubGluZScgfHwgcHJlc2VudGF0aW9uLmN1cnJlbnRNb2RlID09PSAncGljdHVyZS1pbi1waWN0dXJlJykge1xuICAgICAgICAgICAgRG9tVXRpbHMuc3dhcEJ1dHRvbkltYWdlcyh0aGlzLmZ1bGxzY3JlZW4sIHRydWUpO1xuICAgICAgICAgICAgQWNjZXNzaWJpbGl0eVV0aWxzLnVwZGF0ZUFyaWFBbmRUb29sdGlwKFxuICAgICAgICAgICAgICAgIHRoaXMuZnVsbHNjcmVlbixcbiAgICAgICAgICAgICAgICBUcmFuc2xhdG9yLmdldFZhbHVlKCd0b29sdGlwLWZ1bGxzY3JlZW4nLCB0aGlzLnVpQ29uZmlnLnVpTGFuZ3VhZ2UpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERvbVV0aWxzLnN3YXBCdXR0b25JbWFnZXModGhpcy5mdWxsc2NyZWVuLCBmYWxzZSk7XG4gICAgICAgICAgICBBY2Nlc3NpYmlsaXR5VXRpbHMudXBkYXRlQXJpYUFuZFRvb2x0aXAoXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxsc2NyZWVuLFxuICAgICAgICAgICAgICAgIFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3Rvb2x0aXAtZnVsbHNjcmVlbi1leGl0JywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVN0YXJ0T3ZlclN1cHBvcnQoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuc3RhcnRvdmVyLCBlbmFibGVkLCAnZGlzcGxheS1ibG9jaycpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlR2VuZXJhbFN0YXRlKHRpdGxlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdhcmlhLWxhYmVsJyxcbiAgICAgICAgICAgIFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3ZydC12aWRlby1pbmZvJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSArICcgJyArIHRpdGxlLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0ludGVyZmFjZUVuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBhbnlJc0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZWxlbWVudHM6IGFueSA9IHRoaXMucGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGhlby1zZWNvbmRhcnktY29sb3IudmpzLWNvbnRyb2wtYmFyJyk7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgaWYgKChlbGVtZW50IGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICBhbnlJc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFueUlzRW5hYmxlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzYWJsZUludGVyZmFjZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHM6IGFueSA9IHRoaXMucGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGhlby1zZWNvbmRhcnktY29sb3IudmpzLWNvbnRyb2wtYmFyJyk7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZW5hYmxlSW50ZXJmYWNlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBlbGVtZW50czogYW55ID0gdGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aGVvLXNlY29uZGFyeS1jb2xvci52anMtY29udHJvbC1iYXInKTtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVRdWFsaXR5TGlzdEl0ZW1zKFxuICAgICAgICBwdWJsaXNoZXI6IFB1Ymxpc2hlcixcbiAgICAgICAgYXZhaWxhYmxlUXVhbGl0aWVzOiBWaWRlb1F1YWxpdHlbXSxcbiAgICAgICAgYWN0aXZlUXVhbGl0eTogVmlkZW9RdWFsaXR5LFxuICAgICAgICBpc0F1dG86IGJvb2xlYW4sXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGlmIChhdmFpbGFibGVRdWFsaXRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKCFEb21VdGlscy5pc1Zpc2libGUodGhpcy5zZXR0aW5ncykpIHtcbiAgICAgICAgICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuc2V0dGluZ3MsIHRydWUsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucXVhbGl0eUxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB0aGlzLnF1YWxpdHlMaXN0SXRlbXMuZm9yRWFjaCgoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9uY2xpY2sgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnF1YWxpdHlMaXN0SXRlbXMgPSBbXTtcblxuICAgICAgICAgICAgYXZhaWxhYmxlUXVhbGl0aWVzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGF2YWlsYWJsZVF1YWxpdGllcy5wdXNoKG51bGwpO1xuXG4gICAgICAgICAgICBhdmFpbGFibGVRdWFsaXRpZXMuZm9yRWFjaCgoYXZhaWxhYmxlUXVhbGl0eTogVmlkZW9RdWFsaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UXVhbGl0eUVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVRdWFsaXR5SXRlbShcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLFxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVRdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVRdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICBpc0F1dG8sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLnF1YWxpdHlMaXN0SXRlbXMucHVzaChuZXdRdWFsaXR5RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWFsaXR5TGlzdC5hcHBlbmRDaGlsZChuZXdRdWFsaXR5RWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUXVhbGl0eUl0ZW0oXG4gICAgICAgIHB1Ymxpc2hlcjogUHVibGlzaGVyLFxuICAgICAgICBxdWFsaXR5OiBWaWRlb1F1YWxpdHksXG4gICAgICAgIGFjdGl2ZVF1YWxpdHk6IFZpZGVvUXVhbGl0eSxcbiAgICAgICAgaXNBdXRvOiBib29sZWFuLFxuICAgICk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgcXVhbGl0eUl0ZW06IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgcXVhbGl0eUl0ZW0uY2xhc3NMaXN0LmFkZCgncGxheWVyLWNvbnRyb2xzLXF1YWxpdHktbGlzdC1pdGVtJyk7XG4gICAgICAgIGlmICghaXNBdXRvICYmIGFjdGl2ZVF1YWxpdHkgJiYgcXVhbGl0eSAmJiBxdWFsaXR5LmJhbmR3aWR0aCA9PT0gYWN0aXZlUXVhbGl0eS5iYW5kd2lkdGgpIHtcbiAgICAgICAgICAgIHF1YWxpdHlJdGVtLmNsYXNzTGlzdC5hZGQoJ3BsYXllci1jb250cm9scy1xdWFsaXR5LWxpc3QtaXRlbS1hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0F1dG8gJiYgcXVhbGl0eSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcXVhbGl0eUl0ZW0uY2xhc3NMaXN0LmFkZCgncGxheWVyLWNvbnRyb2xzLXF1YWxpdHktbGlzdC1pdGVtLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc29sdXRpb25UZXh0OiBzdHJpbmcgPSBxdWFsaXR5ICYmIHF1YWxpdHkuaGVpZ2h0ID8gcXVhbGl0eS5oZWlnaHQgKyAncCcgOiAnYXV0byc7XG4gICAgICAgIGNvbnN0IHVzYWdlVGV4dDogc3RyaW5nID1cbiAgICAgICAgICAgIChxdWFsaXR5ICYmIHF1YWxpdHkuYmFuZHdpZHRoXG4gICAgICAgICAgICAgICAgPyAoKHF1YWxpdHkuYmFuZHdpZHRoIC8gOCkgKiAzNjAwKSAvIDEwMjQgLyAxMDI0IC8gMTAyNFxuICAgICAgICAgICAgICAgIDogKChhY3RpdmVRdWFsaXR5LmJhbmR3aWR0aCAvIDgpICogMzYwMCkgLyAxMDI0IC8gMTAyNCAvIDEwMjRcbiAgICAgICAgICAgICkudG9GaXhlZCgyKSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgVHJhbnNsYXRvci5nZXRWYWx1ZSgnZ2liaWJpdHMtcGVyLWhvdXInLCB0aGlzLnVpQ29uZmlnLnVpTGFuZ3VhZ2UpO1xuXG4gICAgICAgIHF1YWxpdHlJdGVtLmlubmVySFRNTCA9XG4gICAgICAgICAgICAnPHAgY2xhc3M9XCJwbGF5ZXItY29udHJvbHMtcXVhbGl0eS1saXN0LWl0ZW0tdGV4dC10aXRsZVwiPicgK1xuICAgICAgICAgICAgcmVzb2x1dGlvblRleHQgK1xuICAgICAgICAgICAgJzwvcD48cCBjbGFzcz1cInBsYXllci1jb250cm9scy1xdWFsaXR5LWxpc3QtaXRlbS10ZXh0XCI+JyArXG4gICAgICAgICAgICB1c2FnZVRleHQgK1xuICAgICAgICAgICAgJzwvcD4nO1xuICAgICAgICBxdWFsaXR5SXRlbS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5xdWFsaXR5TGlzdEl0ZW1zXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoaXRlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IHF1YWxpdHlJdGVtO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGl0ZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgncGxheWVyLWNvbnRyb2xzLXF1YWxpdHktbGlzdC1pdGVtLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcXVhbGl0eUl0ZW0uY2xhc3NMaXN0LmFkZCgncGxheWVyLWNvbnRyb2xzLXF1YWxpdHktbGlzdC1pdGVtLWFjdGl2ZScpO1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuc2V0UXVhbGl0eUFwaUNhbGwsIHF1YWxpdHkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcXVhbGl0eUl0ZW07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RDdXN0b21GdWxsc2NyZWVuQnV0dG9uKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm9yaWdpbmFsRnVsbHNjcmVlbkJ1dHRvbiA9IHRoaXMuZnVsbHNjcmVlbjtcbiAgICAgICAgLy9SZW1vdmUgY2hpbGRyZW4gb2YgdGhlbyBmdWxsc2NyZWVuIGJ1dHRvbiFcbiAgICAgICAgd2hpbGUgKHRoaXMub3JpZ2luYWxGdWxsc2NyZWVuQnV0dG9uLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxGdWxsc2NyZWVuQnV0dG9uLnJlbW92ZUNoaWxkKHRoaXMub3JpZ2luYWxGdWxsc2NyZWVuQnV0dG9uLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIC8vR2V0IG91ciBmdWxsc2NyZWVuIGJ1dHRvbiBmcm9tIHRoZSB0ZW1wbGF0ZVxuICAgICAgICB0aGlzLmZ1bGxzY3JlZW4gPSB0aGlzLnBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1jb250cm9scy1jb250YWluZXIgLnBsYXllci1jb250cm9scy1mdWxsc2NyZWVuJyk7XG4gICAgICAgIC8vQ29weSBvdmVyIGNoaWxkIGVsZW1lbnRzIVxuICAgICAgICB3aGlsZSAodGhpcy5mdWxsc2NyZWVuLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEZ1bGxzY3JlZW5CdXR0b24uYXBwZW5kQ2hpbGQodGhpcy5mdWxsc2NyZWVuLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIC8vUmVzZXQgY2xhc3NMaXN0LCBjb3B5IG92ZXIgY29ycmVjdCBjbGFzc2VzIGFuZCBhcmlhIGxhYmVsXG4gICAgICAgIHRoaXMub3JpZ2luYWxGdWxsc2NyZWVuQnV0dG9uLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRnVsbHNjcmVlbkJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLmZ1bGxzY3JlZW4uY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRnVsbHNjcmVlbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLmZ1bGxzY3JlZW4uZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykpO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRnVsbHNjcmVlbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAnYXJpYS10cmFuc2xhdGlvbi1rZXknLFxuICAgICAgICAgICAgdGhpcy5mdWxsc2NyZWVuLmdldEF0dHJpYnV0ZSgnYXJpYS10cmFuc2xhdGlvbi1rZXknKSxcbiAgICAgICAgKTtcbiAgICAgICAgLy9SZW1vdmUgb3VyIHRlbXBsYXRlIGJ1dHRvbiAobm93IGVtcHR5KVxuICAgICAgICB0aGlzLmZ1bGxzY3JlZW4ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmZ1bGxzY3JlZW4pO1xuICAgICAgICB0aGlzLmZ1bGxzY3JlZW4gPSB0aGlzLm9yaWdpbmFsRnVsbHNjcmVlbkJ1dHRvbjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEZ1bGxzY3JlZW5CdXR0b24gPSBudWxsO1xuICAgICAgICAvL0ZvcmNlIGEgYnV0dG9uIHN0YXRlIHVwZGF0ZSB0byBmaXggQ1NTIGlzc3VlcyFcbiAgICAgICAgRG9tVXRpbHMuc3dhcEJ1dHRvbkltYWdlcyh0aGlzLmZ1bGxzY3JlZW4sIHRydWUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNraW5WYWxpZGF0b3IgfSBmcm9tICcuL3NraW4tdmFsaWRhdG9yJztcblxuZXhwb3J0IGNsYXNzIE92ZXJsYXlTa2luVmFsaWRhdG9yIGV4dGVuZHMgU2tpblZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3IocGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIocGxheWVyRWxlbWVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRUb0NoZWNrKCdPdmVycmlkZSBTdHlsZXMnLCAnI292ZXJyaWRlLXN0eWxlcy1vdmVybGF5Jyk7XG4gICAgICAgIHRoaXMuYWRkRWxlbWVudFRvQ2hlY2soJ1RpdGxlJywgJy5wbGF5ZXItb3ZlcmxheS10aXRsZScpO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRUb0NoZWNrKCdQbGF5JywgJy5wbGF5ZXItb3ZlcmxheS1idG4tcGxheScpO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRUb0NoZWNrKCdQdWxzZScsICcucGxheWVyLW92ZXJsYXktcHVsc2UnKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnUHVsc2UtcGxheScsICcucGxheWVyLW92ZXJsYXktcHVsc2UtcGxheScpO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRUb0NoZWNrKCdQdWxzZS1wYXVzZScsICcucGxheWVyLW92ZXJsYXktcHVsc2UtcGF1c2UnKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnQ2FzdCcsICcucGxheWVyLW92ZXJsYXktY2FzdCcpO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRUb0NoZWNrKCdBaXJwbGF5JywgJy5wbGF5ZXItb3ZlcmxheS1haXJwbGF5Jyk7XG4gICAgICAgIHRoaXMuYWRkRWxlbWVudFRvQ2hlY2soJ1NraXAnLCAnLnBsYXllci1vdmVybGF5LXNraXAnKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnVXAtTmV4dCcsICcucGxheWVyLXVwLW5leHQtY29udGFpbmVyJyk7XG5cbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnRXJyb3InLCAnLnBsYXllci1vdmVybGF5LWVycm9yLW92ZXJsYXknKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50VG9DaGVjaygnRXJyb3ItdGl0bGUnLCAnLnBsYXllci1vdmVybGF5LWVycm9yLXRpdGxlJyk7XG4gICAgICAgIHRoaXMuYWRkRWxlbWVudFRvQ2hlY2soJ0Vycm9yLWJvZHknLCAnLnBsYXllci1vdmVybGF5LWVycm9yLWJvZHknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5hbGxFbGVtZW50c0V4aXN0KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBBZElzUGxheWluZ1RpY2tQYXlsb2FkLFxuICAgIEludGVybmFsUGxheWVyRXZlbnQsXG4gICAgTm9ybWFsQ29udGVudElzUGxheWluZ1RpY2tQYXlsb2FkLFxuICAgIE9uUGxheVBheWxvYWQsXG4gICAgUHJvbW90aW9uYWxJc1BsYXlpbmdUaWNrUGF5bG9hZCxcbiAgICBTaG93RXJyb3JQYXlsb2FkLFxuICAgIFRyYWlsZXJJc1BsYXlpbmdUaWNrUGF5bG9hZCxcbiAgICBVcGRhdGVUaXRsZVBheWxvYWQsXG59IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL2ludGVybmFsLXBsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgTmV4dFVwQW5ub3VuY2VkUGF5bG9hZCwgU2Vla2VkUGF5bG9hZCB9IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL3B1YmxpYy1wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IEFjY2Vzc2liaWxpdHlVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL2FjY2Vzc2liaWxpdHktdXRpbHMnO1xuaW1wb3J0IHsgQnJvd3NlclV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvYnJvd3Nlci11dGlscyc7XG5pbXBvcnQgeyBDYXBhYmlsaXRpZXMgfSBmcm9tICcuLi8uLi91dGlscy9jYXBhYmlsaXRpZXMnO1xuaW1wb3J0IHsgRG9tVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9kb20tdXRpbHMnO1xuaW1wb3J0IHsgUHVibGlzaGVyIH0gZnJvbSAnLi4vcHVibGlzaGVyJztcbmltcG9ydCB7IE92ZXJsYXlTa2luVmFsaWRhdG9yIH0gZnJvbSAnLi9vdmVybGF5LXNraW4tdmFsaWRhdG9yJztcbmltcG9ydCB7IFBsYXllckNvbnRyb2xzIH0gZnJvbSAnLi9wbGF5ZXItY29udHJvbHMnO1xuaW1wb3J0IHsgUHVibGljTWVkaWFJbmZvIH0gZnJvbSAnLi4vLi4vbW9kZWwvbWVkaWEtaW5mbyc7XG5pbXBvcnQgeyBJbnRlcm5hbFVpQ29uZmlndXJhdGlvbiwgVWlDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vLi4vbW9kZWwvY29uZmlnJztcbmltcG9ydCB7IFBsYXllckNvbG9yIH0gZnJvbSAnLi4vLi4vbW9kZWwvY29sb3JzJztcbmltcG9ydCB7IFRyYW5zbGF0b3IgfSBmcm9tICcuLi8uLi91dGlscy90cmFuc2xhdGlvbi90cmFuc2xhdG9yJztcbmltcG9ydCB7IFBsYXllckV2ZW50IH0gZnJvbSAnLi4vLi4vbW9kZWwvZXZlbnRpbmcvcGxheWVyLWV2ZW50cyc7XG5cbmV4cG9ydCBjbGFzcyBPdmVybGF5Q29udHJvbHMgZXh0ZW5kcyBQbGF5ZXJDb250cm9scyB7XG4gICAgcHJpdmF0ZSByZWFkb25seSB1aUNvbmZpZzogSW50ZXJuYWxVaUNvbmZpZ3VyYXRpb247XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG92ZXJsYXk6IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB0aXRsZTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwbGF5OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHB1bHNlOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBsYXlQdWxzZUxvZ286IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGF1c2VQdWxzZUxvZ286IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY2FzdDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBhaXJwbGF5OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNhc3RPblRleHQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2tpcDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBtb2JpbGVQbGF5UGF1c2VUb2dnbGU6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdXBOZXh0QmFubmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVwTmV4dEJhbm5lckFuaW1hdGlvbjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSB1cE5leHRDYXJkOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVwTmV4dENhcmRBbmltYXRpb246IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBlcnJvck92ZXJsYXk6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZXJyb3JUaXRsZTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBlcnJvck1lc3NhZ2U6IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB1cE5leHRBbmltYXRpb25TdGF0ZTogeyBpc1BhdXNlZDogYm9vbGVhbiB9ID0geyBpc1BhdXNlZDogZmFsc2UgfTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVwTmV4dERlbGF5OiBudW1iZXI7XG4gICAgcHJpdmF0ZSB1cE5leHRPdmVybGF5T3ZlcnJpZGU6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSB1cE5leHRUeXBlSXNDYXJkOiBib29sZWFuO1xuICAgIHByaXZhdGUgdXBOZXh0Q2FyZEN1cnJlbnRBbmltYXRpb246IG51bWJlcjtcbiAgICBwcml2YXRlIHVwTmV4dEJhbm5lckN1cnJlbnRBbmltYXRpb246IG51bWJlcjtcbiAgICBwcml2YXRlIGhhc1BsYXllZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHBsYXllckVsZW1lbnQ6IEhUTUxFbGVtZW50LCBwbGF5ZXI6IGFueSwgdWlDb25maWc6IFVpQ29uZmlndXJhdGlvbiwgdXBOZXh0RGVsYXk6IG51bWJlcikge1xuICAgICAgICBzdXBlcihwbGF5ZXJFbGVtZW50LCB1aUNvbmZpZy5jb2xvciBhcyBQbGF5ZXJDb2xvciwgcGxheWVyKTtcblxuICAgICAgICB0aGlzLnVpQ29uZmlnID0gdWlDb25maWc7XG5cbiAgICAgICAgdGhpcy5vdmVybGF5ID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLW92ZXJsYXknKTtcblxuICAgICAgICB0aGlzLnRpdGxlID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLW92ZXJsYXktdGl0bGUnKTtcbiAgICAgICAgdGhpcy5wbGF5ID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLW92ZXJsYXktYnRuLXBsYXknKTtcbiAgICAgICAgdGhpcy5wdWxzZSA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1vdmVybGF5LXB1bHNlJyk7XG4gICAgICAgIHRoaXMucGxheVB1bHNlTG9nbyA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1vdmVybGF5LXB1bHNlLXBsYXknKTtcbiAgICAgICAgdGhpcy5wYXVzZVB1bHNlTG9nbyA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1vdmVybGF5LXB1bHNlLXBhdXNlJyk7XG4gICAgICAgIHRoaXMuY2FzdCA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1vdmVybGF5LWNhc3QnKTtcbiAgICAgICAgdGhpcy5haXJwbGF5ID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLW92ZXJsYXktYWlycGxheScpO1xuICAgICAgICB0aGlzLmNhc3RPblRleHQgPSBwbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aGVvLWNocm9tZWNhc3Qtc3RhdHVzLWluZm8nKTtcbiAgICAgICAgdGhpcy5za2lwID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLW92ZXJsYXktc2tpcCcpO1xuICAgICAgICB0aGlzLm1vYmlsZVBsYXlQYXVzZVRvZ2dsZSA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1vdmVybGF5LWJ0bi1tb2JpbGUtcGxheS10b2dnbGUnKTtcblxuICAgICAgICB0aGlzLnVwTmV4dEJhbm5lciA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci11cC1uZXh0LWJ1dHRvbicpO1xuICAgICAgICB0aGlzLnVwTmV4dEJhbm5lckFuaW1hdGlvbiA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci11cC1uZXh0LWJ0bi1uZXh0Jyk7XG4gICAgICAgIHRoaXMudXBOZXh0Q2FyZCA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci11cC1uZXh0LWNhcmQnKTtcbiAgICAgICAgdGhpcy51cE5leHRDYXJkQW5pbWF0aW9uID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLXVwLW5leHQtY2FyZC1idG4tYmcnKTtcblxuICAgICAgICB0aGlzLmVycm9yT3ZlcmxheSA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1vdmVybGF5LWVycm9yLW92ZXJsYXknKTtcbiAgICAgICAgdGhpcy5lcnJvclRpdGxlID0gcGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLW92ZXJsYXktZXJyb3ItdGl0bGUnKTtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBwbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItb3ZlcmxheS1lcnJvci1ib2R5Jyk7XG5cbiAgICAgICAgdGhpcy52YWxpZGF0b3IgPSBuZXcgT3ZlcmxheVNraW5WYWxpZGF0b3IocGxheWVyRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy51cE5leHREZWxheSA9IHVwTmV4dERlbGF5O1xuICAgICAgICB0aGlzLnVwTmV4dE92ZXJsYXlPdmVycmlkZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwTmV4dFR5cGVJc0NhcmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQbGF5ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmFsaWRhdGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRvci52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBlbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubW9kaWZ5Q29udHJvbHMoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgbW9kaWZ5Q29udHJvbHMoKTogdm9pZCB7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5wYXVzZVB1bHNlTG9nbywgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5wbGF5UHVsc2VMb2dvLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmVycm9yT3ZlcmxheSwgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy51cE5leHRCYW5uZXIsIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMudXBOZXh0Q2FyZCwgZmFsc2UsICdkaXNwbGF5LWlubGluZScpO1xuICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMubW9iaWxlUGxheVBhdXNlVG9nZ2xlLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcblxuICAgICAgICBjb25zdCBwbGF5T3ZlcmxheUNvbnRyb2w6IFNWR0VsZW1lbnQgPSAodGhpcy5wbGF5LmNoaWxkcmVuLml0ZW0oMCkgYXMgdW5rbm93bikgYXMgU1ZHRWxlbWVudDtcblxuICAgICAgICAvL1RoaXMgZG9lcyBub3Qgd29yayBmb3IgdGhlIGRlZmF1bHQgc2tpbiwgc3ZnIG5lZWRzIGEgcGF0aCBlbGVtZW50IVxuICAgICAgICAvL1RPRE86IENoYW5nZSBpbiB0aGUgZnV0dXJlIVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBwbGF5T3ZlcmxheUNvbnRyb2wgJiZcbiAgICAgICAgICAgIHBsYXlPdmVybGF5Q29udHJvbC5xdWVyeVNlbGVjdG9yKCdwYXRoJykgJiZcbiAgICAgICAgICAgIHBsYXlPdmVybGF5Q29udHJvbC5xdWVyeVNlbGVjdG9yKCdwYXRoJykuc3R5bGUuZ2V0UHJvcGVydHlQcmlvcml0eSgnZmlsbCcpICE9PSAnaW1wb3J0YW50J1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucGxheS5jaGlsZHJlbi5pdGVtKDApLnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKS5zdHlsZS5maWxsID0gdGhpcy5wbGF5ZXJDb2xvci52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNTYWZhcmkoKSB8fCBCcm93c2VyVXRpbHMuaXNJT1MoKSkge1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VGFiSW5kZXhPbkVsZW1lbnRzKHRoaXMuYWlycGxheSk7XG4gICAgICAgICAgICB0aGlzLmFpcnBsYXkuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJyxcbiAgICAgICAgICAgICAgICBUcmFuc2xhdG9yLmdldFZhbHVlKCd0b29sdGlwLW5vdC1haXJwbGF5aW5nJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBBY2Nlc3NpYmlsaXR5VXRpbHMucmVnaXN0ZXJUb29sdGlwKHRoaXMuYWlycGxheSwgdGhpcy5wbGF5ZXJFbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuY2FzdE9uVGV4dC50ZXh0Q29udGVudCA9IFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3Rvb2x0aXAtYmVpbmctY2FzdGVkJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKTtcbiAgICAgICAgfSBlbHNlIGlmIChCcm93c2VyVXRpbHMuaXNDaHJvbWUoKSkge1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VGFiSW5kZXhPbkVsZW1lbnRzKHRoaXMuY2FzdCk7XG4gICAgICAgICAgICB0aGlzLmNhc3Quc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgVHJhbnNsYXRvci5nZXRWYWx1ZSgndG9vbHRpcC1ub3QtY2FzdGluZycsIHRoaXMudWlDb25maWcudWlMYW5ndWFnZSkpO1xuICAgICAgICAgICAgQWNjZXNzaWJpbGl0eVV0aWxzLnJlZ2lzdGVyVG9vbHRpcCh0aGlzLmNhc3QsIHRoaXMucGxheWVyRWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLmNhc3RPblRleHQudGV4dENvbnRlbnQgPSBUcmFuc2xhdG9yLmdldFZhbHVlKCd0b29sdGlwLWJlaW5nLWNhc3RlZCcsIHRoaXMudWlDb25maWcudWlMYW5ndWFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwbGF5ZXJXaW5kb3dTaXplID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGxheWVyVXBOZXh0UG9zdGVySW1hZ2U6IEhUTUxFbGVtZW50ID0gdGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgJyNwbGF5ZXItdXAtbmV4dC1wb3N0ZXItaW1hZ2UnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghcGxheWVyVXBOZXh0UG9zdGVySW1hZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBsYXllcldpZHRoOiBudW1iZXIgPSB0aGlzLnBsYXllckVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBpZiAocGxheWVyV2lkdGggPD0gNzcwKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVXBOZXh0UG9zdGVySW1hZ2Uuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgICAgICAgICAgICAgIHBsYXllclVwTmV4dFBvc3RlckltYWdlLnN0eWxlLmhlaWdodCA9ICcxNTBweCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXllcldpZHRoID4gNzcwKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyVXBOZXh0UG9zdGVySW1hZ2Uuc3R5bGUud2lkdGggPSAnMzc1cHgnO1xuICAgICAgICAgICAgICAgIHBsYXllclVwTmV4dFBvc3RlckltYWdlLnN0eWxlLmhlaWdodCA9ICcyNTBweCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsYXllclVwTmV4dFBvc3RlckltYWdlLnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgICAgICAgICAgICBwbGF5ZXJVcE5leHRQb3N0ZXJJbWFnZS5zdHlsZS5oZWlnaHQgPSAnMTUwcHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcGxheWVyV2luZG93U2l6ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN1YnNjcmliZUZvckludGVybmFsUGxheWVyRXZlbnRzKHB1Ymxpc2hlcjogUHVibGlzaGVyKTogdm9pZCB7XG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5yZWFkeSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVJlYWR5U3RhdGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoXG4gICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMudXBkYXRlVGl0bGUsXG4gICAgICAgICAgICAoZXZlbnQ6IEludGVybmFsUGxheWVyRXZlbnQ8VXBkYXRlVGl0bGVQYXlsb2FkPikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1RpdGxlKCFldmVudC5jb250ZW50LmlzSGlkZGVuLCBldmVudC5jb250ZW50Lm5ld1RpdGxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnVwZGF0ZVRpY2ssIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWN0aXZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFxuICAgICAgICAgICAgUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnNob3dFcnJvcixcbiAgICAgICAgICAgIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxTaG93RXJyb3JQYXlsb2FkPikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKGV2ZW50LmNvbnRlbnQubmFtZSwgZXZlbnQuY29udGVudC5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoXG4gICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMuYWRJc1BsYXlpbmdUaWNrLFxuICAgICAgICAgICAgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PEFkSXNQbGF5aW5nVGlja1BheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlQ2FzdE9wdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2tpcFN0YXRlKGV2ZW50LmNvbnRlbnQuY2FuU2tpcCwgZXZlbnQuY29udGVudC5hZEludGVncmF0aW9uKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoXG4gICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMucHJvbW90aW9uYWxJc1BsYXlpbmdUaWNrLFxuICAgICAgICAgICAgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PFByb21vdGlvbmFsSXNQbGF5aW5nVGlja1BheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZUNhc3RPcHRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNraXBTdGF0ZShldmVudC5jb250ZW50LmNhblNraXApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihcbiAgICAgICAgICAgIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy50cmFpbGVySXNQbGF5aW5nVGljayxcbiAgICAgICAgICAgIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxUcmFpbGVySXNQbGF5aW5nVGlja1BheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZUNhc3RPcHRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29udGVudC5oYXNQbGF5ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTa2lwU3RhdGUoZXZlbnQuY29udGVudC5jYW5Ta2lwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFxuICAgICAgICAgICAgUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLm5vcm1hbENvbnRlbnRJc1BsYXlpbmdUaWNrLFxuICAgICAgICAgICAgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PE5vcm1hbENvbnRlbnRJc1BsYXlpbmdUaWNrUGF5bG9hZD4pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlQ2FzdE9wdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2tpcFN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnBsYXksIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxPblBsYXlQYXlsb2FkPikgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVBsYXlTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5zaG93UHVsc2UodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnVwTmV4dEFuaW1hdGlvblN0YXRlLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmhhc1BsYXllZCA9IHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucGF1c2UsIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVBhdXNlU3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd1B1bHNlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMudXBOZXh0QW5pbWF0aW9uU3RhdGUuaXNQYXVzZWQgPSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnNlZWtlZCwgKGV2ZW50OiBQbGF5ZXJFdmVudDxTZWVrZWRQYXlsb2FkPikgPT4ge1xuICAgICAgICAgICAgLy9SZWNyZWF0ZSB0aGUgY29ycmVjdCB1cC1uZXh0IGFuaW1hdGlvbiFcbiAgICAgICAgICAgIGlmICh0aGlzLnVwTmV4dE92ZXJsYXlPdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy51cE5leHRDYXJkQ3VycmVudEFuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnVwTmV4dEJhbm5lckN1cnJlbnRBbmltYXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwTmV4dFR5cGVJc0NhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVVcE5leHRDYXJkQW5pbWF0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5ZXItdXAtbmV4dC1jYXJkLWJ0bi1iZycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cm9rZS1kYXNob2Zmc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNvbnRlbnQuZHVyYXRpb24gLSBldmVudC5jb250ZW50LnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVVwTmV4dEJhbm5lckFuaW1hdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLXVwLW5leHQtYnRuLW5leHQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKGV2ZW50LmNvbnRlbnQuZHVyYXRpb24gLSBldmVudC5jb250ZW50LnBvc2l0aW9uIC0gdGhpcy51cE5leHREZWxheSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5jYXN0aW5nc3RhcnRlZCwgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlQ2FzdFN0YXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuY2FzdGluZ3N0b3BwZWQsIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlQ2FzdFN0YXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5uZXh0dXBhbm5vdW5jZWQsXG4gICAgICAgICAgICAoZXZlbnQ6IFBsYXllckV2ZW50PE5leHRVcEFubm91bmNlZFBheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVcE5leHRTdGF0ZSh0cnVlLCBldmVudC5jb250ZW50LnJlbWFpbmluZ0R1cmF0aW9uLCBldmVudC5jb250ZW50Lm1lZGlhSW5mbyk7XG4gICAgICAgICAgICAgICAgdGhpcy51cE5leHRPdmVybGF5T3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLm5leHR1cHJlbW92ZWQsIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVcE5leHRTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnVwTmV4dE92ZXJsYXlPdmVycmlkZSA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMucmVzZXQsIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlRXJyb3IoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNoZWNrQWN0aXZlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB1aVNob3VsZFNob3c6IGJvb2xlYW4gPSB0aGlzLnVpU2hvdWxkU2hvdygpO1xuICAgICAgICB0aGlzLnN3YXBBY3RpdmVTdGF0ZXModGhpcy5vdmVybGF5LCB1aVNob3VsZFNob3cgfHwgdGhpcy51cE5leHRPdmVybGF5T3ZlcnJpZGUpO1xuXG4gICAgICAgIGlmICh1aVNob3VsZFNob3cgJiYgdGhpcy5oYXNQbGF5ZWQgJiYgQnJvd3NlclV0aWxzLmlzTW9iaWxlT3JUYWJsZXQoKSkge1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLm1vYmlsZVBsYXlQYXVzZVRvZ2dsZSwgdHJ1ZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLm92ZXJsYXkpLm9wYWNpdHkgPT09ICcwJykge1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLm1vYmlsZVBsYXlQYXVzZVRvZ2dsZSwgZmFsc2UsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFjdGl2YXRlUmVhZHlTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLnBsYXksIHRydWUsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZVBsYXlTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLnBsYXksIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICBEb21VdGlscy5zd2FwQnV0dG9uSW1hZ2VzKHRoaXMubW9iaWxlUGxheVBhdXNlVG9nZ2xlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZVBhdXNlU3RhdGUoKTogdm9pZCB7XG4gICAgICAgIERvbVV0aWxzLnN3YXBCdXR0b25JbWFnZXModGhpcy5tb2JpbGVQbGF5UGF1c2VUb2dnbGUsIHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWN0aXZhdGVDYXN0T3B0aW9uKCk6IHZvaWQge1xuICAgICAgICBpZiAoIUJyb3dzZXJVdGlscy5pc0lFb3JFZGdlKCkgJiYgIUJyb3dzZXJVdGlscy5pc0ZpcmVGb3goKSkge1xuICAgICAgICAgICAgaWYgKENhcGFiaWxpdGllcy5jYW5BaXJwbGF5KCkpIHtcbiAgICAgICAgICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuYWlycGxheSwgdHJ1ZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ2FwYWJpbGl0aWVzLmNhbkNocm9tZWNhc3QoKSAmJiAod2luZG93IGFzIGFueSkuY2FzdD8uZnJhbWV3b3JrKSB7XG4gICAgICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmNhc3QsIHRydWUsICdkaXNwbGF5LWJsb2NrJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRlYWN0aXZhdGVDYXN0T3B0aW9uKCk6IHZvaWQge1xuICAgICAgICBpZiAoQ2FwYWJpbGl0aWVzLmNhbkFpcnBsYXkoKSkge1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmFpcnBsYXksIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICB9IGVsc2UgaWYgKENhcGFiaWxpdGllcy5jYW5DaHJvbWVjYXN0KCkpIHtcbiAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5jYXN0LCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2hvd1RpdGxlKHNob3c6IGJvb2xlYW4sIHRpdGxlPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgdGhpcy50aXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy50aXRsZSwgc2hvdywgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3dQdWxzZShwbGF5aW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmIChCcm93c2VyVXRpbHMuaXNNb2JpbGVPclRhYmxldCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnB1bHNlLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXllci1vdmVybGF5LXB1bHNlZCcpO1xuXG4gICAgICAgIC8vVGhpcyBsaW5lIGlzIHJlcXVpcmVkIHRvIHJlc3RhcnQgdGhlIGFjdHVhbCBhbmltYXRpb24sIHdpdGhvdXQgdGhpcyB0cmljayB0aGUgYW5pbWF0aW9uIGRvZXMgTk9UIHJlc3RhcnQhXG4gICAgICAgIC8qIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby11bnVzZWQtZXhwcmVzc2lvbiAqL1xuICAgICAgICB2b2lkIHRoaXMucHVsc2Uub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5wbGF5UHVsc2VMb2dvLCB0cnVlLCAnZGlzcGxheS1ibG9jaycpO1xuICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLnBhdXNlUHVsc2VMb2dvLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5wbGF5UHVsc2VMb2dvLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5wYXVzZVB1bHNlTG9nbywgdHJ1ZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHVsc2UuY2xhc3NMaXN0LmFkZCgncGxheWVyLW92ZXJsYXktcHVsc2VkJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZUNhc3RTdGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKENhcGFiaWxpdGllcy5jYW5BaXJwbGF5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuY2FzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBUcmFuc2xhdG9yLmdldFZhbHVlKCd0b29sdGlwLWFpcnBsYXlpbmcnLCB0aGlzLnVpQ29uZmlnLnVpTGFuZ3VhZ2UpKTtcbiAgICAgICAgfSBlbHNlIGlmIChDYXBhYmlsaXRpZXMuY2FuQ2hyb21lY2FzdCgpKSB7XG4gICAgICAgICAgICB0aGlzLmNhc3Quc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgVHJhbnNsYXRvci5nZXRWYWx1ZSgndG9vbHRpcC1jYXN0aW5nJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRlYWN0aXZhdGVDYXN0U3RhdGUoKTogdm9pZCB7XG4gICAgICAgIGlmIChDYXBhYmlsaXRpZXMuY2FuQWlycGxheSgpKSB7XG4gICAgICAgICAgICB0aGlzLmNhc3Quc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJyxcbiAgICAgICAgICAgICAgICBUcmFuc2xhdG9yLmdldFZhbHVlKCd0b29sdGlwLW5vdC1haXJwbGF5aW5nJywgdGhpcy51aUNvbmZpZy51aUxhbmd1YWdlKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoQ2FwYWJpbGl0aWVzLmNhbkNocm9tZWNhc3QoKSkge1xuICAgICAgICAgICAgdGhpcy5jYXN0LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIFRyYW5zbGF0b3IuZ2V0VmFsdWUoJ3Rvb2x0aXAtbm90LWNhc3RpbmcnLCB0aGlzLnVpQ29uZmlnLnVpTGFuZ3VhZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlU2tpcFN0YXRlKGNhblNraXA6IGJvb2xlYW4sIGFkSW50ZWdyYXRpb24/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNhblNraXAgJiYgYWRJbnRlZ3JhdGlvbiAhPT0gJ2dvb2dsZS1pbWEnKSB7XG4gICAgICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMuc2tpcCwgdHJ1ZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5za2lwLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVXBOZXh0U3RhdGUoaXNVcE5leHQ6IGJvb2xlYW4sIHJlbWFpbmluZ0R1cmF0aW9uPzogbnVtYmVyLCBwdWJsaWNNZWRpYUluZm8/OiBQdWJsaWNNZWRpYUluZm8pOiB2b2lkIHtcbiAgICAgICAgaWYgKGlzVXBOZXh0ICYmICF0aGlzLnVpQ29uZmlnLmRpc2FibGVVcE5leHRVaSkge1xuICAgICAgICAgICAgaWYgKHB1YmxpY01lZGlhSW5mby5wb3N0ZXJJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy51cE5leHRDYXJkLCB0cnVlLCAnZGlzcGxheS1pbmxpbmUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3N0ZXJJbWFnZVRhZzogSFRNTEVsZW1lbnQgPSB0aGlzLnVwTmV4dENhcmQucXVlcnlTZWxlY3RvcignI3BsYXllci11cC1uZXh0LXBvc3Rlci1pbWFnZScpO1xuICAgICAgICAgICAgICAgIHBvc3RlckltYWdlVGFnLnNldEF0dHJpYnV0ZSgnc3JjJywgcHVibGljTWVkaWFJbmZvLnBvc3RlckltYWdlVXJsKTtcbiAgICAgICAgICAgICAgICBwb3N0ZXJJbWFnZVRhZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHB1YmxpY01lZGlhSW5mby50aXRsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cE5leHRUeXBlSXNDYXJkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVVwTmV4dENhcmRBbmltYXRpb24oXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjcGxheWVyLXVwLW5leHQtY2FyZC1idG4tYmcnKSxcbiAgICAgICAgICAgICAgICAgICAgJ3N0cm9rZS1kYXNob2Zmc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLnVwTmV4dEJhbm5lciwgdHJ1ZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwTmV4dFR5cGVJc0NhcmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVVwTmV4dEJhbm5lckFuaW1hdGlvbihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItdXAtbmV4dC1idG4tbmV4dCcpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhyZW1haW5pbmdEdXJhdGlvbiAtIHRoaXMudXBOZXh0RGVsYXkpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBEb21VdGlscy5zZXRWaXNpYmxlKHRoaXMudXBOZXh0QmFubmVyLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy51cE5leHRDYXJkLCBmYWxzZSwgJ2Rpc3BsYXktYmxvY2snKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy51cE5leHRDYXJkQ3VycmVudEFuaW1hdGlvbik7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudXBOZXh0QmFubmVyQ3VycmVudEFuaW1hdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3dFcnJvcih0aXRsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgRG9tVXRpbHMuc2V0VmlzaWJsZSh0aGlzLmVycm9yT3ZlcmxheSwgdHJ1ZSwgJ2Rpc3BsYXktYmxvY2snKTtcblxuICAgICAgICB0aGlzLmVycm9yVGl0bGUuaW5uZXJUZXh0ID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlLmlubmVyVGV4dCA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoaWRlRXJyb3IoKTogdm9pZCB7XG4gICAgICAgIERvbVV0aWxzLnNldFZpc2libGUodGhpcy5lcnJvck92ZXJsYXksIGZhbHNlLCAnZGlzcGxheS1ibG9jaycpO1xuXG4gICAgICAgIHRoaXMuZXJyb3JUaXRsZS5pbm5lclRleHQgPSAnJztcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UuaW5uZXJUZXh0ID0gJyc7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSW50ZXJmYWNlRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1vdmVybGF5JykgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJztcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzYWJsZUludGVyZmFjZSgpOiB2b2lkIHtcbiAgICAgICAgKHRoaXMucGxheWVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLW92ZXJsYXknKSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICBwdWJsaWMgZW5hYmxlSW50ZXJmYWNlKCk6IHZvaWQge1xuICAgICAgICAodGhpcy5wbGF5ZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItb3ZlcmxheScpIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVVwTmV4dENhcmRBbmltYXRpb24oXG4gICAgICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgICAgICBhbmltYXRhYmxlUHJvcGVydHk6IHN0cmluZyxcbiAgICAgICAgZHVyYXRpb246IG51bWJlcixcbiAgICAgICAgdXBkYXRlOiBib29sZWFuID0gZmFsc2UsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGZyYW1lcmF0ZTogbnVtYmVyID0gMzA7XG4gICAgICAgIGNvbnN0IHN0YXJ0VmFsdWU6IG51bWJlciA9IDA7XG4gICAgICAgIGNvbnN0IGVuZFZhbHVlOiBudW1iZXIgPSAtMTQ1OyAvL0Z1bGwgbG9vcFxuICAgICAgICBjb25zdCBzdGVwVmFsdWU6IG51bWJlciA9IChzdGFydFZhbHVlIC0gZW5kVmFsdWUpIC8gKHRoaXMudXBOZXh0RGVsYXkgKiBmcmFtZXJhdGUpO1xuICAgICAgICBsZXQgY3VycmVudFZhbHVlOiBudW1iZXIgPSBzdGVwVmFsdWUgKiBkdXJhdGlvbiAqIGZyYW1lcmF0ZSAtIE1hdGguYWJzKGVuZFZhbHVlKTtcblxuICAgICAgICBjb25zdCBpbnRlcnZhbDogbnVtYmVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudXBOZXh0QW5pbWF0aW9uU3RhdGUuaXNQYXVzZWQgJiYgIXVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlID4gZW5kVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgLT0gc3RlcFZhbHVlO1xuICAgICAgICAgICAgICAgIC8vTWFrZSBzdXJlIHRoZSBhbmltYXRpb24gZG9lcyBub3Qgb3ZlcnNob290IVxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA8IGVuZFZhbHVlID8gZW5kVmFsdWUgOiBjdXJyZW50VmFsdWUgPiBzdGFydFZhbHVlID8gc3RhcnRWYWx1ZSA6IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KGFuaW1hdGFibGVQcm9wZXJ0eSwgY3VycmVudFZhbHVlICsgJycsICdpbXBvcnRhbnQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDAgLyBmcmFtZXJhdGUpO1xuICAgICAgICB0aGlzLnVwTmV4dENhcmRDdXJyZW50QW5pbWF0aW9uID0gaW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVVcE5leHRCYW5uZXJBbmltYXRpb24oZWxlbWVudDogSFRNTEVsZW1lbnQsIG9mZnNldDogbnVtYmVyLCB1cGRhdGU6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBmcmFtZXJhdGU6IG51bWJlciA9IDMwO1xuICAgICAgICBjb25zdCBzdGVwVmFsdWU6IG51bWJlciA9IDEwMCAvICh0aGlzLnVwTmV4dERlbGF5ICogZnJhbWVyYXRlKTtcblxuICAgICAgICBjb25zdCBzdGFydFZhbHVlOiBudW1iZXIgPSBvZmZzZXQgKiBmcmFtZXJhdGUgKiBzdGVwVmFsdWU7XG4gICAgICAgIGNvbnN0IGVuZFZhbHVlOiBudW1iZXIgPSAxMDA7XG4gICAgICAgIGxldCBjdXJyZW50VmFsdWU6IG51bWJlciA9IHN0YXJ0VmFsdWU7XG5cbiAgICAgICAgY29uc3QgaW50ZXJ2YWw6IG51bWJlciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVwTmV4dEFuaW1hdGlvblN0YXRlLmlzUGF1c2VkICYmICF1cGRhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA8IGVuZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IHN0ZXBWYWx1ZTtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUgPiBlbmRWYWx1ZSA/IGVuZFZhbHVlIDogY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtcG9zaXRpb24nLCBjdXJyZW50VmFsdWUgKyAnJSBib3R0b20nLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwIC8gZnJhbWVyYXRlKTtcbiAgICAgICAgdGhpcy51cE5leHRCYW5uZXJDdXJyZW50QW5pbWF0aW9uID0gaW50ZXJ2YWw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWVkaWFJbmZvIH0gZnJvbSAnLi4vLi4vbW9kZWwvbWVkaWEtaW5mbyc7XG5pbXBvcnQgeyBRdWFsaXR5IH0gZnJvbSAnLi4vLi4vbW9kZWwvcXVhbGl0eSc7XG5pbXBvcnQgeyBBZFNvdXJjZSB9IGZyb20gJy4uLy4uL21vZGVsL3NvdXJjZS1kZXNjcmlwdGlvbic7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuLi9wdWJsaXNoZXInO1xuaW1wb3J0IHsgTWVkaWFDb250cm9scyB9IGZyb20gJy4uL3VpLWNvbnRyb2xzL21lZGlhLWNvbnRyb2xzJztcbmltcG9ydCB7IE92ZXJsYXlDb250cm9scyB9IGZyb20gJy4uL3VpLWNvbnRyb2xzL292ZXJsYXktY29udHJvbHMnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUGxheWVyQWJzdHJhY3Rpb25MYXllciB7XG4gICAgcHJvdGVjdGVkIG92ZXJsYXlDb250cm9sczogT3ZlcmxheUNvbnRyb2xzO1xuICAgIHByb3RlY3RlZCBtZWRpYUNvbnRyb2xzOiBNZWRpYUNvbnRyb2xzO1xuXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHBsYXllcjogYW55O1xuICAgIHByb3RlY3RlZCByZWFkb25seSBwdWJsaXNoZXI6IFB1Ymxpc2hlcjtcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwbGF5ZXJJbnN0YW5jZTogYW55LCBwdWJsaXNoZXI6IFB1Ymxpc2hlcikge1xuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllckluc3RhbmNlO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlciA9IHB1Ymxpc2hlcjtcbiAgICAgICAgdGhpcy5iaW5kQWJzdHJhY3RlZFBsYXllckV2ZW50cygpO1xuXG4gICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5leGl0aW5nKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2V0dXBVc2VySW50ZXJmYWNlKHB1Ymxpc2hlcjogUHVibGlzaGVyKTogUHJvbWlzZTxhbnk+O1xuXG4gICAgcHVibGljIGFic3RyYWN0IGFkZEFFU05ldHdvcmtJbnRlcmNlcHRvcihkcm1Ub2tlbjogc3RyaW5nKTogdm9pZDtcblxuICAgIC8vUGxheWVyIGFjdGlvbnNcbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2V0U291cmNlKG1lZGlhSW5mbzogTWVkaWFJbmZvKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZXRQb3N0ZXJJbWFnZShwb3N0ZXJJbWFnZVVybDogc3RyaW5nKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBwbGF5KCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgcGF1c2UoKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZXRMb29wKGRvTG9vcDogYm9vbGVhbik6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2tpcEFkKCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2tpcFByb21vdGlvbmFsKHJlbWFpbmluZ1Byb21vdGlvbmFsRHVyYXRpb246IG51bWJlcik6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3Qgc3RhcnRDYXN0KCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3Qgc3RvcENhc3QoKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBzdGFydEFpcnBsYXkoKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBzdG9wQWlycGxheSgpOiB2b2lkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcik6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2VlayhzZWNvbmRzRnJvbVN0YXJ0OiBudW1iZXIpOiB2b2lkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IHRvZ2dsZVN1YnMoKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCB0dXJuU3Vic09uKCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgdHVyblN1YnNPZmYoKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRBY3RpdmVTdWJzKCk6IFRleHRUcmFjaztcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZXRRdWFsaXR5KHRhcmdldFF1YWxpdHk6IFF1YWxpdHkpOiB2b2lkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IHRvZ2dsZUZ1bGxzY3JlZW4oKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZXRBdXRvcGxheShvbjogYm9vbGVhbik6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2NoZWR1bGVBZChhZDogQWRTb3VyY2UpOiB2b2lkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IHByZXBhcmVGb3JJbnRlcmFjdGlvbigpOiB2b2lkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IGlzSW50ZXJmYWNlRW5hYmxlZCgpOiBib29sZWFuO1xuXG4gICAgcHVibGljIGFic3RyYWN0IGRpc2FibGVJbnRlcmZhY2UoKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBlbmFibGVJbnRlcmZhY2UoKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBvblBsYXllckRlc3Ryb3lSZXF1ZXN0ZWQoKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBvblBsYXllclJlc2V0UmVxdWVzdGVkKCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVsZWFzZVBsYXllclJlc291cmNlcygpOiB2b2lkO1xuXG4gICAgLy9QbGF5ZXIgc3RhdGUgZ2V0dGVyc1xuICAgIHB1YmxpYyBhYnN0cmFjdCBwbGF5SGVhZFBvc2l0aW9uKCk6IG51bWJlcjtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBwbGF5SGVhZERhdGVUaW1lUG9zaXRpb24oKTogRGF0ZTtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBwbGF5SGVhZEF0TGl2ZVBvaW50KCk6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0RHVyYXRpb24oKTogbnVtYmVyO1xuXG4gICAgcHVibGljIGFic3RyYWN0IGdldFZvbHVtZSgpOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNQbGF5aW5nKCk6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNQYXVzZWQoKTogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBoYXNQbGF5ZWQoKTogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRTZWVrYWJsZVJhbmdlcygpOiBUaW1lUmFuZ2VzO1xuXG4gICAgcHVibGljIGFic3RyYWN0IGlzTG9vcGluZygpOiBib29sZWFuO1xuXG4gICAgcHVibGljIGFic3RyYWN0IGlzQWRQbGF5aW5nKCk6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNDYXN0aW5nKCk6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNGdWxsc2NyZWVuKCk6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0VG90YWxBZER1cmF0aW9uKCk6IG51bWJlcjtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBjYW5BZEJlU2tpcHBlZCgpOiBib29sZWFuO1xuXG4gICAgcHVibGljIGFic3RyYWN0IGdldEF2YWlsYWJsZVF1YWxpdGllcygpOiBRdWFsaXR5W107XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0QWN0aXZlUXVhbGl0eSgpOiBRdWFsaXR5O1xuXG4gICAgcHVibGljIGFic3RyYWN0IGdldEF1dG9wbGF5KCk6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0RHJvcHBlZEZyYW1lQ291bnQoKTogbnVtYmVyO1xuXG4gICAgcHVibGljIGFic3RyYWN0IGdldE5hdGl2ZVBsYXllckluc3RhbmNlKCk6IGFueTtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBiaW5kQWJzdHJhY3RlZFBsYXllckV2ZW50cygpOiB2b2lkO1xuXG4gICAgLy9FdmVudCBoYW5kbGVyc1xuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvblBsYXkoZXZlbnQ6IGFueSk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25QYXVzZShldmVudDogYW55KTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbkVuZGVkKGV2ZW50OiBhbnkpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uVm9sdW1lY2hhbmdlKGV2ZW50OiBhbnkpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uRnVsbHNjcmVlbkNoYW5nZShldmVudDogYW55KTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbkNhc3RTdGF0ZUNoYW5nZWQoZXZlbnQ6IGFueSk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25TZWVraW5nKGV2ZW50OiBhbnkpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uU2Vla0NvbXBsZXRlKGV2ZW50OiBhbnkpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uQnVmZmVycmluZyhldmVudDogYW55KTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbkJ1ZmZlckNvbXBsZXRlKGV2ZW50OiBhbnkpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uVmlkZW9RdWFsaXR5Q2hhbmdlZChldmVudDogYW55KTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbkF1ZGlvUXVhbGl0eUNoYW5nZWQoZXZlbnQ6IGFueSk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25SZWFkeVN0YXRlQ2hhbmdlZChldmVudDogYW55KTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvblNvdXJjZUNoYW5nZWQoZXZlbnQ6IGFueSk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25BZEJyZWFrQmVnaW4oZXZlbnQ6IGFueSk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25BZEJyZWFrRW5kKGV2ZW50OiBhbnkpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uQWRTa2lwcGVkKGV2ZW50OiBhbnkpOiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uVGltZVVwZGF0ZShldmVudDogYW55KTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbkludGVybmFsUGxheWVyRXJyb3IoZXZlbnQ6IGFueSk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25Ecm1FcnJvcihldmVudDogYW55KTogdm9pZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbkFkRXJyb3IoZXZlbnQ6IGFueSk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25OZXR3b3JrRXJyb3IoZXZlbnQ6IGFueSk6IHZvaWQ7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25DYXN0RXJyb3IoZXZlbnQ6IGFueSk6IHZvaWQ7XG59XG4iLCJpbXBvcnQgeyBFcnJvckNvZGVzLCBFcnJvckhhbmRsZXIgfSBmcm9tICcuLi8uLi9sb2dpYy9lcnJvci1oYW5kbGVyJztcbmltcG9ydCB7IEF1ZGlvUXVhbGl0eSB9IGZyb20gJy4uLy4uL21vZGVsL2F1ZGlvLXF1YWxpdHknO1xuaW1wb3J0IHsgQ29uZmlnLCBQTEFZRVJfTU9ERVMsIFVpQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uLy4uL21vZGVsL2NvbmZpZyc7XG5pbXBvcnQge1xuICAgIEFkUGF5bG9hZCxcbiAgICBPblZvbHVtZUNoYW5nZVBheWxvYWQsXG4gICAgUXVhbGl0eUNoYW5nZWRQYXlsb2FkLFxuICAgIFNvdXJjZUNoYW5nZWRQYXlsb2FkLFxuICAgIFNvdXJjZUxvYWRlZFBheWxvYWQsXG59IGZyb20gJy4uLy4uL21vZGVsL2V2ZW50aW5nL3B1YmxpYy1wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IE1lZGlhSW5mbyB9IGZyb20gJy4uLy4uL21vZGVsL21lZGlhLWluZm8nO1xuaW1wb3J0IHsgQWRTb3VyY2UsIFNvdXJjZURlc2NyaXB0aW9uIH0gZnJvbSAnLi4vLi4vbW9kZWwvc291cmNlLWRlc2NyaXB0aW9uJztcbmltcG9ydCB7IFZpZGVvUXVhbGl0eSB9IGZyb20gJy4uLy4uL21vZGVsL3ZpZGVvLXF1YWxpdHknO1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eVV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvYWNjZXNzaWJpbGl0eS11dGlscyc7XG5pbXBvcnQgeyBCcm93c2VyVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9icm93c2VyLXV0aWxzJztcbmltcG9ydCB7IFB1Ymxpc2hlciB9IGZyb20gJy4uL3B1Ymxpc2hlcic7XG5pbXBvcnQgeyBNZWRpYUNvbnRyb2xzIH0gZnJvbSAnLi4vdWktY29udHJvbHMvbWVkaWEtY29udHJvbHMnO1xuaW1wb3J0IHsgT3ZlcmxheUNvbnRyb2xzIH0gZnJvbSAnLi4vdWktY29udHJvbHMvb3ZlcmxheS1jb250cm9scyc7XG5pbXBvcnQgeyBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyIH0gZnJvbSAnLi9wbGF5ZXItYWJzdHJhY3Rpb24tbGF5ZXInO1xuaW1wb3J0IHsgRHJtU2VydmljZSB9IGZyb20gJy4uLy4uL2xvZ2ljL2RybS1zZXJ2aWNlJztcbmltcG9ydCB7IFF1YWxpdHkgfSBmcm9tICcuLi8uLi9tb2RlbC9xdWFsaXR5JztcblxuZXhwb3J0IGNsYXNzIFRoZW9BYnN0cmFjdGlvbkxheWVyIGV4dGVuZHMgUGxheWVyQWJzdHJhY3Rpb25MYXllciB7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHBsYXllckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSB3aWxsUGxheUZvclRoZUZpcnN0VGltZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIGhhc1BsYXllZEZvclRoZUZpcnN0VGltZTogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgYWROZXR3b3JrSW50ZXJjZXB0b3I6IEZ1bmN0aW9uO1xuICAgIHByaXZhdGUgeENETjogc3RyaW5nO1xuXG4gICAgcHJpdmF0ZSBzZWVraW5nOiBib29sZWFuO1xuICAgIHByaXZhdGUgY29uZmlnOiBDb25maWc7XG4gICAgcHJpdmF0ZSBzdGFsbGVkOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSBjb2xsZWN0WENkbkhlYWRlckhhbmRsZXI6IEZ1bmN0aW9uO1xuICAgIHByaXZhdGUgYWRkQUVTTmV0d29ya0ludGVyY2VwdG9ySGFuZGxlcjogRnVuY3Rpb247XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbmZpZywgcHVibGlzaGVyOiBQdWJsaXNoZXIpIHtcbiAgICAgICAgY29uc3QgcGxheWVySW5zdGFuY2UgPSAod2luZG93IGFzIGFueSkuVEhFT3BsYXllci5QbGF5ZXIoY29uZmlnLmNvbnRhaW5lckVsZW1lbnQsIENvbmZpZy5nZXRUaGVvQ29uZmlnKGNvbmZpZykpO1xuICAgICAgICBzdXBlcihwbGF5ZXJJbnN0YW5jZSwgcHVibGlzaGVyKTtcblxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICB0aGlzLnBsYXllckVsZW1lbnQgPSBwbGF5ZXJJbnN0YW5jZS5lbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgQnJvd3NlclV0aWxzLmZpeElFKHRoaXMucGxheWVyRWxlbWVudCk7XG5cbiAgICAgICAgcGxheWVySW5zdGFuY2UuYWJyLnN0cmF0ZWd5ID0geyB0eXBlOiBjb25maWcuYWJyU3RyYXRlZ3kgfTtcbiAgICAgICAgcGxheWVySW5zdGFuY2UuYWJyLnRhcmdldEJ1ZmZlciA9IDMwO1xuICAgICAgICBwbGF5ZXJJbnN0YW5jZS5wcmVsb2FkID0gY29uZmlnLnByZWxvYWRNb2RlO1xuXG4gICAgICAgIHRoaXMud2lsbFBsYXlGb3JUaGVGaXJzdFRpbWUgPSB0cnVlO1xuICAgICAgICB0aGlzLmhhc1BsYXllZEZvclRoZUZpcnN0VGltZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2Vla2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YWxsZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmNvbGxlY3RYQ2RuSGVhZGVyKHB1Ymxpc2hlcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb2xsZWN0WENkbkhlYWRlcihwdWJsaXNoZXI6IFB1Ymxpc2hlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbGxlY3RYQ2RuSGVhZGVySGFuZGxlciA9IChyZXNwb25zZTogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UucmVxdWVzdC51cmwgJiYgcmVzcG9uc2UucmVxdWVzdC51cmwuaW5kZXhPZignY2RuLmV1cm92aXNpb25jZG4ubmV0JykgPj0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDZG46IHN0cmluZyA9IHJlc3BvbnNlLmhlYWRlcnNbJ3gtY2RuJ10gPyByZXNwb25zZS5oZWFkZXJzWyd4LWNkbiddIDogdGhpcy54Q0ROO1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkQ2RuICE9PSB0aGlzLnhDRE4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54Q0ROID0gdXBkYXRlZENkbjtcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnhDZG5DaGFuZ2VkLCB7IGNkbjogdGhpcy54Q0ROIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wbGF5ZXIubmV0d29yay5hZGRSZXNwb25zZUludGVyY2VwdG9yKHRoaXMuY29sbGVjdFhDZG5IZWFkZXJIYW5kbGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc2V0dXBVc2VySW50ZXJmYWNlKHB1Ymxpc2hlcjogUHVibGlzaGVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jb25maWcucGxheWVyTW9kZSkge1xuICAgICAgICAgICAgY2FzZSBQTEFZRVJfTU9ERVMuVklERU86XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVPdmVybGF5Q29udHJvbHModGhpcy5jb25maWcudWlDb25maWcsIHRoaXMuY29uZmlnLm5leHRVcERlbGF5LCBwdWJsaXNoZXIpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZU1lZGlhQ29udHJvbHModGhpcy5jb25maWcudWlDb25maWcsIHB1Ymxpc2hlcik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3JIYW5kbGVyLmNyZWF0ZUVycm9yKCdHVUkgY3JlYXRpZSBmb3V0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IEVycm9yQ29kZXMuUExBWUVSX1VJX1RFTVBMQVRFX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIEFjY2Vzc2liaWxpdHlVdGlscy5hZGp1c3RBbGxTdmdFbGVtZW50c0ZvckFjY2Vzc2liaWxpdHkodGhpcy5wbGF5ZXJFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvckhhbmRsZXIuY3JlYXRlRXJyb3IoJ0FsZ2VtZW5lIGZvdXQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogRXJyb3JDb2Rlcy5QTEFZRVJfQVBJX0VSUk9SX0dFTkVSQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQTEFZRVJfTU9ERVMuQVVESU86XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvckhhbmRsZXIuY3JlYXRlRXJyb3IoJ09uZ2VsZGlnZSBtb2R1cyBvbSBkZSBzcGVsZXIgdGUgc3RhcnRlbiEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBFcnJvckNvZGVzLlBMQVlFUl9BUElfRVJST1JfTU9ERSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ09uZ2VsZGlnZSBtb2R1cyBvbSBkZSBzcGVsZXIgdGUgc3RhcnRlbiEnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVPdmVybGF5Q29udHJvbHMoXG4gICAgICAgIHVpQ29uZmlnOiBVaUNvbmZpZ3VyYXRpb24sXG4gICAgICAgIHVwTmV4dERlbGF5OiBudW1iZXIsXG4gICAgICAgIHB1Ymxpc2hlcjogUHVibGlzaGVyLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLm92ZXJsYXlDb250cm9scyA9IG5ldyBPdmVybGF5Q29udHJvbHModGhpcy5wbGF5ZXJFbGVtZW50LCB0aGlzLnBsYXllciwgdWlDb25maWcsIHVwTmV4dERlbGF5KTtcbiAgICAgICAgaWYgKHRoaXMub3ZlcmxheUNvbnRyb2xzLnZhbGlkYXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheUNvbnRyb2xzLmVuYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5vdmVybGF5Q29udHJvbHMuc3Vic2NyaWJlRm9ySW50ZXJuYWxQbGF5ZXJFdmVudHMocHVibGlzaGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3ZlcmxheUNvbnRyb2xzIHRlbXBsYXRlIG9udm9sbGVkaWcgb2YgaW5jb3JyZWN0IScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVNZWRpYUNvbnRyb2xzKHVpQ29uZmlnOiBVaUNvbmZpZ3VyYXRpb24sIHB1Ymxpc2hlcjogUHVibGlzaGVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IE1lZGlhQ29udHJvbHMud2FpdEZvclRoZW9QbGF5ZXJSZWFkeSh0aGlzLnBsYXllckVsZW1lbnQpO1xuICAgICAgICB0aGlzLm1lZGlhQ29udHJvbHMgPSBuZXcgTWVkaWFDb250cm9scyh0aGlzLnBsYXllckVsZW1lbnQsIHRoaXMucGxheWVyLCB1aUNvbmZpZyk7XG5cbiAgICAgICAgaWYgKHRoaXMubWVkaWFDb250cm9scy52YWxpZGF0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhQ29udHJvbHMuZW5hYmxlKCk7XG4gICAgICAgICAgICB0aGlzLm1lZGlhQ29udHJvbHMuc3Vic2NyaWJlRm9ySW50ZXJuYWxQbGF5ZXJFdmVudHMocHVibGlzaGVyKTtcbiAgICAgICAgICAgIHRoaXMubWVkaWFDb250cm9scy5lbmFibGVkVGltZUVudHJ5T25TZWVrZXIodGhpcy5zZWVrLmJpbmQodGhpcykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZWRpYUNvbnRyb2xzIHRlbXBsYXRlIG9udm9sbGVkaWcgb2YgaW5jb3JyZWN0IScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEFFU05ldHdvcmtJbnRlcmNlcHRvcihkcm1Ub2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmFkZEFFU05ldHdvcmtJbnRlcmNlcHRvckhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm5ldHdvcmsucmVtb3ZlUmVxdWVzdEludGVyY2VwdG9yKHRoaXMuYWRkQUVTTmV0d29ya0ludGVyY2VwdG9ySGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZEFFU05ldHdvcmtJbnRlcmNlcHRvckhhbmRsZXIgPSAocmVxdWVzdDogYW55KSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlZGlyZWN0KERybVNlcnZpY2UucmVtYXBBRVNUb2tlbk9udG9MaWNlbnNlUmVxdWVzdChyZXF1ZXN0LnVybCwgZHJtVG9rZW4pKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wbGF5ZXIubmV0d29yay5hZGRSZXF1ZXN0SW50ZXJjZXB0b3IodGhpcy5hZGRBRVNOZXR3b3JrSW50ZXJjZXB0b3JIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvL1BsYXllciBhY3Rpb25zXG4gICAgcHVibGljIHNldFNvdXJjZShtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdTZXR0aW5nIHNvdXJjZSBvbiBwbGF5ZXI6Jyk7XG4gICAgICAgIGNvbnNvbGUuZGVidWcobWVkaWFJbmZvLmN1cnJlbnRTb3VyY2UpO1xuICAgICAgICB0aGlzLnBsYXllci5zb3VyY2UgPSBtZWRpYUluZm8uY3VycmVudFNvdXJjZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0UG9zdGVySW1hZ2UocG9zdGVySW1hZ2VVcmw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsYXllci5wb3N0ZXIgPSBwb3N0ZXJJbWFnZVVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheSgpO1xuXG4gICAgICAgIGlmICh0aGlzLndpbGxQbGF5Rm9yVGhlRmlyc3RUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLndpbGxQbGF5Rm9yVGhlRmlyc3RUaW1lID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnR1cm5TdWJzT2ZmKCk7XG5cbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5maXJzdHBsYXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHBhdXNlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsYXllci5wYXVzZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBza2lwQWQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGxheWVyLmFkcy5za2lwKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNraXBQcm9tb3Rpb25hbChyZW1haW5pbmdQcm9tb3Rpb25hbER1cmF0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuY3VycmVudFRpbWUgKz0gcmVtYWluaW5nUHJvbW90aW9uYWxEdXJhdGlvbjtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnByb21vdGlvbmFsc2tpcHBlZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0Q2FzdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuY2FzdC5jaHJvbWVjYXN0LnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0b3BDYXN0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsYXllci5jYXN0LmNocm9tZWNhc3Quc3RvcCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGFydEFpcnBsYXkoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGxheWVyLmNhc3QuYWlycGxheS5zdGFydCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wQWlycGxheSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuY2FzdC5haXJwbGF5LnN0b3AoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh2b2x1bWUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMub25Wb2x1bWVjaGFuZ2UoeyB2b2x1bWU6IDAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXIubXV0ZWQgJiYgdm9sdW1lICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5tdXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vblZvbHVtZWNoYW5nZSh7IHZvbHVtZTogdGhpcy5wbGF5ZXIudm9sdW1lIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudm9sdW1lID0gdm9sdW1lO1xuICAgICAgICAgICAgLy8gTm8gZXZlbnQgZGlzcGF0Y2hlZCBoZXJlIHNpbmNlIHdlIHJlbGF5IHRoZSB0aGVvcGxheWVyIHZvbHVtZSBjaGFuZ2UgZXZlbnQsIHdoaWNoIGlzIG5vdCBkaXNwYXRjaGVkIGZvciBtdXRlL3VubXV0ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNlZWsoc2Vjb25kc0Zyb21TdGFydDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ1NlZWtpbmcgdG86ICcgKyBzZWNvbmRzRnJvbVN0YXJ0KTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmR1cmF0aW9uICYmICFpc05hTih0aGlzLnBsYXllci5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChzZWNvbmRzRnJvbVN0YXJ0ID49IDAgJiYgc2Vjb25kc0Zyb21TdGFydCA8PSB0aGlzLnBsYXllci5kdXJhdGlvbiAmJiBzZWNvbmRzRnJvbVN0YXJ0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmN1cnJlbnRUaW1lID0gc2Vjb25kc0Zyb21TdGFydDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kc0Zyb21TdGFydCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgICAgICAvL0ZpeCBzb21lIElFL0Nocm9tZS9TYWZhcmkgd2VpcmRuZXNzIVxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmN1cnJlbnRUaW1lID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgPyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vRG8gbm90aGluZyB3aGVuIHRoZSBzZWVrIGdvZXMgcGFzdCB0aGUgZW5kIG9mIHRoZSB2aWRlbyFcbiAgICAgICAgICAgICAgICAvL3RoaXMucGxheWVyLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5zZWVrLmJpbmQodGhpcywgc2Vjb25kc0Zyb21TdGFydCksIDI1MCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdG9nZ2xlU3VicygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0QWN0aXZlU3VicygpKSB7XG4gICAgICAgICAgICB0aGlzLnR1cm5TdWJzT2ZmKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnR1cm5TdWJzT24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBY3RpdmVTdWJzKCk6IFRleHRUcmFjayB7XG4gICAgICAgIGxldCBhY3RpdmVUcmFjazogVGV4dFRyYWNrID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0aGlzLnBsYXllci50ZXh0VHJhY2tzKSB7XG4gICAgICAgICAgICBpZiAodHJhY2sua2luZCA9PT0gJ3N1YnRpdGxlcycgfHwgdHJhY2sua2luZCA9PT0gJ2NhcHRpb25zJyB8fCB0cmFjay5raW5kID09PSAnZGVzY3JpcHRpb25zJykge1xuICAgICAgICAgICAgICAgIGlmICh0cmFjay5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVHJhY2sgPSB0cmFjaztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3RpdmVUcmFjaztcbiAgICB9XG5cbiAgICBwdWJsaWMgdHVyblN1YnNPZmYoKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdGhpcy5wbGF5ZXIudGV4dFRyYWNrcykge1xuICAgICAgICAgICAgaWYgKHRyYWNrLmtpbmQgPT09ICdzdWJ0aXRsZXMnIHx8IHRyYWNrLmtpbmQgPT09ICdjYXB0aW9ucycgfHwgdHJhY2sua2luZCA9PT0gJ2Rlc2NyaXB0aW9ucycpIHtcbiAgICAgICAgICAgICAgICB0cmFjay5tb2RlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmRlYnVnKCdEaXNhYmxlZCBzdWJ0aXRsZXMnKTtcbiAgICAgICAgaWYgKHRoaXMubWVkaWFDb250cm9scykge1xuICAgICAgICAgICAgdGhpcy5tZWRpYUNvbnRyb2xzLnRvZ2dsZVN1YnRpdGxlcyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdHVyblN1YnNPbigpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCB0cmFjayBvZiB0aGlzLnBsYXllci50ZXh0VHJhY2tzKSB7XG4gICAgICAgICAgICBpZiAodHJhY2sua2luZCA9PT0gJ3N1YnRpdGxlcycgfHwgdHJhY2sua2luZCA9PT0gJ2NhcHRpb25zJykge1xuICAgICAgICAgICAgICAgIHRyYWNrLm1vZGUgPSAnc2hvd2luZyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5kZWJ1ZygnRW5hYmxlZCBzdWJ0aXRsZXMnKTtcbiAgICAgICAgaWYgKHRoaXMubWVkaWFDb250cm9scykge1xuICAgICAgICAgICAgdGhpcy5tZWRpYUNvbnRyb2xzLnRvZ2dsZVN1YnRpdGxlcyh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRRdWFsaXR5KHRhcmdldFF1YWxpdHk6IFF1YWxpdHkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRhcmdldFF1YWxpdHkpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnZpZGVvVHJhY2tzWzBdLnRhcmdldFF1YWxpdHkgPSB0aGlzLnBsYXllci52aWRlb1RyYWNrc1swXS5xdWFsaXRpZXMuZmluZCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYmFuZHdpZHRoID09PSB0YXJnZXRRdWFsaXR5LmJhbmR3aWR0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudmlkZW9UcmFja3NbMF0udGFyZ2V0UXVhbGl0eSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdG9nZ2xlRnVsbHNjcmVlbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZWRpYUNvbnRyb2xzLnRvZ2dsZVByZXNlbnRhdGlvbk1vZGUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0QXV0b3BsYXkob246IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYXV0b3BsYXkgPSBvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2NoZWR1bGVBZChhZDogQWRTb3VyY2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuYWROZXR3b3JrSW50ZXJjZXB0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm5ldHdvcmsucmVtb3ZlUmVxdWVzdEludGVyY2VwdG9yKHRoaXMuYWROZXR3b3JrSW50ZXJjZXB0b3IpO1xuICAgICAgICAgICAgdGhpcy5hZE5ldHdvcmtJbnRlcmNlcHRvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvL0FkcyBuZWVkIHRvIGJlIHJlcXVlc3RlZCB3aXRoIGNyZWRlbnRpYWxzOiB0cnVlIHNvIHRoZSBjb3JyZWN0IGNvb2tpZXMgYXJlIHBhc3NlZCBvbiB0byBwZWJibGUhXG4gICAgICAgIHRoaXMuYWROZXR3b3JrSW50ZXJjZXB0b3IgPSAocmVxdWVzdDogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdCAmJiByZXF1ZXN0LnVybC5zZWFyY2goJ2Fkcy1wZWJibGVtZWRpYS5hZGhlc2UuY29tJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiByZXF1ZXN0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlZDogcmVxdWVzdC5jbG9zZWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZUNyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHN1YnR5cGU6IHJlcXVlc3Quc3VidHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiByZXF1ZXN0LnJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlcXVlc3QucmVkaXJlY3QocmVxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnBsYXllci5uZXR3b3JrLmFkZFJlcXVlc3RJbnRlcmNlcHRvcih0aGlzLmFkTmV0d29ya0ludGVyY2VwdG9yKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRzLnNjaGVkdWxlKGFkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TG9vcChkb0xvb3A6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIubG9vcCA9IGRvTG9vcDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHJlcGFyZUZvckludGVyYWN0aW9uKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsYXllci5wcmVwYXJlV2l0aFVzZXJBY3Rpb24oKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNJbnRlcmZhY2VFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYUNvbnRyb2xzLmlzSW50ZXJmYWNlRW5hYmxlZCgpICYmIHRoaXMub3ZlcmxheUNvbnRyb2xzLmlzSW50ZXJmYWNlRW5hYmxlZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNhYmxlSW50ZXJmYWNlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1lZGlhQ29udHJvbHMuZGlzYWJsZUludGVyZmFjZSgpO1xuICAgICAgICB0aGlzLm92ZXJsYXlDb250cm9scy5kaXNhYmxlSW50ZXJmYWNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGVuYWJsZUludGVyZmFjZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZWRpYUNvbnRyb2xzLmVuYWJsZUludGVyZmFjZSgpO1xuICAgICAgICB0aGlzLm92ZXJsYXlDb250cm9scy5lbmFibGVJbnRlcmZhY2UoKTtcbiAgICB9XG5cbiAgICAvL1BsYXllciBzdGF0ZSBnZXR0ZXJzXG4gICAgcHVibGljIHBsYXlIZWFkUG9zaXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmN1cnJlbnRUaW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5SGVhZERhdGVUaW1lUG9zaXRpb24oKTogRGF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5jdXJyZW50UHJvZ3JhbURhdGVUaW1lID8gdGhpcy5wbGF5ZXIuY3VycmVudFByb2dyYW1EYXRlVGltZSA6IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIHBsYXlIZWFkQXRMaXZlUG9pbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhQ29udHJvbHMucGxheUhlYWRBdExpdmVQb2ludCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREdXJhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZHVyYXRpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZvbHVtZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIubXV0ZWQgPyAwIDogdGhpcy5wbGF5ZXIudm9sdW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1BsYXlpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5wbGF5ZXIucGF1c2VkO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1BhdXNlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLnBhdXNlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzUGxheWVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNQbGF5ZWRGb3JUaGVGaXJzdFRpbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNlZWthYmxlUmFuZ2VzKCk6IFRpbWVSYW5nZXMge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuc2Vla2FibGU7XG4gICAgfVxuXG4gICAgcHVibGljIGlzTG9vcGluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmxvb3A7XG4gICAgfVxuXG4gICAgcHVibGljIGlzQWRQbGF5aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuYWRzLnBsYXlpbmc7XG4gICAgfVxuXG4gICAgcHVibGljIGlzQ2FzdGluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmNhc3QuY2FzdGluZyB8fCB0aGlzLnBsYXllci5jYXN0LmFpcnBsYXkuY2FzdGluZztcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNGdWxsc2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgISh0aGlzLnBsYXllci5wcmVzZW50YXRpb24uY3VycmVudE1vZGUgPT09ICdpbmxpbmUnKSAmJlxuICAgICAgICAgICAgISh0aGlzLnBsYXllci5wcmVzZW50YXRpb24uY3VycmVudE1vZGUgPT09ICdwaWN0dXJlLWluLXBpY3R1cmUnKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUb3RhbEFkRHVyYXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgLy9WUEFJRCBBRFNcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmFkcy5jdXJyZW50QWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RHVyYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vVkFTVCBBRFNcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmFkcy5jdXJyZW50QWRzXG4gICAgICAgICAgICAubWFwKChhZDogYW55KSA9PiBhZC5kdXJhdGlvbilcbiAgICAgICAgICAgIC5yZWR1Y2UoKGFjY3VtdWxhdG9yOiBudW1iZXIsIGN1cnJlbnRWYWx1ZTogbnVtYmVyKSA9PiBhY2N1bXVsYXRvciArIGN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbkFkQmVTa2lwcGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICAvL0ZvciBub3cgb25seSBvbmUgYWQgcGVyIGFkYnJlYWsgaXMgc3VwcG9ydGVkIVxuICAgICAgICBjb25zdCBhZEJyZWFrOiBhbnkgPSB0aGlzLnBsYXllci5hZHMuY3VycmVudEFkQnJlYWs7XG5cbiAgICAgICAgaWYgKGFkQnJlYWsgJiYgYWRCcmVhay5hZHNbMF0pIHtcbiAgICAgICAgICAgIGNvbnN0IGFkOiBhbnkgPSBhZEJyZWFrLmFkc1swXTtcblxuICAgICAgICAgICAgLy9Ta2lwcGluZyBhZHMgb25seSBzdXBwb3J0ZWQgZm9yIGFkcyB3aGljaCBoYXZlIGEgc2tpcE9mZnNldCBmaWVsZCFcbiAgICAgICAgICAgIGlmICghYWQuaGFzT3duUHJvcGVydHkoJ3NraXBPZmZzZXQnKSB8fCBhZC5za2lwT2Zmc2V0IDw9IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhblNraXBBZEZyb21SZW1haW5pbmc6IG51bWJlciA9IGFkLmR1cmF0aW9uIC0gYWQuc2tpcE9mZnNldDtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdEdXJhdGlvbjogbnVtYmVyID1cbiAgICAgICAgICAgICAgICAgICAgYWRCcmVhay5tYXhSZW1haW5pbmdEdXJhdGlvbiA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGFkQnJlYWsubWF4UmVtYWluaW5nRHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIDogYWQuZHVyYXRpb24gLSB0aGlzLnBsYXlIZWFkUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtYWluaW5nRHVyYXRpb24gPCBjYW5Ta2lwQWRGcm9tUmVtYWluaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QXZhaWxhYmxlUXVhbGl0aWVzKCk6IFZpZGVvUXVhbGl0eVtdIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLnZpZGVvVHJhY2tzICYmIHRoaXMucGxheWVyLnZpZGVvVHJhY2tzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIudmlkZW9UcmFja3NbMF0ucXVhbGl0aWVzLm1hcCgocXVhbGl0eTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWaWRlb1F1YWxpdHkocXVhbGl0eS5mcmFtZVJhdGUsIHF1YWxpdHkuYmFuZHdpZHRoLCBxdWFsaXR5LndpZHRoLCBxdWFsaXR5LmhlaWdodCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFjdGl2ZVF1YWxpdHkoKTogVmlkZW9RdWFsaXR5IHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLnZpZGVvVHJhY2tzICYmIHRoaXMucGxheWVyLnZpZGVvVHJhY2tzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVRdWFsaXR5OiBhbnkgPSB0aGlzLnBsYXllci52aWRlb1RyYWNrc1swXS5hY3RpdmVRdWFsaXR5O1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVF1YWxpdHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFZpZGVvUXVhbGl0eShcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlUXVhbGl0eS5mcmFtZVJhdGUsXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVF1YWxpdHkuYmFuZHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVRdWFsaXR5LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVRdWFsaXR5LmhlaWdodCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBdXRvcGxheSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmF1dG9wbGF5O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREcm9wcGVkRnJhbWVDb3VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIubWV0cmljcy5kcm9wcGVkVmlkZW9GcmFtZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5hdGl2ZVBsYXllckluc3RhbmNlKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25QbGF5ZXJEZXN0cm95UmVxdWVzdGVkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5kZXN0cm95KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25QbGF5ZXJSZXNldFJlcXVlc3RlZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy53aWxsUGxheUZvclRoZUZpcnN0VGltZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaGFzUGxheWVkRm9yVGhlRmlyc3RUaW1lID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbGVhc2VQbGF5ZXJSZXNvdXJjZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGxheWVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5wbGF5ZXJFbGVtZW50KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYmluZEFic3RyYWN0ZWRQbGF5ZXJFdmVudHMoKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ2FkZGluZyB0aGVvIGV2ZW50IGxpc3RlbmVycycpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5vblBsYXkuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgdGhpcy5vblBhdXNlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub25FbmRlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndm9sdW1lY2hhbmdlJywgdGhpcy5vblZvbHVtZWNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMub25TZWVraW5nLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdzZWVrZWQnLCB0aGlzLm9uU2Vla0NvbXBsZXRlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCd3YWl0aW5nJywgdGhpcy5vbkJ1ZmZlcnJpbmcuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCB0aGlzLm9uQnVmZmVyQ29tcGxldGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCB0aGlzLm9uVGltZVVwZGF0ZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLnBsYXllci52aWRlb1RyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIChldmVudDogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVmlkZW8gdHJhY2sgYWRkZWQhJyk7XG4gICAgICAgICAgICBldmVudC50cmFjay5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmVxdWFsaXR5Y2hhbmdlZCcsIHRoaXMub25WaWRlb1F1YWxpdHlDaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBsYXllci5hdWRpb1RyYWNrcy5hZGRFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIChldmVudDogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXVkaW8gdHJhY2sgYWRkZWQhJyk7XG4gICAgICAgICAgICBldmVudC50cmFjay5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmVxdWFsaXR5Y2hhbmdlZCcsIHRoaXMub25BdWRpb1F1YWxpdHlDaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgdGhpcy5vblJlYWR5U3RhdGVDaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VjaGFuZ2UnLCB0aGlzLm9uU291cmNlQ2hhbmdlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignZHVyYXRpb25jaGFuZ2UnLCB0aGlzLm9uRHVyYXRpb25DaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25JbnRlcm5hbFBsYXllckVycm9yLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdjb250ZW50cHJvdGVjdGlvbmVycm9yJywgdGhpcy5vbkRybUVycm9yLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMucGxheWVyLnByZXNlbnRhdGlvbi5hZGRFdmVudExpc3RlbmVyKCdwcmVzZW50YXRpb25tb2RlY2hhbmdlJywgdGhpcy5vbkZ1bGxzY3JlZW5DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucGxheWVyLnByZXNlbnRhdGlvbi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25JbnRlcm5hbFBsYXllckVycm9yLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMucGxheWVyLmNhc3QuY2hyb21lY2FzdC5hZGRFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsIHRoaXMub25DYXN0U3RhdGVDaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5jYXN0LmNocm9tZWNhc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uQ2FzdEVycm9yLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5jYXN0LmFpcnBsYXkuYWRkRXZlbnRMaXN0ZW5lcignc3RhdGVjaGFuZ2UnLCB0aGlzLm9uQ2FzdFN0YXRlQ2hhbmdlZC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLnBsYXllci5hZHMuYWRkRXZlbnRMaXN0ZW5lcignYWRicmVha2JlZ2luJywgdGhpcy5vbkFkQnJlYWtCZWdpbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRzLmFkZEV2ZW50TGlzdGVuZXIoJ2FkYnJlYWtlbmQnLCB0aGlzLm9uQWRCcmVha0VuZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRzLmFkZEV2ZW50TGlzdGVuZXIoJ2Fkc2tpcCcsIHRoaXMub25BZFNraXBwZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucGxheWVyLmFkcy5hZGRFdmVudExpc3RlbmVyKCdhZGVycm9yJywgdGhpcy5vbkFkRXJyb3IuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXIubmV0d29yay5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgdGhpcy5vbk5ldHdvcmtFcnJvci5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25QbGF5KGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgLy9UaGlzIHN0YXRlbWVudCBpcyBleGVjdXRlZCBpZiB0aGUgdmlkZW8gaXMgc3RhcnRlZCBieSBjbGlja2luZyBvbiB0aGUgdmlkZW8gaXRzZWxmIHJhdGhlciB0aGFuIG9uIG91ciBVSSBlbGVtZW50cyFcbiAgICAgICAgaWYgKHRoaXMud2lsbFBsYXlGb3JUaGVGaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMud2lsbFBsYXlGb3JUaGVGaXJzdFRpbWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy50dXJuU3Vic09mZigpO1xuXG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZmlyc3RwbGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQFRPRE86IFJlbW92ZSBsaW5lIGJlbG93IHdoZW4gVGhlb1BsYXllciBmaXhlZCB0aGlzLiBTZWUgSmlyYSB0aWNrZXQgVkQtNDA0XG4gICAgICAgIHRoaXMucGxheWVyLmN1cnJlbnRUaW1lID0gdGhpcy5wbGF5ZXIuY3VycmVudFRpbWU7XG5cbiAgICAgICAgdGhpcy5oYXNQbGF5ZWRGb3JUaGVGaXJzdFRpbWUgPSB0cnVlO1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucGxheSk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wbGF5aW5nKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25QYXVzZShldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wYXVzZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRW5kZWQoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZW5kZWQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblZvbHVtZWNoYW5nZShldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIC8vIFJlbW92ZSBib2d1cyBldmVudHMgZnJvbSB0aGVvcGxheWVyXG4gICAgICAgIGlmICh0aGlzLnBsYXllci5tdXRlZCAmJiBldmVudC52b2x1bWUgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ2Rpc3BhdGNoaW5nIHZvbHVtZSBldmVudDogJyArIGV2ZW50LnZvbHVtZSk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2g8T25Wb2x1bWVDaGFuZ2VQYXlsb2FkPihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnZvbHVtZWNoYW5nZSwge1xuICAgICAgICAgICAgdm9sdW1lOiBldmVudC52b2x1bWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkZ1bGxzY3JlZW5DaGFuZ2UoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdGdWxsc2NyZWVuIHN0YXRlIGNoYW5nZWQnKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5mdWxsc2NyZWVuZXhpdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZnVsbHNjcmVlbmVudGVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkNhc3RTdGF0ZUNoYW5nZWQoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc0Nhc3RpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmNhc3RpbmdzdGFydGVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5jYXN0aW5nc3RvcHBlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25TZWVraW5nKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlZWtpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc2Vla2luZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuc2Vla2luZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25TZWVrQ29tcGxldGUoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zZWVraW5nKSB7XG4gICAgICAgICAgICB0aGlzLnNlZWtpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5zZWVrZWQsIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wbGF5SGVhZFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZ2V0RHVyYXRpb24oKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uQnVmZmVycmluZyhldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zdGFsbGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmJ1ZmZlcmluZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25CdWZmZXJDb21wbGV0ZShldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN0YWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmJ1ZmZlcmluZ0NvbXBsZXRlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25WaWRlb1F1YWxpdHlDaGFuZ2VkKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQucXVhbGl0eSk7XG5cbiAgICAgICAgY29uc3QgcGF5bG9hZDogUXVhbGl0eUNoYW5nZWRQYXlsb2FkID0ge1xuICAgICAgICAgICAgdmlkZW86IG5ldyBWaWRlb1F1YWxpdHkoXG4gICAgICAgICAgICAgICAgZXZlbnQucXVhbGl0eS5mcmFtZVJhdGUsXG4gICAgICAgICAgICAgICAgZXZlbnQucXVhbGl0eS5iYW5kd2lkdGgsXG4gICAgICAgICAgICAgICAgZXZlbnQucXVhbGl0eS53aWR0aCxcbiAgICAgICAgICAgICAgICBldmVudC5xdWFsaXR5LmhlaWdodCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBhdWRpbzogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmRlYnVnKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ1ZpZGVvIHF1YWxpdHkgY2hhbmdlZDogJyk7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ1Jlc29sdXRpb246ICcgKyBldmVudC5xdWFsaXR5LndpZHRoICsgJ3B4IHggJyArIGV2ZW50LnF1YWxpdHkuaGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0JhbmR3aWR0aDogJyArIGV2ZW50LnF1YWxpdHkuYmFuZHdpZHRoICsgJyBiaXRzL3NlYycpO1xuICAgICAgICBjb25zb2xlLmRlYnVnKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XG5cbiAgICAgICAgLy8gRXZlcnkgdGltZSB0aGUgdmlkZW8gcXVhbGl0eSB1cGRhdGVzLCB0aGUgcXVhbGl0eSBsaXN0IHNob3VsZCBiZSB1cGRhdGVkIVxuICAgICAgICB0aGlzLm1lZGlhQ29udHJvbHMudXBkYXRlUXVhbGl0eUxpc3RJdGVtcyhcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLFxuICAgICAgICAgICAgdGhpcy5nZXRBdmFpbGFibGVRdWFsaXRpZXMoKSxcbiAgICAgICAgICAgIHBheWxvYWQudmlkZW8sXG4gICAgICAgICAgICB0aGlzLnBsYXllci52aWRlb1RyYWNrc1swXS50YXJnZXRRdWFsaXR5ID09PSB1bmRlZmluZWQsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaDxRdWFsaXR5Q2hhbmdlZFBheWxvYWQ+KFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucXVhbGl0eWNoYW5nZWQsIHBheWxvYWQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkF1ZGlvUXVhbGl0eUNoYW5nZWQoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zdCBwYXlsb2FkOiBRdWFsaXR5Q2hhbmdlZFBheWxvYWQgPSB7XG4gICAgICAgICAgICB2aWRlbzogbnVsbCxcbiAgICAgICAgICAgIGF1ZGlvOiBuZXcgQXVkaW9RdWFsaXR5KGV2ZW50LnF1YWxpdHkuYmFuZHdpZHRoLCBldmVudC5xdWFsaXR5LmF1ZGlvU2FtcGxpbmdSYXRlKSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmRlYnVnKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0F1ZGlvIHF1YWxpdHkgY2hhbmdlZDogJyk7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0JhbmR3aWR0aDogJyArIGV2ZW50LnF1YWxpdHkuYmFuZHdpZHRoICsgJyBiaXRzL3NlYycpO1xuICAgICAgICBjb25zb2xlLmRlYnVnKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaDxRdWFsaXR5Q2hhbmdlZFBheWxvYWQ+KFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucXVhbGl0eWNoYW5nZWQsIHBheWxvYWQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblJlYWR5U3RhdGVDaGFuZ2VkKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZDogU291cmNlTG9hZGVkUGF5bG9hZCA9IHsgbG9hZGVkOiBmYWxzZSB9O1xuICAgICAgICBpZiAoZXZlbnQucmVhZHlTdGF0ZSA+IDApIHtcbiAgICAgICAgICAgIHBheWxvYWQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoPFNvdXJjZUxvYWRlZFBheWxvYWQ+KFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuc291cmNlbG9hZGVkLCBwYXlsb2FkKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25Tb3VyY2VDaGFuZ2VkKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c0RybUVycm9yID0gbnVsbDtcbiAgICAgICAgY29uc3QgcGF5bG9hZDogU291cmNlQ2hhbmdlZFBheWxvYWQgPSB7XG4gICAgICAgICAgICBzb3VyY2VEZXNjcmlwdGlvbjogT2JqZWN0LnNldFByb3RvdHlwZU9mKGV2ZW50LnNvdXJjZSwgU291cmNlRGVzY3JpcHRpb24ucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHhDRE46IHRoaXMueENETixcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaDxTb3VyY2VDaGFuZ2VkUGF5bG9hZD4oUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5zb3VyY2VjaGFuZ2VkLCBwYXlsb2FkKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25EdXJhdGlvbkNoYW5nZWQoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5kdXJhdGlvblNldCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uQWRCcmVha0JlZ2luKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgbGV0IHBheWxvYWQ6IEFkUGF5bG9hZDtcbiAgICAgICAgaWYgKGV2ZW50LmFkLmludGVncmF0aW9uID09PSAnZ29vZ2xlLWltYScpIHtcbiAgICAgICAgICAgIHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICdJTUEtSUQnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdJTUEtQUQnLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAtMSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZVVyaTogJ2R1bW15LXJlc291cmNlLXVyaScsXG5cbiAgICAgICAgICAgICAgICBhZmZpbGlhdGU6ICdJTUEtYWQtYWZmaWxpYXRlJyxcbiAgICAgICAgICAgICAgICBjYW1wYWlnbjogJ0lNQS1hZC1jYW1wYWlnbicsXG4gICAgICAgICAgICAgICAgYWR2ZXJ0aXNlcjogJ0lNQS1hZC1hZHZlcnRpc2VyJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIGlkOiBldmVudC5hZC5hZHNbMF0uaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogJ1ZBU1QtQUQnLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBldmVudC5hZC5tYXhEdXJhdGlvbixcbiAgICAgICAgICAgICAgICByZXNvdXJjZVVyaTogZXZlbnQuYWQuYWRzWzBdLnJlc291cmNlVVJJLFxuXG4gICAgICAgICAgICAgICAgYWZmaWxpYXRlOiAnVkFTVC1hZC1hZmZpbGlhdGUnLFxuICAgICAgICAgICAgICAgIGNhbXBhaWduOiAnVkFTVC1hZC1jYW1wYWlnbicsXG4gICAgICAgICAgICAgICAgYWR2ZXJ0aXNlcjogJ1ZBU1QtYWQtYWR2ZXJ0aXNlcicsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaDxBZFBheWxvYWQ+KFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuYWRicmVha2JlZ2luLCBwYXlsb2FkKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25BZEJyZWFrRW5kKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmFkYnJlYWtlbmQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkFkU2tpcHBlZChldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5hZHNraXBwZWQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblRpbWVVcGRhdGUoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMudGltZXVwZGF0ZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uSW50ZXJuYWxQbGF5ZXJFcnJvcihldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIC8vVE9ETzogVGhpcyBtaWdodCBuZWVkIHRvIGJlIGV4dGVuZGVkISBEb2VzIGl0IGNvbnRhaW4gYWxsIHRoZSByZXF1aXJlZCBlcnJvciBjb2Rlcz9cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBldmVudC5lcnJvci5pbmRleE9mKCdVbmtub3duIENETSBlcnJvcicpID4gLTEgfHxcbiAgICAgICAgICAgIGV2ZW50LmVycm9yLmluZGV4T2YoJ1NvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBuYXRpdmUgcGxheWJhY2suJykgPiAtMSB8fFxuICAgICAgICAgICAgZXZlbnQuZXJyb3IuaW5kZXhPZignTm8gc3VwcG9ydGVkIGtleSBzeXN0ZW0gaGFzIGJlZW4gZm91bmQgYW1vbmcgdGhlIENvbnRlbnRQcm90ZWN0aW9uIGVsZW1lbnRzJykgPiAtMSB8fFxuICAgICAgICAgICAgZXZlbnQuZXJyb3IgPT09ICdTb21ldGhpbmcgd2VudCB3cm9uZyBkZXRlcm1pbmluZyB0aGUgaW5pdGlhbCBQZXJpb2Qgb2YgdGhlIHByb3ZpZGVkIE1QRUctREFTSCBzdHJlYW0nXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5vbkRybUVycm9yKGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5lcnJvci5pbmRleE9mKCdUaGUgcHJvdmlkZWQgTVBFRy1EQVNIIGRvY3VtZW50IGNvdWxkIG5vdCBiZSB1cGRhdGVkJykgPiAtMSkge1xuICAgICAgICAgICAgLy9JbnRlcm5ldCBkaXNjb25uZWN0ZWQhXG4gICAgICAgICAgICAvL1RPRE86IEV4dGVuZCBhbmQgdGVzdCFcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5lcnJvciA9PT0gJ1RoZSBXaWRldmluZSB2dURSTSB0b2tlbiBoYXMgbm90IGJlZW4gY29ycmVjdGx5IGNvbmZpZ3VyZWQuJykge1xuICAgICAgICAgICAgLy9EaXNjYXJkIGVycm9yIHNpbmNlIGl0IGlzIGhhbmRsZXMgZWxzZXdoZXJlIChEUk0gZXJyb3IpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoXG4gICAgICAgICAgICAgICAgRXJyb3JDb2Rlcy5QTEFZRVJfQVBJX0VSUk9SX0dFTkVSQUwsXG4gICAgICAgICAgICAgICAgJ2Vycm9ycy1hbi1pbnRlcm5hbC1lcnJvci1vY2N1cnJlZCcsXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9UT0RPOiBSZW1vdmUgdGhpcyBwcmV2aW91c0RybSBjb2RlIG9uY2UgVGhlb1BsYXllciBmaXhlcyB0aGVpciBpc3N1ZSB3aXRoIG5vbiBkcm1lZCBtcGQgc3RyZWFtcyFcbiAgICBwcml2YXRlIHByZXZpb3VzRHJtRXJyb3I6IG51bWJlcjtcblxuICAgIHByb3RlY3RlZCBvbkRybUVycm9yKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgbm93OiBudW1iZXIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKCF0aGlzLnByZXZpb3VzRHJtRXJyb3IgfHwgbm93IC0gdGhpcy5wcmV2aW91c0RybUVycm9yID4gNTAwKSB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlV2FybmluZyhcbiAgICAgICAgICAgICAgICBFcnJvckNvZGVzLlBMQVlFUl9BUElfRVJST1JfRFJNLFxuICAgICAgICAgICAgICAgICd3YXJuaW5nLWFuLWVycm9yLW9jY3VycmVkLXdpdGgtdGhlLXZpZGVvLXNlY3VyaXR5JyxcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmV2aW91c0RybUVycm9yID0gbm93O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkFkRXJyb3IoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlV2FybmluZyhcbiAgICAgICAgICAgIEVycm9yQ29kZXMuUExBWUVSX0FEU19BUElfR0VORVJBTCxcbiAgICAgICAgICAgICd3YXJuaW5nLXRoZS1hZC1jYW5ub3QtYmUtcGxheWVkJyxcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbk5ldHdvcmtFcnJvcihldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihcbiAgICAgICAgICAgIEVycm9yQ29kZXMuUExBWUVSX05FVFdPUktfQVBJX0dFTkVSQUwsXG4gICAgICAgICAgICAnZXJyb3JzLWEtbmV0d29yay1lcnJvci1vY2N1cnJlZCcsXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25DYXN0RXJyb3IoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlV2FybmluZyhcbiAgICAgICAgICAgIEVycm9yQ29kZXMuUExBWUVSX0NIUk9NRUNBU1RfQVBJX0dFTkVSQUwsXG4gICAgICAgICAgICAnd2FybmluZy1hbi1lcnJvci1vY2N1cnJlZC1kdXJpbmctY2FzdGluZycsXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi8uLi9tb2RlbC9jb25maWcnO1xuaW1wb3J0IHsgUHVibGlzaGVyIH0gZnJvbSAnLi4vcHVibGlzaGVyJztcbmltcG9ydCB7IFRoZW9BYnN0cmFjdGlvbkxheWVyIH0gZnJvbSAnLi90aGVvLWFic3RyYWN0aW9uLWxheWVyJztcblxuZXhwb3J0IGNsYXNzIEhlYWRsZXNzVGhlb0Fic3RyYWN0aW9uTGF5ZXIgZXh0ZW5kcyBUaGVvQWJzdHJhY3Rpb25MYXllciB7XG4gICAgcHJpdmF0ZSB3aWxsUGxheUZvclRoZUZpcnN0VGltZU92ZXJyaWRkZW46IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBoYXNQbGF5ZWRGb3JUaGVGaXJzdFRpbWVPdmVycmlkZGVuOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWcsIHB1Ymxpc2hlcjogUHVibGlzaGVyKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZywgcHVibGlzaGVyKTtcblxuICAgICAgICAvL0hpZGUgdGhlIHBsYXllciFcbiAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgdGhpcy53aWxsUGxheUZvclRoZUZpcnN0VGltZU92ZXJyaWRkZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLmhhc1BsYXllZEZvclRoZUZpcnN0VGltZU92ZXJyaWRkZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc2V0dXBVc2VySW50ZXJmYWNlKHB1Ymxpc2hlcjogUHVibGlzaGVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ1lvdVR1YmUgaW50ZXJmYWNlIGhhbmRsZWQgYnkgZXh0ZXJuYWwgbGlicmFyeSEnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsYXllci5wbGF5KCk7XG5cbiAgICAgICAgaWYgKHRoaXMud2lsbFBsYXlGb3JUaGVGaXJzdFRpbWVPdmVycmlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLndpbGxQbGF5Rm9yVGhlRmlyc3RUaW1lT3ZlcnJpZGRlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZmlyc3RwbGF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblBsYXkoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICAvL1RoaXMgc3RhdGVtZW50IGlzIGV4ZWN1dGVkIGlmIHRoZSB2aWRlbyBpcyBzdGFydGVkIGJ5IGNsaWNraW5nIG9uIHRoZSB2aWRlbyBpdHNlbGYgcmF0aGVyIHRoYW4gb24gb3VyIFVJIGVsZW1lbnRzIVxuICAgICAgICBpZiAodGhpcy53aWxsUGxheUZvclRoZUZpcnN0VGltZU92ZXJyaWRkZW4pIHtcbiAgICAgICAgICAgIHRoaXMud2lsbFBsYXlGb3JUaGVGaXJzdFRpbWVPdmVycmlkZGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5maXJzdHBsYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oYXNQbGF5ZWRGb3JUaGVGaXJzdFRpbWVPdmVycmlkZGVuID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucGxheSk7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wbGF5aW5nKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzUGxheWVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNQbGF5ZWRGb3JUaGVGaXJzdFRpbWVPdmVycmlkZGVuO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFuYWx5dGljc1JlZmVyZW5jZUV4dHJhY3RvciB9IGZyb20gJy4uLy4uL2xvZ2ljL2FuYWx5dGljcy9hbmFseXRpY3MtcmVmZXJlbmNlLWV4dHJhY3Rvcic7XG5pbXBvcnQgeyBPblZvbHVtZUNoYW5nZVBheWxvYWQsIFNvdXJjZUxvYWRlZFBheWxvYWQgfSBmcm9tICcuLi8uLi9tb2RlbC9ldmVudGluZy9wdWJsaWMtcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBBZFNvdXJjZSB9IGZyb20gJy4uLy4uL21vZGVsL3NvdXJjZS1kZXNjcmlwdGlvbic7XG5pbXBvcnQgeyBWaWRlb1F1YWxpdHkgfSBmcm9tICcuLi8uLi9tb2RlbC92aWRlby1xdWFsaXR5JztcbmltcG9ydCB7IFB1Ymxpc2hlciB9IGZyb20gJy4uL3B1Ymxpc2hlcic7XG5pbXBvcnQgeyBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyIH0gZnJvbSAnLi9wbGF5ZXItYWJzdHJhY3Rpb24tbGF5ZXInO1xuaW1wb3J0IHsgRXJyb3JDb2RlcyB9IGZyb20gJy4uLy4uL2xvZ2ljL2Vycm9yLWhhbmRsZXInO1xuaW1wb3J0IHsgTWVkaWFJbmZvIH0gZnJvbSAnLi4vLi4vbW9kZWwvbWVkaWEtaW5mbyc7XG5cbmV4cG9ydCBjbGFzcyBZb3V0dWJlQWJzdHJhY3Rpb25MYXllciBleHRlbmRzIFBsYXllckFic3RyYWN0aW9uTGF5ZXIge1xuICAgIHByaXZhdGUgZmlyc3RUaW1lUGxheTogYm9vbGVhbjtcbiAgICBwcml2YXRlIHByZXZpb3VzUGxheWJhY2tTdGF0ZTogbnVtYmVyO1xuICAgIHByaXZhdGUgZXZlbnRJbnRlcnZhbDogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSBzZWVraW5nOiBib29sZWFuO1xuICAgIHByaXZhdGUgc3RhbGxlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHBsYXllckluc3RhbmNlOiBhbnksIHB1Ymxpc2hlcjogUHVibGlzaGVyKSB7XG4gICAgICAgIHN1cGVyKHBsYXllckluc3RhbmNlLCBwdWJsaXNoZXIpO1xuXG4gICAgICAgIHRoaXMuZmlyc3RUaW1lUGxheSA9IHRydWU7XG4gICAgICAgIHRoaXMucHJldmlvdXNQbGF5YmFja1N0YXRlID0gLTE7XG5cbiAgICAgICAgdGhpcy5zZWVraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhbGxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFBsYXllcldpdGhWaWRlbyhcbiAgICAgICAgcGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgICAgIHlvdXR1YmVVcmw6IHN0cmluZyxcbiAgICAgICAgcHVibGlzaGVyOiBQdWJsaXNoZXIsXG4gICAgKTogUHJvbWlzZTxZb3V0dWJlQWJzdHJhY3Rpb25MYXllcj4ge1xuICAgICAgICBwbGF5ZXJFbGVtZW50LmlkID0gcGxheWVyRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcbiAgICAgICAgcGxheWVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwbGF5ZXIteW91dHViZS1mcmFtZScpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoISh3aW5kb3cgYXMgYW55KS5ZVCB8fCAhKHdpbmRvdyBhcyBhbnkpLllULlBsYXllcikge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEVycm9yQ29kZXMuUExBWUVSX1lPVVRVQkVfRVJST1JfR0VORVJBTCxcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9ycy1jYW5ub3QtbG9hZC15b3V0dWJlLXZpZGVvJyxcbiAgICAgICAgICAgICAgICAgICAgeyBZVDogKHdpbmRvdyBhcyBhbnkpLllUIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZWplY3QoJ0Nhbm5vdCBsb2FkIFlvdVR1YmUgdmlkZW8hJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB5dFBsYXllciA9IG5ldyAod2luZG93IGFzIGFueSkuWVQuUGxheWVyKHBsYXllckVsZW1lbnQuaWQsIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgICAgICAgICBvblJlYWR5OiAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgWW91dHViZUFic3RyYWN0aW9uTGF5ZXIoZXZlbnQudGFyZ2V0LCBwdWJsaXNoZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5kdXJhdGlvblNldCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc2V0dXBVc2VySW50ZXJmYWNlKHB1Ymxpc2hlcjogUHVibGlzaGVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ1lvdVR1YmUgaW50ZXJmYWNlIGhhbmRsZWQgYnkgZXh0ZXJuYWwgbGlicmFyeSEnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRBRVNOZXR3b3JrSW50ZXJjZXB0b3IoZHJtVG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgLy9QbGF5ZXIgYWN0aW9uc1xuICAgIHB1YmxpYyBzZXRTb3VyY2UobWVkaWFJbmZvOiBNZWRpYUluZm8pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuY3VlVmlkZW9CeUlkKHtcbiAgICAgICAgICAgIHZpZGVvSWQ6IEFuYWx5dGljc1JlZmVyZW5jZUV4dHJhY3Rvci5leHRyYWN0WW91dHViZVJlZmVyZW5jZShtZWRpYUluZm8udGFyZ2V0VXJsc1swXS51cmwpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0UG9zdGVySW1hZ2UocG9zdGVySW1hZ2VVcmw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHBsYXkoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0VGltZVBsYXkpIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5maXJzdHBsYXkpO1xuICAgICAgICAgICAgdGhpcy5maXJzdFRpbWVQbGF5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHBhdXNlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsYXllci5wYXVzZVZpZGVvKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNraXBBZCgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBza2lwUHJvbW90aW9uYWwocmVtYWluaW5nUHJvbW90aW9uYWxEdXJhdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnRDYXN0KCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0b3BDYXN0KCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0QWlycGxheSgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wQWlycGxheSgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0Vm9sdW1lKHZvbHVtZSAqIDEwMCk7XG4gICAgICAgIHRoaXMub25Wb2x1bWVjaGFuZ2UobnVsbCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNlZWsoc2Vjb25kc0Zyb21TdGFydDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGxheWVyLnNlZWtUbyhzZWNvbmRzRnJvbVN0YXJ0LCB0cnVlKTtcbiAgICAgICAgdGhpcy5vblNlZWtpbmcobnVsbCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvZ2dsZVN1YnMoKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdHVyblN1YnNPbigpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0dXJuU3Vic09mZigpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBY3RpdmVTdWJzKCk6IFRleHRUcmFjayB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFF1YWxpdHkodGFyZ2V0UXVhbGl0eTogVmlkZW9RdWFsaXR5KSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9nZ2xlRnVsbHNjcmVlbigpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzY2hlZHVsZUFkKGFkOiBBZFNvdXJjZSk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldExvb3AoZG9Mb29wOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIC8vIHRoaXMucGxheWVyLnNldExvb3AoZG9Mb29wKTsgVGhpcyBkb2VzIG5vdCB3b3JrIVxuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHByZXBhcmVGb3JJbnRlcmFjdGlvbigpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0ludGVyZmFjZUVuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNhYmxlSW50ZXJmYWNlKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGVuYWJsZUludGVyZmFjZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIC8vUGxheWVyIHN0YXRlIGdldHRlcnNcbiAgICBwdWJsaWMgcGxheUhlYWRQb3NpdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheUhlYWREYXRlVGltZVBvc2l0aW9uKCk6IERhdGUge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5SGVhZEF0TGl2ZVBvaW50KCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RHVyYXRpb24oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmdldER1cmF0aW9uKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZvbHVtZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0Vm9sdW1lKCkgLyAxMDA7XG4gICAgfVxuXG4gICAgcHVibGljIGlzUGxheWluZygpOiBib29sZWFuIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKSA9PT0gWVQuUGxheWVyU3RhdGUuUExBWUlORztcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNQYXVzZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmdldFBsYXllclN0YXRlKCkgPT09IFlULlBsYXllclN0YXRlLlBBVVNFRDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzUGxheWVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXRoaXMuZmlyc3RUaW1lUGxheTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2Vla2FibGVSYW5nZXMoKTogVGltZVJhbmdlcyB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGlzTG9vcGluZygpOiBib29sZWFuIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGlzQWRQbGF5aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNDYXN0aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNGdWxsc2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VG90YWxBZER1cmF0aW9uKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbkFkQmVTa2lwcGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QXZhaWxhYmxlUXVhbGl0aWVzKCk6IFZpZGVvUXVhbGl0eVtdIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFjdGl2ZVF1YWxpdHkoKTogVmlkZW9RdWFsaXR5IHtcbiAgICAgICAgLy90aGlzLnBsYXllci5nZXRQbGF5YmFja1F1YWxpdHkoKTsgb25seSByZXR1cm4gdGhlIHNlbGVjdGVkIHF1YWxpdHksIG5vdCB0aGUgYml0cmF0ZSwgZnJhbWVyYXRlLCAuLi5cbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RHJvcHBlZEZyYW1lQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TmF0aXZlUGxheWVySW5zdGFuY2UoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblBsYXllclJlc2V0UmVxdWVzdGVkKCk6IHZvaWQge1xuICAgICAgICAvL0VtcHR5XG4gICAgfVxuXG4gICAgcHVibGljIG9uUGxheWVyRGVzdHJveVJlcXVlc3RlZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMuZGVzdHJveSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbGVhc2VQbGF5ZXJSZXNvdXJjZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGxheWVyLmEucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLnBsYXllci5hKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmV2ZW50SW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblRpbWVVcGRhdGUoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMudGltZXVwZGF0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEF1dG9wbGF5KCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0QXV0b3BsYXkob246IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBiaW5kQWJzdHJhY3RlZFBsYXllckV2ZW50cygpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnQWRkaW5nIHlvdXR1YmUgZXZlbnQgbGlzdGVuZXJzJyk7XG4gICAgICAgIHRoaXMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ29uU3RhdGVDaGFuZ2UnLCB0aGlzLm9uUGxheS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignb25TdGF0ZUNoYW5nZScsIHRoaXMub25QYXVzZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignb25TdGF0ZUNoYW5nZScsIHRoaXMub25FbmRlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignb25TdGF0ZUNoYW5nZScsIHRoaXMub25CdWZmZXJyaW5nLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdvblN0YXRlQ2hhbmdlJywgdGhpcy5vbkJ1ZmZlckNvbXBsZXRlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdvblBsYXliYWNrUXVhbGl0eUNoYW5nZScsIHRoaXMub25WaWRlb1F1YWxpdHlDaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdvblJlYWR5JywgdGhpcy5vblJlYWR5U3RhdGVDaGFuZ2VkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCdvbkVycm9yJywgdGhpcy5vbkludGVybmFsUGxheWVyRXJyb3IuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gV2UgY2hlY2sgZm9yIGNoYW5nZWQgdmFsdWVzIG91cnNlbHZlcyBmb3Igd2hpY2ggbm8gZXZlbnRzIGFyZSBhdmFpbGFibGUhXG4gICAgICAgIGxldCBsYXN0Vm9sdW1lOiBudW1iZXIgPSB0aGlzLmdldFZvbHVtZSgpO1xuICAgICAgICB0aGlzLmV2ZW50SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSB2b2x1bWUgY2hhbmdlIGV2ZW50IGlmIG5lZWRlZFxuICAgICAgICAgICAgY29uc3QgbmV3Vm9sdW1lOiBudW1iZXIgPSB0aGlzLmdldFZvbHVtZSgpO1xuICAgICAgICAgICAgaWYgKGxhc3RWb2x1bWUgIT09IG5ld1ZvbHVtZSkge1xuICAgICAgICAgICAgICAgIGxhc3RWb2x1bWUgPSBuZXdWb2x1bWU7XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnZvbHVtZWNoYW5nZSwgeyB2b2x1bWU6IG5ld1ZvbHVtZSB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGFueSBvdGhlciBjaGVja3MgYW5kIGV2ZW50IGRpc3BhdGNoZXMgaGVyZSFcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uUGxheShldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zZWVraW5nKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gWVQuUGxheWVyU3RhdGUuUExBWUlORykge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzUGxheWJhY2tTdGF0ZSA9IFlULlBsYXllclN0YXRlLlBMQVlJTkc7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5maXJzdFRpbWVQbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5maXJzdHBsYXkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcnN0VGltZVBsYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMucGxheSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnBsYXlpbmcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzUGxheWJhY2tTdGF0ZSA9PT0gWVQuUGxheWVyU3RhdGUuUExBWUlORykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGltZVVwZGF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAyNTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vblNlZWtDb21wbGV0ZShudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblBhdXNlKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gWVQuUGxheWVyU3RhdGUuUEFVU0VEKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzUGxheWJhY2tTdGF0ZSA9IFlULlBsYXllclN0YXRlLlBBVVNFRDtcblxuICAgICAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnBhdXNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkVuZGVkKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gWVQuUGxheWVyU3RhdGUuRU5ERUQpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNQbGF5YmFja1N0YXRlID0gWVQuUGxheWVyU3RhdGUuRU5ERUQ7XG5cbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5lbmRlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25Wb2x1bWVjaGFuZ2UoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zdCBwYXlsb2FkOiBPblZvbHVtZUNoYW5nZVBheWxvYWQgPSB7IHZvbHVtZTogdGhpcy5nZXRWb2x1bWUoKSB9O1xuICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoPE9uVm9sdW1lQ2hhbmdlUGF5bG9hZD4oUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy52b2x1bWVjaGFuZ2UsIHBheWxvYWQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkZ1bGxzY3JlZW5DaGFuZ2UoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uQ2FzdFN0YXRlQ2hhbmdlZChldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25TZWVraW5nKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlZWtpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc2Vla2luZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuc2Vla2luZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25TZWVrQ29tcGxldGUoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zZWVraW5nKSB7XG4gICAgICAgICAgICB0aGlzLnNlZWtpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5zZWVrZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uQnVmZmVycmluZyhldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zdGFsbGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IFlULlBsYXllclN0YXRlLkJVRkZFUklORykge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzUGxheWJhY2tTdGF0ZSA9IFlULlBsYXllclN0YXRlLkJVRkZFUklORztcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuYnVmZmVyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkJ1ZmZlckNvbXBsZXRlKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhbGxlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91c1BsYXliYWNrU3RhdGUgPT09IFlULlBsYXllclN0YXRlLkJVRkZFUklORyAmJiBldmVudC5kYXRhICE9PSBZVC5QbGF5ZXJTdGF0ZS5CVUZGRVJJTkcpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c1BsYXliYWNrU3RhdGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5idWZmZXJpbmdDb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uVmlkZW9RdWFsaXR5Q2hhbmdlZChldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25BdWRpb1F1YWxpdHlDaGFuZ2VkKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblJlYWR5U3RhdGVDaGFuZ2VkKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIucHVibGlzaDxTb3VyY2VMb2FkZWRQYXlsb2FkPihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnNvdXJjZWxvYWRlZCwgeyBsb2FkZWQ6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uU291cmNlQ2hhbmdlZChldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25BZEJyZWFrQmVnaW4oZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uQWRCcmVha0VuZChldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25BZFNraXBwZWQoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uSW50ZXJuYWxQbGF5ZXJFcnJvcihldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmVycm9ySGFuZGxlci5oYW5kbGVZb3VUdWJlRXJyb3IoZXZlbnQuZGF0YSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRHJtRXJyb3IoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uQWRFcnJvcihldmVudDogYW55KTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ09wZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBZb3VUdWJlIHBsYXllciEnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25DYXN0RXJyb3IoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdPcGVyYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgWW91VHViZSBwbGF5ZXIhJyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uTmV0d29ya0Vycm9yKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFlvdVR1YmUgcGxheWVyIScpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERpZ2l0YWxEYXRhIH0gZnJvbSAnLi9kaWdpdGFsLWRhdGEnO1xuXG5leHBvcnQgY2xhc3MgUGxheWxpc3Qge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgaXRlbXM6IHN0cmluZ1tdO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZGlnaXRhbERhdGFzOiBEaWdpdGFsRGF0YVtdO1xuXG4gICAgcHJpdmF0ZSBjdXJyZW50SW5kZXg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhUmVmZXJlbmNlczogc3RyaW5nIHwgc3RyaW5nW10sIGRpZ2l0YWxEYXRhcz86IERpZ2l0YWxEYXRhIHwgRGlnaXRhbERhdGFbXSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDA7XG5cbiAgICAgICAgaWYgKG1lZGlhUmVmZXJlbmNlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZGlnaXRhbERhdGFzICYmXG4gICAgICAgICAgICAgICAgKCEoZGlnaXRhbERhdGFzIGluc3RhbmNlb2YgQXJyYXkpIHx8IG1lZGlhUmVmZXJlbmNlcy5sZW5ndGggIT09IChkaWdpdGFsRGF0YXMgYXMgRGlnaXRhbERhdGFbXSkubGVuZ3RoKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnSWYgRGlnaXRhbERhdGEgaXMgcHJvdmlkZWQsIHRoZSBudW1iZXIgb2YgaW5zdGFuY2VzIG11c3QgbWF0Y2ggdGhlIG51bWJlciB0aGUgbnVtYmVyIG9mIG1lZGlhUmVmZXJlbmNlcyEnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gbWVkaWFSZWZlcmVuY2VzO1xuICAgICAgICAgICAgdGhpcy5kaWdpdGFsRGF0YXMgPSBkaWdpdGFsRGF0YXMgPyAoZGlnaXRhbERhdGFzIGFzIERpZ2l0YWxEYXRhW10pIDogW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gW21lZGlhUmVmZXJlbmNlc107XG4gICAgICAgICAgICB0aGlzLmRpZ2l0YWxEYXRhcyA9IFtkaWdpdGFsRGF0YXMgYXMgRGlnaXRhbERhdGFdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGN1cnJlbnQoKTogUGxheWxpc3RJdGVtIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluZGV4OiB0aGlzLmN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgIHBsYXlsaXN0U2l6ZTogdGhpcy5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBtZWRpYVJlZmVyZW5jZTogdGhpcy5pdGVtc1t0aGlzLmN1cnJlbnRJbmRleF0sXG4gICAgICAgICAgICBkaWdpdGFsRGF0YTogdGhpcy5kaWdpdGFsRGF0YXNbdGhpcy5jdXJyZW50SW5kZXhdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBuZXh0KCk6IFBsYXlsaXN0SXRlbSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCArIDEgPCB0aGlzLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbmRleDogKyt0aGlzLmN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgICAgICBwbGF5bGlzdFNpemU6IHRoaXMuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1lZGlhUmVmZXJlbmNlOiB0aGlzLml0ZW1zW3RoaXMuY3VycmVudEluZGV4XSxcbiAgICAgICAgICAgICAgICBkaWdpdGFsRGF0YTogdGhpcy5kaWdpdGFsRGF0YXNbdGhpcy5jdXJyZW50SW5kZXhdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGhhc05leHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRJbmRleCArIDEgPCB0aGlzLml0ZW1zLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGVlaygpOiBQbGF5bGlzdEl0ZW0ge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggKyAxIDwgdGhpcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuY3VycmVudEluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICBwbGF5bGlzdFNpemU6IHRoaXMuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1lZGlhUmVmZXJlbmNlOiB0aGlzLml0ZW1zW3RoaXMuY3VycmVudEluZGV4ICsgMV0sXG4gICAgICAgICAgICAgICAgZGlnaXRhbERhdGE6IHRoaXMuZGlnaXRhbERhdGFzW3RoaXMuY3VycmVudEluZGV4ICsgMV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcHJldmlvdXMoKTogUGxheWxpc3RJdGVtIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4IC0gMSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGluZGV4OiAtLXRoaXMuY3VycmVudEluZGV4LFxuICAgICAgICAgICAgICAgIHBsYXlsaXN0U2l6ZTogdGhpcy5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbWVkaWFSZWZlcmVuY2U6IHRoaXMuaXRlbXNbdGhpcy5jdXJyZW50SW5kZXhdLFxuICAgICAgICAgICAgICAgIGRpZ2l0YWxEYXRhOiB0aGlzLmRpZ2l0YWxEYXRhc1t0aGlzLmN1cnJlbnRJbmRleF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzUHJldmlvdXMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRJbmRleCAtIDEgPj0gMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXBwZW5kKG1lZGlhUmVmZXJlbmNlOiBzdHJpbmcsIGRpZ2l0YWxEYXRhOiBEaWdpdGFsRGF0YSk6IHZvaWQge1xuICAgICAgICB0aGlzLml0ZW1zLnB1c2gobWVkaWFSZWZlcmVuY2UpO1xuICAgICAgICB0aGlzLmRpZ2l0YWxEYXRhcy5wdXNoKGRpZ2l0YWxEYXRhKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SW5kZXhGb3JNZWRpYVJlZmVyZW5jZShtZWRpYVJlZmVyZW5jZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuaW5kZXhPZihtZWRpYVJlZmVyZW5jZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFRvKGluZGV4OiBudW1iZXIpOiBQbGF5bGlzdEl0ZW0ge1xuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbmRleDogdGhpcy5jdXJyZW50SW5kZXgsXG4gICAgICAgICAgICAgICAgcGxheWxpc3RTaXplOiB0aGlzLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtZWRpYVJlZmVyZW5jZTogdGhpcy5pdGVtc1t0aGlzLmN1cnJlbnRJbmRleF0sXG4gICAgICAgICAgICAgICAgZGlnaXRhbERhdGE6IHRoaXMuZGlnaXRhbERhdGFzW3RoaXMuY3VycmVudEluZGV4XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYXlsaXN0SXRlbSB7XG4gICAgaW5kZXg6IG51bWJlcjtcbiAgICBwbGF5bGlzdFNpemU6IG51bWJlcjtcbiAgICBtZWRpYVJlZmVyZW5jZTogc3RyaW5nO1xuICAgIGRpZ2l0YWxEYXRhOiBEaWdpdGFsRGF0YTtcbn1cbiIsImltcG9ydCB7IENvbmZpZywgUGxheWVyQ29uZmlndXJhdGlvbiwgVWlDb25maWd1cmF0aW9uIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgTGFuZ3VhZ2UsIFRyYW5zbGF0b3IgfSBmcm9tICcuLi91dGlscy90cmFuc2xhdGlvbi90cmFuc2xhdG9yJztcbmltcG9ydCB7IENvbG9ycyB9IGZyb20gJy4vY29sb3JzJztcblxuZXhwb3J0IGVudW0gU2tpbiB7XG4gICAgREVGQVVMVCA9ICdkZWZhdWx0JyxcbiAgICBEVU1NWSA9ICdkdW1teScsXG4gICAgS0VUTkVUID0gJ2tldG5ldCcsXG4gICAgU1BPUlpBID0gJ3Nwb3J6YScsXG4gICAgVlJUTlUgPSAndnJ0bnUnLFxuICAgIFZSVE5XUyA9ICd2cnRud3MnLFxufVxuXG5leHBvcnQgY2xhc3MgUHJlc2V0cyB7XG4gICAgcHVibGljIHN0YXRpYyBnZXRQcmVzZXQocHJlc2V0OiBzdHJpbmcpOiBVaUNvbmZpZ3VyYXRpb24ge1xuICAgICAgICBpZiAoIXByZXNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuREVGQVVMVDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAocHJlc2V0LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkRFRkFVTFQ7XG4gICAgICAgICAgICBjYXNlICdkdW1teSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuRFVNTVk7XG4gICAgICAgICAgICBjYXNlICdrZXRuZXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLktFVE5FVDtcbiAgICAgICAgICAgIGNhc2UgJ3Nwb3J6YSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuU1BPUlpBO1xuICAgICAgICAgICAgY2FzZSAndnJ0bnUnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlZSVF9OVTtcbiAgICAgICAgICAgIGNhc2UgJ3ZydG53cyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuVlJUX05XUztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICBgV0FSTklORzogdW5rbm93biBwcmVzZXQgJyR7cHJlc2V0LnRvTG93ZXJDYXNlKCl9JyBmb3VuZCBpbiBjb25maWcuIEZhbGxpbmcgYmFjayB0byB0aGUgZGVmYXVsdCBwcmVzZXQhYCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkRFRkFVTFQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIG1lcmdlV2l0aENvbmZpZyhwcmVzZXQ6IFVpQ29uZmlndXJhdGlvbiwgdWlDb25maWc6IFVpQ29uZmlndXJhdGlvbik6IFVpQ29uZmlndXJhdGlvbiB7XG4gICAgICAgIGNvbnN0IG1lcmdlZFVpQ29uZmlnOiBVaUNvbmZpZ3VyYXRpb24gPSB7IC4uLnByZXNldCwgLi4udWlDb25maWcgfTtcbiAgICAgICAgbWVyZ2VkVWlDb25maWcudWlMYW5ndWFnZSA9IChUcmFuc2xhdG9yLmlzTGFuZ3VhZ2VTdXBwb3J0ZWQobWVyZ2VkVWlDb25maWcudWlMYW5ndWFnZSlcbiAgICAgICAgICAgID8gbWVyZ2VkVWlDb25maWcudWlMYW5ndWFnZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICA6IENvbmZpZy5ERUZBVUxUUy51aUxhbmd1YWdlKSBhcyBMYW5ndWFnZTtcblxuICAgICAgICBpZiAodHlwZW9mIG1lcmdlZFVpQ29uZmlnLmNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbWVyZ2VkVWlDb25maWcuY29sb3IgPSBDb2xvcnMuZ2V0Q29sb3IobWVyZ2VkVWlDb25maWcuY29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2tpbnM6IFNraW5bXSA9IE9iamVjdC52YWx1ZXMoU2tpbik7XG4gICAgICAgIGlmICghc2tpbnMuaW5jbHVkZXMobWVyZ2VkVWlDb25maWcuc2tpbiBhcyBTa2luKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBXQVJOSU5HOiBza2luICcke3VpQ29uZmlnLnNraW59JyBub3QgZm91bmQuIEZhbGxpbmcgYmFjayB0byB0aGUgZGVmYXVsdCBza2luIWApO1xuICAgICAgICAgICAgdWlDb25maWcuc2tpbiA9ICdkZWZhdWx0JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZXJnZWRVaUNvbmZpZztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBERUZBVUxUOiBVaUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIHNraW46IFNraW4uREVGQVVMVCxcbiAgICAgICAgY29sb3I6IENvbG9ycy5HUkVFTixcbiAgICB9O1xuICAgIHByaXZhdGUgc3RhdGljIERVTU1ZOiBVaUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIHNraW46IFNraW4uRFVNTVksXG4gICAgICAgIGNvbG9yOiBDb2xvcnMuR1JFRU4sXG4gICAgfTtcbiAgICBwcml2YXRlIHN0YXRpYyBLRVRORVQ6IFVpQ29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgc2tpbjogU2tpbi5LRVRORVQsXG4gICAgICAgIGNvbG9yOiBDb2xvcnMuS0VUTkVULFxuICAgIH07XG4gICAgcHJpdmF0ZSBzdGF0aWMgU1BPUlpBOiBVaUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIHNraW46IFNraW4uU1BPUlpBLFxuICAgICAgICBjb2xvcjogQ29sb3JzLkdSRUVOLFxuICAgIH07XG4gICAgcHJpdmF0ZSBzdGF0aWMgVlJUX05VOiBVaUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIHNraW46IFNraW4uVlJUTlUsXG4gICAgICAgIGNvbG9yOiBDb2xvcnMuR1JFRU4sXG4gICAgfTtcbiAgICBwcml2YXRlIHN0YXRpYyBWUlRfTldTOiBVaUNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgIHNraW46IFNraW4uVlJUTldTLFxuICAgICAgICBjb2xvcjogQ29sb3JzLkdSRUVOLFxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBBZENvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9tb2RlbC9jb25maWcnO1xuaW1wb3J0IHsgQWRNYXBwaW5ncyB9IGZyb20gJy4uL21vZGVsL2FkLW1hcHBpbmdzJztcbmltcG9ydCB7IEFkU291cmNlIH0gZnJvbSAnLi4vbW9kZWwvc291cmNlLWRlc2NyaXB0aW9uJztcbmltcG9ydCB7IFBsYXllckFic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuLi9wbGF5ZXIvYWJzdHJhY3Rpb24tbGF5ZXIvcGxheWVyLWFic3RyYWN0aW9uLWxheWVyJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4uL3V0aWxzL2Jyb3dzZXItdXRpbHMnO1xuaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi9lcnJvci1oYW5kbGVyJztcblxuaW1wb3J0IGFkQ29uZmlnIGZyb20gJy4vYWRfY29uZmlnLmpzb24nO1xuXG5leHBvcnQgY2xhc3MgUGViYmxlU2VydmljZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBhZENvbmZpZ3VyYXRpb246IEFkQ29uZmlndXJhdGlvbjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhbDogUGxheWVyQWJzdHJhY3Rpb25MYXllcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVycm9ySGFuZGxlcjogRXJyb3JIYW5kbGVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcHJvZHVjdGlvbk1vZGU6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGhvc3RuYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBiYXNlVXJsOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBiYXNlVlBhaWRVcmw6IHN0cmluZztcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYWRNYXBwaW5nczogQWRNYXBwaW5ncztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBhZENvbmZpZ3VyYXRpb246IEFkQ29uZmlndXJhdGlvbixcbiAgICAgICAgcGFsOiBQbGF5ZXJBYnN0cmFjdGlvbkxheWVyLFxuICAgICAgICBlcnJvckhhbmRsZXI6IEVycm9ySGFuZGxlcixcbiAgICAgICAgcHJvZHVjdGlvbk1vZGU6IGJvb2xlYW4sXG4gICAgICAgIGhvc3RuYW1lOiBzdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgPSBob3N0bmFtZTtcblxuICAgICAgICB0aGlzLnBhbCA9IHBhbDtcbiAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIgPSBlcnJvckhhbmRsZXI7XG5cbiAgICAgICAgdGhpcy5wcm9kdWN0aW9uTW9kZSA9IHByb2R1Y3Rpb25Nb2RlO1xuICAgICAgICB0aGlzLmFkQ29uZmlndXJhdGlvbiA9IGFkQ29uZmlndXJhdGlvbjtcblxuICAgICAgICB0aGlzLmFkTWFwcGluZ3MgPSBhZENvbmZpZztcbiAgICAgICAgLy9Gb3IgdGVzdGluZywgYWQgUGViYmxlIE1lZGlhIGFzIGEgcGFydG5lciwgc28gd2UgY2FuIHVzZSB0aGVpciB0ZXN0IGNhbXBhaWducyFcbiAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3Rpb25Nb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmFkTWFwcGluZ3MucGFydG5lcnMucGViYmxlbWVkaWEgPSB7IG5hbWU6ICdQZWJibGUgTWVkaWEnLCBhZHM6IHRydWUgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmFzZVVybCA9XG4gICAgICAgICAgICAnaHR0cHM6Ly9hZHMtcGViYmxlbWVkaWEuYWRoZXNlLmNvbS9hZC9zbF8lJUNPTlRFTlQlJV8lJUxPQ0FUSU9OJSVfLXByZXJvbGwvJSVDQVRFR09SWSUlL2R0JSVERVZJQ0UlJS90bCUlQ09OU0VOVCUlJSVFVSUlLz90PSUlVElNRVNUQU1QJSUnO1xuICAgICAgICB0aGlzLmJhc2VWUGFpZFVybCA9XG4gICAgICAgICAgICAnaHR0cHM6Ly9hZHMtcGViYmxlbWVkaWEuYWRoZXNlLmNvbS9hZC9zZXZwYWlkL3NsXyUlQ09OVEVOVCUlXyUlTE9DQVRJT04lJV8tcHJlcm9sbC8/dD0lJVRJTUVTVEFNUCUlJztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlQWRGb3JWaWRlb0lmTmVlZGVkKHRpdGxlOiBzdHJpbmcsIGR1cmF0aW9uOiBudW1iZXIpOiBQcm9taXNlPEFkU291cmNlPiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICF0aGlzLmFkQ29uZmlndXJhdGlvbiB8fFxuICAgICAgICAgICAgKE9iamVjdC5rZXlzKHRoaXMuYWRDb25maWd1cmF0aW9uKS5sZW5ndGggPT09IDAgJiYgdGhpcy5hZENvbmZpZ3VyYXRpb24uY29uc3RydWN0b3IgPT09IE9iamVjdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdObyBhZCByZXF1ZXN0ZWQgZm9yIHZpZGVvIScpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRDb25maWd1cmF0aW9uLmdhbUFkVXJsXG4gICAgICAgICAgICA/IHRoaXMuZ2VuZXJhdGVHYW1TdHlsZUFkKHRoaXMuYWRDb25maWd1cmF0aW9uLmdhbUFkVXJsKVxuICAgICAgICAgICAgOiB0aGlzLmdlbmVyYXRlT2xkU3R5bGVBZCh0aXRsZSwgZHVyYXRpb24pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVHYW1TdHlsZUFkKGdhbUFkVXJsOiBzdHJpbmcpOiBBZFNvdXJjZSB7XG4gICAgICAgIC8vU2NoZWR1bGUgdGhlIGFjdHVhbCBhZFxuICAgICAgICBsZXQgYWQ6IEFkU291cmNlID0gbnVsbDtcbiAgICAgICAgaWYgKGdhbUFkVXJsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTY2hlZHVsaW5nIGFkOiAnICsgZ2FtQWRVcmwpO1xuXG4gICAgICAgICAgICBhZCA9IHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzOiB7IHNyYzogZ2FtQWRVcmwsIHR5cGU6ICd2bWFwJyB9LFxuICAgICAgICAgICAgICAgIHRpbWVPZmZzZXQ6ICdzdGFydCcsXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb246ICdnb29nbGUtaW1hJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWRDb25maWd1cmF0aW9uLmlzVmFzdFZpYUltYSAmJiAhdGhpcy5hZENvbmZpZ3VyYXRpb24uaXNWUGFpZCkge1xuICAgICAgICAgICAgICAgIGFkLnNraXBPZmZzZXQgPSAxNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ05vIGFkIHNjaGVkdWxlZCEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZU9sZFN0eWxlQWQodGl0bGU6IHN0cmluZywgZHVyYXRpb246IG51bWJlcik6IEFkU291cmNlIHtcbiAgICAgICAgbGV0IGNhdGVnb3J5OiBzdHJpbmcgPSB0aGlzLmFkQ29uZmlndXJhdGlvbi5jYXRlZ29yeSA/IHRoaXMuYWRDb25maWd1cmF0aW9uLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgOiAnJztcbiAgICAgICAgY29uc3QgcGFydG5lcjogc3RyaW5nID0gdGhpcy5hZENvbmZpZ3VyYXRpb24ucGFydG5lciA/IHRoaXMuYWRDb25maWd1cmF0aW9uLnBhcnRuZXIudG9Mb3dlckNhc2UoKSA6ICcnO1xuICAgICAgICBjb25zdCBsb2NhdGlvbjogc3RyaW5nID0gdGhpcy5hZENvbmZpZ3VyYXRpb24ubG9jYXRpb24gPyB0aGlzLmFkQ29uZmlndXJhdGlvbi5sb2NhdGlvbiA6ICdjb250ZW50LXZydCc7XG4gICAgICAgIHRpdGxlID0gdGl0bGUgPyB0aXRsZS50b0xvd2VyQ2FzZSgpIDogbnVsbDtcblxuICAgICAgICBsZXQgZG9tYWluOiBzdHJpbmc7XG4gICAgICAgIGlmICh0aGlzLmFkQ29uZmlndXJhdGlvbi5kb21haW4pIHtcbiAgICAgICAgICAgIGRvbWFpbiA9IHRoaXMuYWRDb25maWd1cmF0aW9uLmRvbWFpbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRvbWFpblBhcnRzOiBzdHJpbmdbXSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgZG9tYWluID0gZG9tYWluUGFydHNbZG9tYWluUGFydHMubGVuZ3RoIC0gMl07XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5kZWJ1ZygnQWQgZG9tYWluOiAnICsgZG9tYWluKTtcblxuICAgICAgICBjb25zdCB1cmw6IHN0cmluZyA9IHRoaXMuYWRDb25maWd1cmF0aW9uLmlzVlBhaWQgPyB0aGlzLmJhc2VWUGFpZFVybCA6IHRoaXMuYmFzZVVybDtcbiAgICAgICAgY29uc3QgY29uc2VudCA9IHRoaXMuYWRDb25maWd1cmF0aW9uLmNvbnNlbnQgPyB0aGlzLmFkQ29uZmlndXJhdGlvbi5jb25zZW50IDogJ25vbmUnO1xuICAgICAgICBjb25zdCBldUNvbnNlbnQgPSB0aGlzLmFkQ29uZmlndXJhdGlvbi5ldUNvbnNlbnQgPyAnL3h0JyArIHRoaXMuYWRDb25maWd1cmF0aW9uLmV1Q29uc2VudCA6ICcnO1xuICAgICAgICBsZXQgZmluYWxVcmw6IHN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgLy9TeW5kaWNhdGVkIHZpZGVvc1xuICAgICAgICBpZiAodGhpcy5pc1N5bmRpY2F0ZWQocGFydG5lcikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ3N5bmRpY2F0aW9uJyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnRuZXJBZHNBbGxvd2VkKHBhcnRuZXIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5ID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlGb3JEb21haW4oZG9tYWluKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxVcmwgPSB0aGlzLmNyZWF0ZUFkVXJsKHVybCwgcGFydG5lciwgbG9jYXRpb24sIGNhdGVnb3J5LCBjb25zZW50LCBldUNvbnNlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1JlZ3VsYXIgdmlkZW9zIC0gbm8gc3luZGljYXRpb25cbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHRoaXMucHJlcm9sbEVuYWJsZWRGb3JEb21haW4oZG9tYWluKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmVyb2xsRW5hYmxlZEZvclByb2dyYW0odGl0bGUpICYmXG4gICAgICAgICAgICAoZHVyYXRpb24gPD0gMCB8fCBkdXJhdGlvbiA+IDMwKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIFNraXAgdmlkZW9zIHNob3J0ZXIgdGhlbiAzMCBzZWNvbmRzLCBidXQgYWxsb3cgbGl2ZXN0cmVhbXMgKGR1cmF0aW9uID0gMClcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ25vIHN5bmRpY2F0aW9uJyk7XG5cbiAgICAgICAgICAgIGlmIChjYXRlZ29yeSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnlGb3JEb21haW4oZG9tYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYXRlZ29yeSAhPT0gJ3NlbmlldXdzJykge1xuICAgICAgICAgICAgICAgIGZpbmFsVXJsID0gdGhpcy5jcmVhdGVBZFVybCh1cmwsIGRvbWFpbiwgbG9jYXRpb24sIGNhdGVnb3J5LCBjb25zZW50LCBldUNvbnNlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9TY2hlZHVsZSB0aGUgYWN0dWFsIGFkXG4gICAgICAgIGxldCBhZDogQWRTb3VyY2UgPSBudWxsO1xuICAgICAgICBpZiAoZmluYWxVcmwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1NjaGVkdWxpbmcgYWQ6ICcgKyBmaW5hbFVybCk7XG5cbiAgICAgICAgICAgIGFkID0ge1xuICAgICAgICAgICAgICAgIHNvdXJjZXM6IHsgc3JjOiBmaW5hbFVybCB9LFxuICAgICAgICAgICAgICAgIHRpbWVPZmZzZXQ6ICdzdGFydCcsXG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb246IHRoaXMuZGV0ZWN0QWRUZWNoKHRoaXMuYWRDb25maWd1cmF0aW9uKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWRDb25maWd1cmF0aW9uLmlzVmFzdFZpYUltYSAmJiAhdGhpcy5hZENvbmZpZ3VyYXRpb24uaXNWUGFpZCkge1xuICAgICAgICAgICAgICAgIGFkLnNraXBPZmZzZXQgPSAxNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ05vIGFkIHNjaGVkdWxlZCEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVBZFVybChcbiAgICAgICAgYmFzZVVybDogc3RyaW5nLFxuICAgICAgICBjb250ZW50OiBzdHJpbmcsXG4gICAgICAgIGxvY2F0aW9uOiBzdHJpbmcsXG4gICAgICAgIGNhdGVnb3J5OiBzdHJpbmcsXG4gICAgICAgIGNvbnNlbnQ6IHN0cmluZyxcbiAgICAgICAgZXVDb25zZW50OiBzdHJpbmcsXG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGJhc2VVcmxcbiAgICAgICAgICAgIC5yZXBsYWNlKCclJUNPTlRFTlQlJScsIGNvbnRlbnQpXG4gICAgICAgICAgICAucmVwbGFjZSgnJSVMT0NBVElPTiUlJywgbG9jYXRpb24pXG4gICAgICAgICAgICAucmVwbGFjZSgnJSVDQVRFR09SWSUlJywgY2F0ZWdvcnkpXG4gICAgICAgICAgICAucmVwbGFjZSgnJSVERVZJQ0UlJScsIEJyb3dzZXJVdGlscy5nZXRQbGF0Zm9ybSgpKVxuICAgICAgICAgICAgLnJlcGxhY2UoJyUlQ09OU0VOVCUlJywgY29uc2VudClcbiAgICAgICAgICAgIC5yZXBsYWNlKCclJUVVJSUnLCBldUNvbnNlbnQpXG4gICAgICAgICAgICAucmVwbGFjZSgnJSVUSU1FU1RBTVAlJScsIERhdGUubm93KCkgKyAnJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc1N5bmRpY2F0ZWQocGFydG5lcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkTWFwcGluZ3MucGFydG5lcnMuaGFzT3duUHJvcGVydHkocGFydG5lcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwYXJ0bmVyQWRzQWxsb3dlZChwYXJ0bmVyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuYWRNYXBwaW5ncy5wYXJ0bmVycy5oYXNPd25Qcm9wZXJ0eShwYXJ0bmVyKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRNYXBwaW5ncy5wYXJ0bmVyc1twYXJ0bmVyXS5oYXNPd25Qcm9wZXJ0eSgnYWRzJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hZE1hcHBpbmdzLnBhcnRuZXJzW3BhcnRuZXJdLmFkcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENhdGVnb3J5Rm9yRG9tYWluKGRvbWFpbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuYWRNYXBwaW5ncy5kb21haW5zLmhhc093blByb3BlcnR5KGRvbWFpbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkTWFwcGluZ3MuZG9tYWluc1tkb21haW5dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnc2VuaWV1d3MnO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJlcm9sbEVuYWJsZWRGb3JEb21haW4oZG9tYWluOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRNYXBwaW5ncy5kb21haW5zLmhhc093blByb3BlcnR5KGRvbWFpbik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcmVyb2xsRW5hYmxlZEZvclByb2dyYW0odGl0bGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBMaXZlc3RyZWFtIHRpdGxlIGlzIG51bGwhXG4gICAgICAgIGlmICghdGl0bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcHJvZ3JhbSBvZiB0aGlzLmFkTWFwcGluZ3MucHJvZ3JhbXMpIHtcbiAgICAgICAgICAgIHByb2dyYW0gPSBwcm9ncmFtLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAocHJvZ3JhbSA9PT0gdGl0bGUgfHwgcHJvZ3JhbS5zZWFyY2godGl0bGUpID4gMCB8fCB0aXRsZS5zZWFyY2gocHJvZ3JhbSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGV0ZWN0QWRUZWNoKGFkQ29uZmlndXJhdGlvbjogQWRDb25maWd1cmF0aW9uKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKGFkQ29uZmlndXJhdGlvbi5oYXNPd25Qcm9wZXJ0eSgnaXNWYXN0VmlhSW1hJykpIHtcbiAgICAgICAgICAgIGlmIChhZENvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkoJ2lzVlBhaWQnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZENvbmZpZ3VyYXRpb24uaXNWUGFpZCA/ICdnb29nbGUtaW1hJyA6ICFhZENvbmZpZ3VyYXRpb24uaXNWYXN0VmlhSW1hID8gJ3RoZW8nIDogJ2dvb2dsZS1pbWEnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWFkQ29uZmlndXJhdGlvbi5pc1Zhc3RWaWFJbWEgPyAndGhlbycgOiAnZ29vZ2xlLWltYSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ2dvb2dsZS1pbWEnO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQWRvYmVBbmFseXRpY3NTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vbG9naWMvYW5hbHl0aWNzL2Fkb2JlLWFuYWx5dGljcy1zZXJ2aWNlJztcbmltcG9ydCB7IENpbUFuYWx5dGljc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9sb2dpYy9hbmFseXRpY3MvY2ltLWFuYWx5dGljcy1zZXJ2aWNlJztcbmltcG9ydCB7IEVycm9yQ29kZXMgfSBmcm9tICcuLi8uLi9sb2dpYy9lcnJvci1oYW5kbGVyJztcbmltcG9ydCB7IFBlYmJsZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9sb2dpYy9wZWJibGUtc2VydmljZSc7XG5pbXBvcnQgeyBQcm9ncmFtbWluZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9sb2dpYy9wcm9ncmFtbWluZy1zZXJ2aWNlJztcbmltcG9ydCB7IFRva2VuRmFjdG9yeSB9IGZyb20gJy4uLy4uL2xvZ2ljL3Rva2VuLWZhY3RvcnknO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi4vLi4vbW9kZWwvY29uZmlnJztcbmltcG9ydCB7IExpdmVQcm9ncmFtQ2hhbmdlZFBheWxvYWQsIFB1YmxpY1BsYXllckV2ZW50IH0gZnJvbSAnLi4vLi4vbW9kZWwvZXZlbnRpbmcvcHVibGljLXBsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgTWVkaWFJbmZvIH0gZnJvbSAnLi4vLi4vbW9kZWwvbWVkaWEtaW5mbyc7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuLi9wdWJsaXNoZXInO1xuaW1wb3J0IHsgRHJtU2VydmljZSB9IGZyb20gJy4uLy4uL2xvZ2ljL2RybS1zZXJ2aWNlJztcbmltcG9ydCB7IEFkU291cmNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvc291cmNlLWRlc2NyaXB0aW9uJztcbmltcG9ydCB7IFBsYXliYWNrIH0gZnJvbSAnLi9wbGF5YmFjayc7XG5pbXBvcnQgeyBBbmFseXRpY3NXcmFwcGVyIH0gZnJvbSAnLi4vLi4vbW9kZWwvaW50ZXJuYWwtbG9naWMnO1xuaW1wb3J0IHsgUGxheWVyQWJzdHJhY3Rpb25MYXllciB9IGZyb20gJy4uL2Fic3RyYWN0aW9uLWxheWVyL3BsYXllci1hYnN0cmFjdGlvbi1sYXllcic7XG5pbXBvcnQgeyBQbGF5bGlzdCB9IGZyb20gJy4uLy4uL21vZGVsL3BsYXlsaXN0JztcbmltcG9ydCB7IFBsYXllckV2ZW50IH0gZnJvbSAnLi4vLi4vbW9kZWwvZXZlbnRpbmcvcGxheWVyLWV2ZW50cyc7XG5pbXBvcnQgeyBQcm9taXNlVXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9wcm9taXNlLXV0aWxzJztcblxuZXhwb3J0IGNsYXNzIFJlZ3VsYXJQbGF5YmFjayBleHRlbmRzIFBsYXliYWNrIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWcsIHBsYXlsaXN0OiBQbGF5bGlzdCkge1xuICAgICAgICBzdXBlcihjb25maWcsIHBsYXlsaXN0KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0dXBBZHMocHVibGlzaGVyOiBQdWJsaXNoZXIsIHBhbDogUGxheWVyQWJzdHJhY3Rpb25MYXllcik6IFBlYmJsZVNlcnZpY2Uge1xuICAgICAgICByZXR1cm4gbmV3IFBlYmJsZVNlcnZpY2UodGhpcy5jb25maWcuYWRDb25maWcsIHBhbCwgcHVibGlzaGVyLmVycm9ySGFuZGxlciwgdGhpcy5zdGF0ZS5wcm9kdWN0aW9uTW9kZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldHVwQW5hbHl0aWNzKHB1Ymxpc2hlcjogUHVibGlzaGVyLCBwYWw6IFBsYXllckFic3RyYWN0aW9uTGF5ZXIpOiBBbmFseXRpY3NXcmFwcGVyIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF1dGhvcmluZ01vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkb2JlQW5hbHl0aWNzOiBuZXcgQWRvYmVBbmFseXRpY3NTZXJ2aWNlKHRoaXMuY29uZmlnLnBsYXllck1vZGUsIHBhbCwgdGhpcy5zdGF0ZS5tZWRpYUluZm8sIHB1Ymxpc2hlciksXG4gICAgICAgICAgICBjaW06IG5ldyBDaW1BbmFseXRpY3NTZXJ2aWNlKFxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnBsYXllck1vZGUsXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuY29udGFpbmVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICBwYWwsXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5tZWRpYUluZm8sXG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLFxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmNpbUlkLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgcHJlcGFyZVNvdXJjZUZvclBsYXliYWNrKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmlsYy5wYWwuYWRkQUVTTmV0d29ya0ludGVyY2VwdG9yKHRoaXMuc3RhdGUubWVkaWFJbmZvLmRybSk7XG5cbiAgICAgICAgbGV0IGFkOiBBZFNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhZCA9IGF3YWl0IHRoaXMuaWxjLnBlYmJsZVNlcnZpY2UuY3JlYXRlQWRGb3JWaWRlb0lmTmVlZGVkKFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubWVkaWFJbmZvLnRpdGxlLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubWVkaWFJbmZvLmR1cmF0aW9uLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYWRJbnRlZ3JhdGlvbiA9IGFkPy5pbnRlZ3JhdGlvbjtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0FkIGNhbm5vdCBiZSBsb2FkZWQ6ICcgKyBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbGMucGFsLnNldFBvc3RlckltYWdlKHRoaXMuc3RhdGUubWVkaWFJbmZvLnBvc3RlckltYWdlVXJsKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5tZWRpYUluZm8uY3VycmVudFNvdXJjZSA9IHRoaXMuaWxjLm1lZGlhRW5yaWNoZXIuc291cmNlU2VydmljZS5nZXROZXh0U291cmNlKFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5tZWRpYUluZm8sXG4gICAgICAgICAgICBhZCxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmlzTGl2ZVN0YXJ0T3ZlcixcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnN0YXJ0T3ZlckJlZ2luLFxuICAgICAgICAgICAgdGhpcy5jb25maWcuc3RhcnRPdmVyRW5kLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmlsYy5wYWwuc2V0U291cmNlKHRoaXMuc3RhdGUubWVkaWFJbmZvKTtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVndWxhciB2aWRlbyBwbGF5ZXIgcmVhZHkhJyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG1hcmtQbGF5ZXJSZWFkeUZvclBsYXliYWNrU3BlY2lmaWMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5hZGRSZW1vdmFibGVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLFxuICAgICAgICAgICAgUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wbGF5LFxuICAgICAgICAgICAgdGhpcy5vblBsYXkuYmluZCh0aGlzKSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnN0YXJ0b3ZlcixcbiAgICAgICAgICAgIHRoaXMub25TdGFydE92ZXIuYmluZCh0aGlzKSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLmFkZFJlbW92YWJsZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMsXG4gICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLndhcm5pbmcsXG4gICAgICAgICAgICB0aGlzLm9uSW50ZXJuYWxQbGF5ZXJXYXJuaW5nLmJpbmQodGhpcyksXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVUaXRsZSgpO1xuXG4gICAgICAgIC8vTGl2ZSB0byB1cmwgaXMgYSAnbGl2ZSBzdHJlYW0nIGJ1dCBzaG91bGQgc3RhcnQgYXQgMCwgdGhlIGJlZ2lubmluZyBvZiB0aGUgcHJvZ3JhbSBpbnN0ZWFkIG9mIHRoZSBsaXZlIHBvaW50IVxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5tZWRpYUluZm8uaXNMaXZlVG9VcmwoKSkge1xuICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLmFkZE9uZVRpbWVTdWJzY3JpYmVyKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZmlyc3RwbGF5LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbGMucGFsLnNlZWsoMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vSWYgbGl2ZSBzdHJlYW1pbmcgdXBkYXRlIHRoZSBzY2hlZHVsZSBldmVyeSBtaW51dGUuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1lZGlhSW5mby5pc0xpdmVTdHJlYW0oKSkge1xuICAgICAgICAgICAgdGhpcy5pbGMubWVkaWFFbnJpY2hlci5hdXRvVXBkYXRlTGl2ZVNjaGVkdWxlKDYwLCB0aGlzLnN0YXRlLm1lZGlhSW5mbyk7XG5cbiAgICAgICAgICAgIC8vIFN1YnMgYXJlIG9uIGJ5IGRlZmF1bHQgZm9yIEhMUyBzdHJlYW1zIGJlY2F1c2UgdGhpcyBpcyBzcGVjaWZpZWQgaW4gdGhlIEhMUyBtYW5pZmVzdCFcbiAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5hZGRPbmVUaW1lU3Vic2NyaWJlcihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnBsYXksICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlsYy5wdWJsaXNoZXIuYWRkT25lVGltZVN1YnNjcmliZXIoUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy50aW1ldXBkYXRlLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWxjLnBhbC50dXJuU3Vic09mZigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVRpdGxlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBtZWRpYUluZm86IE1lZGlhSW5mbyA9IHRoaXMuc3RhdGUubWVkaWFJbmZvO1xuXG4gICAgICAgIGlmICghdGhpcy5jb25maWcudWlDb25maWcgfHwgIXRoaXMuY29uZmlnLnVpQ29uZmlnLmRpc2FibGVUaXRsZSkge1xuICAgICAgICAgICAgaWYgKG1lZGlhSW5mby5pc0xpdmVTdHJlYW0oKSAmJiBtZWRpYUluZm8uYWN0aXZlU2NoZWR1bGVJdGVtKSB7XG4gICAgICAgICAgICAgICAgLy9Pbmx5IGRpc3BhdGNoIHdoZW4gdGhlIHRpdGxlIGFjdHVhbGx5IGNoYW5nZXMgKG5vdCB0aGUgZmlyc3QgY2hhbmdlIGZyb20gJ25vdGhpbmcnIHRvIHRoZSBmaXJzdCB0aXRsZSlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VGl0bGUgJiYgdGhpcy5zdGF0ZS5jdXJyZW50VGl0bGUgIT09IG1lZGlhSW5mby5hY3RpdmVTY2hlZHVsZUl0ZW0udGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLnB1Ymxpc2g8TGl2ZVByb2dyYW1DaGFuZ2VkUGF5bG9hZD4oXG4gICAgICAgICAgICAgICAgICAgICAgICBQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLmxpdmVwcm9ncmFtY2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuZXdQcm9ncmFtVGl0bGU6IHRoaXMuc3RhdGUuY3VycmVudFRpdGxlIH0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY3VycmVudFRpdGxlID0gbWVkaWFJbmZvLmFjdGl2ZVNjaGVkdWxlSXRlbS50aXRsZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50VGl0bGUgPSB0aGlzLnN0YXRlLm1lZGlhSW5mby50aXRsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnVwZGF0ZVRpdGxlLCB7XG4gICAgICAgICAgICAgICAgbmV3VGl0bGU6IHRoaXMuc3RhdGUuY3VycmVudFRpdGxlLFxuICAgICAgICAgICAgICAgIGlzSGlkZGVuOiB0aGlzLnN0YXRlLnRpdGxlSXNIaWRkZW4sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVUaWNrU3BlY2lmaWMoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG1lZGlhSW5mbzogTWVkaWFJbmZvID0gdGhpcy5zdGF0ZS5tZWRpYUluZm87XG4gICAgICAgIHRoaXMuaWxjLm1lZGlhRW5yaWNoZXIudXBkYXRlTWVkaWFFbnJpY2htZW50KHRoaXMuaWxjLnBhbCwgdGhpcy5zdGF0ZS5tZWRpYUluZm8pO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVGl0bGUoKTtcblxuICAgICAgICB0aGlzLmlsYy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMudXBkYXRlVGljaywge1xuICAgICAgICAgICAgZW5hYmxlU3RhcnRPdmVyOiAhIXRoaXMuaWxjLm1lZGlhRW5yaWNoZXIuc291cmNlU2VydmljZS5jYW5Eb1N0YXJ0T3ZlcihcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm1lZGlhSW5mby5hY3RpdmVTY2hlZHVsZUl0ZW0sXG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVuc3VyZUxvbmdQbGF5YmFjaygpO1xuXG4gICAgICAgIGlmICh0aGlzLmFkSXNQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY2FuU2tpcEFkT3JQcm9tb3Rpb25hbCA9IHRoaXMuaWxjLnBhbC5jYW5BZEJlU2tpcHBlZCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYW5TZWVrRGlzcGF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuc2Vla05vdEFsbG93ZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY2FuU2Vla0Rpc3BhdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLmFkSXNQbGF5aW5nVGljaywge1xuICAgICAgICAgICAgICAgIHByb21vdGlvbmFsVGl0bGU6ICdBZHZlcnRlbnRpZScsXG4gICAgICAgICAgICAgICAgY2FuU2tpcDogdGhpcy5zdGF0ZS5jYW5Ta2lwQWRPclByb21vdGlvbmFsLFxuICAgICAgICAgICAgICAgIGFkSW50ZWdyYXRpb246IHRoaXMuc3RhdGUuYWRJbnRlZ3JhdGlvbixcbiAgICAgICAgICAgICAgICByZW1haW5pbmdEdXJhdGlvbjogTWF0aC5yb3VuZCh0aGlzLmlsYy5wYWwuZ2V0VG90YWxBZER1cmF0aW9uKCkgLSB0aGlzLmlsYy5wYWwucGxheUhlYWRQb3NpdGlvbigpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZUlzUGxheWluZyhQcm9ncmFtbWluZ1NlcnZpY2UudHlwZXMuUFJPTU9USU9OQUwpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmNhblNraXBBZE9yUHJvbW90aW9uYWwgPVxuICAgICAgICAgICAgICAgIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0uaXRlbSAmJiBtZWRpYUluZm8uYWN0aXZlUGxheWxpc3RJdGVtLml0ZW0uc2tpcHBhYmxlXG4gICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuaWxjLnBhbC5jYW5BZEJlU2tpcHBlZCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYW5TZWVrRGlzcGF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuc2Vla05vdEFsbG93ZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY2FuU2Vla0Rpc3BhdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnByb21vdGlvbmFsSXNQbGF5aW5nVGljaywge1xuICAgICAgICAgICAgICAgIHByb21vdGlvbmFsVGl0bGU6ICdTcG9uc29yaW5nJyxcbiAgICAgICAgICAgICAgICBjYW5Ta2lwOiB0aGlzLnN0YXRlLmNhblNraXBBZE9yUHJvbW90aW9uYWwsXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nRHVyYXRpb246IG1lZGlhSW5mby5yZW1haW5pbmdQbGF5bGlzdEl0ZW1EdXJhdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZUlzUGxheWluZyhQcm9ncmFtbWluZ1NlcnZpY2UudHlwZXMuT05CT0FSRElORykpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY2FuU2tpcEFkT3JQcm9tb3Rpb25hbCA9XG4gICAgICAgICAgICAgICAgbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtICYmIG1lZGlhSW5mby5hY3RpdmVQbGF5bGlzdEl0ZW0uaXRlbS5za2lwcGFibGVcbiAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5pbGMucGFsLmNhbkFkQmVTa2lwcGVkKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmNhblNlZWtEaXNwYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5zZWVrTm90QWxsb3dlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jYW5TZWVrRGlzcGF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmlsYy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMub25ib2FyZGluZ0lzUGxheWluZ1RpY2ssIHtcbiAgICAgICAgICAgICAgICBwcm9tb3Rpb25hbFRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICBjYW5Ta2lwOiB0aGlzLnN0YXRlLmNhblNraXBBZE9yUHJvbW90aW9uYWwsXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nRHVyYXRpb246IG1lZGlhSW5mby5yZW1haW5pbmdQbGF5bGlzdEl0ZW1EdXJhdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZUlzUGxheWluZyhQcm9ncmFtbWluZ1NlcnZpY2UudHlwZXMuVFJBSUxFUikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlsYy5wYWwuaGFzUGxheWVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNhblNraXBBZE9yUHJvbW90aW9uYWwgPVxuICAgICAgICAgICAgICAgICAgICBtZWRpYUluZm8uYWN0aXZlUGxheWxpc3RJdGVtLml0ZW0gJiYgbWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtLnNraXBwYWJsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FuU2Vla0Rpc3BhdGNoZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlsYy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLnNlZWtOb3RBbGxvd2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNhblNlZWtEaXNwYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy50cmFpbGVySXNQbGF5aW5nVGljaywge1xuICAgICAgICAgICAgICAgIGhhc1BsYXllZDogdGhpcy5pbGMucGFsLmhhc1BsYXllZCgpLFxuICAgICAgICAgICAgICAgIHByb21vdGlvbmFsVGl0bGU6ICdUcmFpbGVyJyxcbiAgICAgICAgICAgICAgICBjYW5Ta2lwOiB0aGlzLnN0YXRlLmNhblNraXBBZE9yUHJvbW90aW9uYWwsXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nRHVyYXRpb246IG1lZGlhSW5mby5yZW1haW5pbmdQbGF5bGlzdEl0ZW1EdXJhdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhblNlZWtEaXNwYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5zZWVrQWxsb3dlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jYW5TZWVrRGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5ub3JtYWxDb250ZW50SXNQbGF5aW5nVGljaywge1xuICAgICAgICAgICAgICAgIGlzUGF1c2VkOiB0aGlzLmlsYy5wYWwuaXNQYXVzZWQoKSxcbiAgICAgICAgICAgICAgICBpc0xpdmU6IHRoaXMuc3RhdGUubWVkaWFJbmZvLmlzTGl2ZVN0cmVhbSgpLFxuICAgICAgICAgICAgICAgIHBsYXlIZWFkUG9zaXRpb246IHRoaXMuaWxjLnBhbC5wbGF5SGVhZERhdGVUaW1lUG9zaXRpb24oKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbnN1cmVMb25nUGxheWJhY2soKTogdm9pZCB7XG4gICAgICAgIGlmIChEcm1TZXJ2aWNlLmlzRHJtVG9rZW5BYm91dFRvRXhwaXJlKHRoaXMuc3RhdGUubWVkaWFJbmZvLmRybUV4cGlyZWQpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdEUk0gVG9rZW4gaXMgYWJvdXQgdG8gZXhwaXJlLCByZWxvYWRpbmcgcGxheWVyLi4uJyk7XG4gICAgICAgICAgICB0aGlzLmlsYy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMuZm9yY2VSZWxvYWQsIHtcbiAgICAgICAgICAgICAgICBuZXdJZGVudGl0eVRva2VuOiB0aGlzLmNvbmZpZy5pZGVudGl0eVRva2VuLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUGxheShldmVudDogUGxheWVyRXZlbnQ8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmlsYy5wdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMucGxheSwge1xuICAgICAgICAgICAgaXNMaXZlOiB0aGlzLnN0YXRlLm1lZGlhSW5mby5pc0xpdmVTdHJlYW0oKSxcbiAgICAgICAgICAgIGN1cnJlbnRWb2x1bWU6IHRoaXMuaWxjLnBhbC5nZXRWb2x1bWUoKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblN0YXJ0T3ZlcihldmVudDogUGxheWVyRXZlbnQ8YW55Pik6IHZvaWQge1xuICAgICAgICBjb25zdCBtZWRpYUluZm86IE1lZGlhSW5mbyA9IHRoaXMuc3RhdGUubWVkaWFJbmZvO1xuXG4gICAgICAgIGlmIChtZWRpYUluZm8uaXNMaXZlU3RyZWFtKCkpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYUluZm8uY3VycmVudFNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5mb3JjZVJlbG9hZCwge1xuICAgICAgICAgICAgICAgICAgICBuZXdJZGVudGl0eVRva2VuOiB0aGlzLmNvbmZpZy5pZGVudGl0eVRva2VuLFxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtTGl2ZVN0YXJ0T3ZlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgRXJyb3JDb2Rlcy5QTEFZRVJfRlVOQ1RJT05TX1NUQVJUT1ZFUixcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9ycy1jYW5ub3QtcGVyZm9ybS1zdGFydG92ZXInLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlsYy5wYWwuc2VlaygwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgb25JbnRlcm5hbFBsYXllcldhcm5pbmcoZXZlbnQ6IFBsYXllckV2ZW50PGFueT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IEVycm9yQ29kZXMuUExBWUVSX0FQSV9FUlJPUl9EUk0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1BlcmZvcm1pbmcgc291cmNlIGZhbGx0aHJvdWdoLi4uJyk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWVkaWFJbmZvLmN1cnJlbnRTb3VyY2UgPSB0aGlzLmlsYy5tZWRpYUVucmljaGVyLnNvdXJjZVNlcnZpY2UuZ2V0TmV4dFNvdXJjZShcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm1lZGlhSW5mbyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5tZWRpYUluZm8uY3VycmVudFNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaWxjLnBhbC5zZXRTb3VyY2UodGhpcy5zdGF0ZS5tZWRpYUluZm8pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUubWVkaWFJbmZvLmlzTGl2ZVRvVXJsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbGMucHVibGlzaGVyLmFkZE9uZVRpbWVTdWJzY3JpYmVyKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZmlyc3RwbGF5LCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdGYWxsdGhyb3VnaCBzb3VyY2UgcGxheWluZyEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2VVdGlscy53YWl0KDEwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlsYy5wYWwuc2VlaygwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbGMucGFsLnByZXBhcmVGb3JJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlsYy5wYWwuaGFzUGxheWVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZVV0aWxzLndhaXQoMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbGMucGFsLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaWxjLnB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEVycm9yQ29kZXMuUExBWUVSX0ZVTkNUSU9OU19TT1VSQ0VfRkFMTFRIUk9VR0gsXG4gICAgICAgICAgICAgICAgICAgICdlcnJvcnMtY2Fubm90LXNlbGVjdC1hLW5leHQtc291cmNlJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZElzUGxheWluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWxjLnBhbC5pc0FkUGxheWluZygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdHlwZUlzUGxheWluZyh0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbSAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5tZWRpYUluZm8uYWN0aXZlUGxheWxpc3RJdGVtLml0ZW0gJiZcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWVkaWFJbmZvLmFjdGl2ZVBsYXlsaXN0SXRlbS5pdGVtLmV2ZW50VHlwZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25QbGF5ZXJFcnJvclNwZWNpZmljKHB1Ymxpc2hlcjogUHVibGlzaGVyLCBldmVudDogUHVibGljUGxheWVyRXZlbnQ8YW55Pik6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdIYW5kbGluZyBwbGF5ZXIgZXJyb3IgaW50ZXJuYWxseScpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RhdGUudXBkYXRlSW50ZXJ2YWwpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGV2ZW50LmNvZGUgPT09IEVycm9yQ29kZXMuQUdHUkVHQVRPUl9FUlJPUl9OT1RfQVVUSEVOVElDQVRFRCB8fFxuICAgICAgICAgICAgZXZlbnQuY29kZSA9PT0gRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX0VSUk9SX0lOQ09NUExFVEVfUFJPRklMRSB8fFxuICAgICAgICAgICAgZXZlbnQuY29kZSA9PT0gRXJyb3JDb2Rlcy5BR0dSRUdBVE9SX0VSUk9SX05PVF9BVVRIRU5USUNBVEVEX0FORF9ST0FNSU5HX1JFUVVJUkVEIHx8XG4gICAgICAgICAgICBldmVudC5jb2RlID09PSBFcnJvckNvZGVzLkFHR1JFR0FUT1JfVjJfVU5NQVBQRURcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBUb2tlbkZhY3RvcnkuY2xlYXJUb2tlbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jb25maWcuc2hvd05vRXJyb3JzKSB7XG4gICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMuc2hvd0Vycm9yLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogZXZlbnQubmFtZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBldmVudC5tZXNzYWdlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25QbGF5ZXJSZXNldFJlcXVlc3RlZFNwZWNpZmljKCk6IHZvaWQge1xuICAgICAgICAvL1RoZSBldmVudCBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgYnkgdGhlIGJhc2UgY2xhc3MhXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVlJUUGxheWVyIH0gZnJvbSAnLi4vdnJ0LXBsYXllcic7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuL3B1Ymxpc2hlcic7XG5pbXBvcnQgeyBEaWdpdGFsRGF0YSB9IGZyb20gJy4uL21vZGVsL2RpZ2l0YWwtZGF0YSc7XG5pbXBvcnQgeyBQbGF5bGlzdEl0ZW0gfSBmcm9tICcuLi9tb2RlbC9wbGF5bGlzdCc7XG5pbXBvcnQgeyBBcGlDYWxsRXZlbnQgfSBmcm9tICcuLi9tb2RlbC9ldmVudGluZy9hcGktY2FsbC1ldmVudHMnO1xuaW1wb3J0IHsgUGxheWVyRXZlbnQgfSBmcm9tICcuLi9tb2RlbC9ldmVudGluZy9wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IFZpZGVvUXVhbGl0eSB9IGZyb20gJy4uL21vZGVsL3ZpZGVvLXF1YWxpdHknO1xuaW1wb3J0IHsgUXVhbGl0eSB9IGZyb20gJy4uL21vZGVsL3F1YWxpdHknO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyQXBpRGVjb3JhdG9yIHtcbiAgICBwdWJsaWMgc3RhdGljIGRlY29yYXRlRXZlbnRpbmdBcGkodnJ0UGxheWVyOiBWUlRQbGF5ZXIsIHB1Ymxpc2hlcjogUHVibGlzaGVyKTogdm9pZCB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHZydFBsYXllci5oYXNPd25Qcm9wZXJ0eSgnYWRkRXZlbnRMaXN0ZW5lcicpICYmXG4gICAgICAgICAgICB2cnRQbGF5ZXIuaGFzT3duUHJvcGVydHkoJ3JlbW92ZUV2ZW50TGlzdGVuZXInKSAmJlxuICAgICAgICAgICAgdnJ0UGxheWVyLmhhc093blByb3BlcnR5KCdkZXN0cm95JylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdFdmVudGluZyBBUEkgYWxyZWFkeSBkZWNvcmF0ZWQsIHNraXBwaW5nIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ2FkZEV2ZW50TGlzdGVuZXInLCB7XG4gICAgICAgICAgICB2YWx1ZTogKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIocHVibGlzaGVyLmRldGVjdFB1YmxpY0V2ZW50VHlwZUZyb21TdHJpbmcoZXZlbnROYW1lKSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ3JlbW92ZUV2ZW50TGlzdGVuZXInLCB7XG4gICAgICAgICAgICB2YWx1ZTogKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnJlbW92ZVN1YnNjcmliZXIocHVibGlzaGVyLmRldGVjdFB1YmxpY0V2ZW50VHlwZUZyb21TdHJpbmcoZXZlbnROYW1lKSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ2Rlc3Ryb3knLCB7XG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmRlc3Ryb3lBcGlDYWxsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0V2ZW50aW5nIEFQSSBkZWNvcmF0ZWQhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBkZWNvcmF0ZVB1YmxpY0FwaSh2cnRQbGF5ZXI6IFZSVFBsYXllciwgcHVibGlzaGVyOiBQdWJsaXNoZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFPYmplY3QuaXNFeHRlbnNpYmxlKHZydFBsYXllcikgJiYgT2JqZWN0LmlzU2VhbGVkKHZydFBsYXllcikgJiYgT2JqZWN0LmlzRnJvemVuKHZydFBsYXllcikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1B1YmxpYyBBUEkgYWxyZWFkeSBkZWNvcmF0ZWQsIHVwZGF0aW5nIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgUGxheWVyQXBpRGVjb3JhdG9yLmFkZFByb3BlcnRpZXModnJ0UGxheWVyLCBwdWJsaXNoZXIpO1xuICAgICAgICBQbGF5ZXJBcGlEZWNvcmF0b3IuYWRkTWV0aG9kcyh2cnRQbGF5ZXIsIHB1Ymxpc2hlcik7XG5cbiAgICAgICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHZydFBsYXllcik7XG4gICAgICAgIE9iamVjdC5zZWFsKHZydFBsYXllcik7XG4gICAgICAgIE9iamVjdC5mcmVlemUodnJ0UGxheWVyKTtcblxuICAgICAgICBjb25zb2xlLmRlYnVnKCdQbGF5ZXIgQVBJIGRlY29yYXRlZCEnKTtcbiAgICB9XG5cbiAgICAvLyBEZXZpYXRpb24gZnJvbSBIVE1MTWVkaWFFbGVtZW50IEFQSSwgcmV0dXJucyBvZiBnZXQgc2hvdWxkIGJlIHdyYXBwZWQgaW4gPT4gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9yZXNvbHZlXG4gICAgcHJpdmF0ZSBzdGF0aWMgYWRkUHJvcGVydGllcyh2cnRQbGF5ZXI6IFZSVFBsYXllciwgcHVibGlzaGVyOiBQdWJsaXNoZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hZGRQcm9wZXJ0eTxib29sZWFuPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ211dGVkJywge1xuICAgICAgICAgICAgc2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLm11dGVBcGlDYWxsU2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLm11dGVBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLm11dGVBcGlDYWxsR2V0UmV0dXJuLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFByb3BlcnR5PG51bWJlcj4ocHVibGlzaGVyLCB2cnRQbGF5ZXIsICd2b2x1bWUnLCB7XG4gICAgICAgICAgICBzZXRFdmVudDogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMudm9sdW1lQXBpQ2FsbFNldCxcbiAgICAgICAgICAgIGdldEV2ZW50OiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy52b2x1bWVBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnZvbHVtZUFwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8bnVtYmVyPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ2R1cmF0aW9uJywge1xuICAgICAgICAgICAgZ2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmR1cmF0aW9uQXBpQ2FsbEdldCxcbiAgICAgICAgICAgIGdldEV2ZW50UmV0dXJuOiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5kdXJhdGlvbkFwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8bnVtYmVyPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ2N1cnJlbnRUaW1lJywge1xuICAgICAgICAgICAgc2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmN1cnJlbnRUaW1lQXBpQ2FsbFNldCxcbiAgICAgICAgICAgIGdldEV2ZW50OiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5jdXJyZW50VGltZUFwaUNhbGxHZXQsXG4gICAgICAgICAgICBnZXRFdmVudFJldHVybjogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY3VycmVudFRpbWVBcGlDYWxsR2V0UmV0dXJuLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFByb3BlcnR5PERhdGU+KHB1Ymxpc2hlciwgdnJ0UGxheWVyLCAnY3VycmVudERhdGVUaW1lJywge1xuICAgICAgICAgICAgZ2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmN1cnJlbnREYXRlVGltZUFwaUNhbGxHZXQsXG4gICAgICAgICAgICBnZXRFdmVudFJldHVybjogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY3VycmVudERhdGVUaW1lQXBpQ2FsbEdldFJldHVybixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRQcm9wZXJ0eTxib29sZWFuPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ3BhdXNlZCcsIHtcbiAgICAgICAgICAgIGdldEV2ZW50OiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5wYXVzZWRBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnBhdXNlZEFwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8Ym9vbGVhbj4ocHVibGlzaGVyLCB2cnRQbGF5ZXIsICdsb29wJywge1xuICAgICAgICAgICAgc2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmxvb3BBcGlDYWxsU2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmxvb3BBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmxvb3BBcGlDYWxsR2V0UmV0dXJuLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFByb3BlcnR5PHN0cmluZz4ocHVibGlzaGVyLCB2cnRQbGF5ZXIsICdjdXJyZW50U3JjJywge1xuICAgICAgICAgICAgZ2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmN1cnJlbnRTcmNBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmN1cnJlbnRTcmNBcGlDYWxsR2V0UmV0dXJuLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFByb3BlcnR5PHN0cmluZz4ocHVibGlzaGVyLCB2cnRQbGF5ZXIsICdjdXJyZW50TWVkaWFSZWZlcmVuY2UnLCB7XG4gICAgICAgICAgICBnZXRFdmVudDogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY3VycmVudE1lZGlhUmVmZXJlbmNlQXBpQ2FsbEdldCxcbiAgICAgICAgICAgIGdldEV2ZW50UmV0dXJuOiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5jdXJyZW50TWVkaWFSZWZlcmVuY2VBcGlDYWxsR2V0UmV0dXJuLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFByb3BlcnR5PFxuICAgICAgICAgICAgKHN0cmluZyB8IHN0cmluZ1tdKSB8IHsgbmV3U291cmNlczogc3RyaW5nIHwgc3RyaW5nW107IG5ld0RpZ2l0YWxEYXRhczogRGlnaXRhbERhdGEgfCBEaWdpdGFsRGF0YVtdIH1cbiAgICAgICAgPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ3NyYycsIHtcbiAgICAgICAgICAgIHNldEV2ZW50OiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5zcmNBcGlDYWxsU2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnNyY0FwaUNhbGxHZXQsXG4gICAgICAgICAgICBnZXRFdmVudFJldHVybjogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuc3JjQXBpQ2FsbEdldFJldHVybixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRQcm9wZXJ0eTxUaW1lUmFuZ2VzPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ3NlZWthYmxlJywge1xuICAgICAgICAgICAgZ2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnNlZWthYmxlQXBpQ2FsbEdldCxcbiAgICAgICAgICAgIGdldEV2ZW50UmV0dXJuOiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5zZWVrYWJsZUFwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8Ym9vbGVhbj4ocHVibGlzaGVyLCB2cnRQbGF5ZXIsICdoYXNQbGF5ZWQnLCB7XG4gICAgICAgICAgICBnZXRFdmVudDogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuaGFzUGxheWVkQXBpQ2FsbEdldCxcbiAgICAgICAgICAgIGdldEV2ZW50UmV0dXJuOiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5oYXNQbGF5ZWRBcGlDYWxsR2V0UmV0dXJuLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZFByb3BlcnR5PGJvb2xlYW4+KHB1Ymxpc2hlciwgdnJ0UGxheWVyLCAnY29udHJvbHMnLCB7XG4gICAgICAgICAgICBzZXRFdmVudDogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY29udHJvbHNBcGlDYWxsU2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnQ6IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmNvbnRyb2xzQXBpQ2FsbEdldCxcbiAgICAgICAgICAgIGdldEV2ZW50UmV0dXJuOiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5jb250cm9sc0FwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8bnVtYmVyPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ3BsYXlsaXN0U2l6ZScsIHtcbiAgICAgICAgICAgIGdldEV2ZW50OiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5wbGF5bGlzdFNpemVBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnBsYXlsaXN0U2l6ZUFwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8UGxheWxpc3RJdGVtPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ2N1cnJlbnRQbGF5bGlzdEl0ZW0nLCB7XG4gICAgICAgICAgICBnZXRFdmVudDogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY3VycmVudFBsYXlsaXN0SXRlbUFwaUNhbGxHZXQsXG4gICAgICAgICAgICBnZXRFdmVudFJldHVybjogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuY3VycmVudFBsYXlsaXN0SXRlbUFwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8VGV4dFRyYWNrPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ2FjdGl2ZVN1YnRpdGxlcycsIHtcbiAgICAgICAgICAgIGdldEV2ZW50OiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5hY3RpdmVTdWJ0aXRsZXNBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmFjdGl2ZVN1YnRpdGxlc0FwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2cnRQbGF5ZXIsICdwbGF5YmFja1JhdGUnLCB7XG4gICAgICAgICAgICBnZXQ6ICgpOiBQcm9taXNlPG51bWJlcj4gPT4ge1xuICAgICAgICAgICAgICAgIC8vRm9yIG5vdyBzbG93IG1vdGlvbiBvciBzcGVkIHVwIHBsYXliYWNrIGlzIG5vdCBzdXBwb3J0ZWQhXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8UXVhbGl0eVtdPihwdWJsaXNoZXIsIHZydFBsYXllciwgJ2F2YWlsYWJsZVF1YWxpdGllcycsIHtcbiAgICAgICAgICAgIGdldEV2ZW50OiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5hdmFpbGFibGVRdWFsaXRpZXNBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmF2YWlsYWJsZVF1YWxpdGllc0FwaUNhbGxHZXRSZXR1cm4sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHk8Ym9vbGVhbj4ocHVibGlzaGVyLCB2cnRQbGF5ZXIsICdhdXRvcGxheScsIHtcbiAgICAgICAgICAgIHNldEV2ZW50OiBQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5hdXRvcGxheUFwaUNhbGxTZXQsXG4gICAgICAgICAgICBnZXRFdmVudDogUHVibGlzaGVyLmFwaUNhbGxFdmVudHMuYXV0b3BsYXlBcGlDYWxsR2V0LFxuICAgICAgICAgICAgZ2V0RXZlbnRSZXR1cm46IFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmF1dG9wbGF5QXBpQ2FsbEdldFJldHVybixcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYWRkTWV0aG9kcyh2cnRQbGF5ZXI6IFZSVFBsYXllciwgcHVibGlzaGVyOiBQdWJsaXNoZXIpOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ3BsYXknLCB7XG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnBsYXlBcGlDYWxsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2cnRQbGF5ZXIsICdwYXVzZScsIHtcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMucGF1c2VBcGlDYWxsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2cnRQbGF5ZXIsICd0b2dnbGVQbGF5Jywge1xuICAgICAgICAgICAgdmFsdWU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy50b2dnbGVQbGF5QXBpQ2FsbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodnJ0UGxheWVyLCAnc2tpcEFkJywge1xuICAgICAgICAgICAgdmFsdWU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5za2lwQWRBcGlDYWxsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2cnRQbGF5ZXIsICd0b2dnbGVDYXN0Jywge1xuICAgICAgICAgICAgdmFsdWU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy50b2dnbGVDYXN0QXBpQ2FsbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodnJ0UGxheWVyLCAndG9nZ2xlTXV0ZScsIHtcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMudG9nZ2xlTXV0ZUFwaUNhbGwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ3Jld2luZFNlY29uZHMnLCB7XG4gICAgICAgICAgICB2YWx1ZTogKHNlY29uZHNUb1Jld2luZDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMucmV3aW5kU2Vjb25kc0FwaUNhbGwsIHNlY29uZHNUb1Jld2luZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodnJ0UGxheWVyLCAnZmFzdFNlZWsnLCB7XG4gICAgICAgICAgICB2YWx1ZTogKHNlY29uZHNGcm9tU3RhcnQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmZhc3RTZWVrQXBpQ2FsbCwgc2Vjb25kc0Zyb21TdGFydCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodnJ0UGxheWVyLCAnbGl2ZVN0YXJ0T3ZlcicsIHtcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMubGl2ZVN0YXJ0T3ZlckFwaUNhbGwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ3RvZ2dsZVN1YnRpdGxlcycsIHtcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMudG9nZ2xlU3VidGl0bGVzQXBpQ2FsbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodnJ0UGxheWVyLCAndG9nZ2xlRnVsbHNjcmVlbicsIHtcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMudG9nZ2xlRnVsbHNjcmVlbkFwaUNhbGwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ2Rpc2FibGVJbnRlcmZhY2UnLCB7XG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmRpc2FibGVJbnRlcmZhY2VBcGlDYWxsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2cnRQbGF5ZXIsICdlbmFibGVJbnRlcmZhY2UnLCB7XG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmVuYWJsZUludGVyZmFjZUFwaUNhbGwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ3Rocm93RXJyb3InLCB7XG4gICAgICAgICAgICB2YWx1ZTogKG1lc3NhZ2U6IHN0cmluZywgY29udGVudDogYW55ID0gbnVsbCkgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnRocm93RXJyb3JBcGlDYWxsLCB7IG1lc3NhZ2UsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodnJ0UGxheWVyLCAnc2hvd1RpdGxlJywge1xuICAgICAgICAgICAgdmFsdWU6IChzaG91bGRTaG93VGl0bGU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5zaG93VGl0bGVBcGlDYWxsLCBzaG91bGRTaG93VGl0bGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ25leHQnLCB7XG4gICAgICAgICAgICB2YWx1ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLm5leHRBcGlDYWxsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2cnRQbGF5ZXIsICdwcmV2aW91cycsIHtcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmFwaUNhbGxFdmVudHMucHJldmlvdXNBcGlDYWxsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2cnRQbGF5ZXIsICdnb3RvJywge1xuICAgICAgICAgICAgdmFsdWU6ICh0YXJnZXRJbmRleE9yTWVkaWFSZWZlcmVuY2U6IG51bWJlciB8IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLmdvdG9BcGlDYWxsLCB0YXJnZXRJbmRleE9yTWVkaWFSZWZlcmVuY2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZydFBsYXllciwgJ2FkZFRvUGxheWxpc3QnLCB7XG4gICAgICAgICAgICB2YWx1ZTogKG1lZGlhUmVmZXJlbmNlOiBzdHJpbmcsIGRpZ2l0YWxEYXRhPzogRGlnaXRhbERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuYXBpQ2FsbEV2ZW50cy5hZGRUb1BsYXlsaXN0QXBpQ2FsbCwgeyBtZWRpYVJlZmVyZW5jZSwgZGlnaXRhbERhdGEgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodnJ0UGxheWVyLCAnc2V0UXVhbGl0eScsIHtcbiAgICAgICAgICAgIHZhbHVlOiAodGFyZ2V0UXVhbGl0eTogUXVhbGl0eSkgPT4ge1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5hcGlDYWxsRXZlbnRzLnNldFF1YWxpdHlBcGlDYWxsLCB0YXJnZXRRdWFsaXR5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGFkZFByb3BlcnR5PFQ+KFxuICAgICAgICBwdWJsaXNoZXI6IFB1Ymxpc2hlcixcbiAgICAgICAgYmFzZTogT2JqZWN0LFxuICAgICAgICBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgZ2V0QW5kU2V0RXZlbnRzOiB7IHNldEV2ZW50PzogQXBpQ2FsbEV2ZW50PFQ+OyBnZXRFdmVudDogQXBpQ2FsbEV2ZW50PHZvaWQ+OyBnZXRFdmVudFJldHVybjogQXBpQ2FsbEV2ZW50PFQ+IH0sXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGlmIChnZXRBbmRTZXRFdmVudHMuc2V0RXZlbnQgJiYgZ2V0QW5kU2V0RXZlbnRzLmdldEV2ZW50ICYmIGdldEFuZFNldEV2ZW50cy5nZXRFdmVudFJldHVybikge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJhc2UsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICAgICAgICAgIHNldDogKHZhbHVlOiBQcm9taXNlPFQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgb25seSBhbGxvd3MgZm9yIG1hdGNoaW5nIGdldHRlciAmIHNldHRlciB0eXBlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFkZCB0aGUgZXh0cmEgcmVzb2x2ZSBzdGVwIGZvciBiYWNrd2FyZHMgY29tcGF0IHNvIHJlZ3VsYXIgbm9uIFByb21pc2UgdmFsdWVzIGNhbiBhbHNvIGJlIHBhc3NlZCBpbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXNvbHZlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc29sdmVkVmFsdWU6IFQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChnZXRBbmRTZXRFdmVudHMuc2V0RXZlbnQsIHJlc29sdmVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IHNldCBwcm9wZXJ0eSAnICsgcHJvcGVydHlOYW1lICsgJyAoJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCA0KSArICcpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpOiBQcm9taXNlPFQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5hZGRPbmVUaW1lU3Vic2NyaWJlcihnZXRBbmRTZXRFdmVudHMuZ2V0RXZlbnRSZXR1cm4sIChldmVudDogUGxheWVyRXZlbnQ8VD4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGV2ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChnZXRBbmRTZXRFdmVudHMuZ2V0RXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZ2V0QW5kU2V0RXZlbnRzLnNldEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJhc2UsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBzZXQ6ICh2YWx1ZTogVCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goZ2V0QW5kU2V0RXZlbnRzLnNldEV2ZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChnZXRBbmRTZXRFdmVudHMuZ2V0RXZlbnQgJiYgZ2V0QW5kU2V0RXZlbnRzLmdldEV2ZW50UmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJhc2UsIHByb3BlcnR5TmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpOiBQcm9taXNlPFQ+ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLmFkZE9uZVRpbWVTdWJzY3JpYmVyKGdldEFuZFNldEV2ZW50cy5nZXRFdmVudFJldHVybiwgKGV2ZW50OiBQbGF5ZXJFdmVudDxUPikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGV2ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKGdldEFuZFNldEV2ZW50cy5nZXRFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbnRlbnREZXRlY3RvciB9IGZyb20gJy4vbG9naWMvY29udGVudC1kZXRlY3Rvcic7XG5pbXBvcnQgeyBDb25maWcsIE5FWFRfVVBfQVVUT1BMQVksIFBMQVlFUl9NT0RFUyB9IGZyb20gJy4vbW9kZWwvY29uZmlnJztcbmltcG9ydCB7IFBsYXliYWNrIH0gZnJvbSAnLi9wbGF5ZXIvcGxheWJhY2svcGxheWJhY2snO1xuaW1wb3J0IHsgUHVibGlzaGVyIH0gZnJvbSAnLi9wbGF5ZXIvcHVibGlzaGVyJztcbmltcG9ydCB7IFlvdXR1YmVQbGF5YmFjayB9IGZyb20gJy4vcGxheWVyL3BsYXliYWNrL3lvdXR1YmUtcGxheWJhY2snO1xuaW1wb3J0IHsgRXJyb3JDb2RlcywgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi9sb2dpYy9lcnJvci1oYW5kbGVyJztcbmltcG9ydCB7IFByb21pc2VVdGlscyB9IGZyb20gJy4vdXRpbHMvcHJvbWlzZS11dGlscyc7XG5pbXBvcnQge1xuICAgIEZvcmNlUmVsb2FkUGF5bG9hZCxcbiAgICBJbnRlcm5hbFBsYXllckV2ZW50LFxuICAgIE1lZGlhUmVmZXJlbmNlQ2hhbmdlZFBheWxvYWQsXG4gICAgTmV3SWRlbnRpdHlUb2tlblJlY2VpdmVkUGF5bG9hZCxcbiAgICBOZXh0VXBBbm5vdW5jZWRQYXlsb2FkLFxuICAgIFBsYXlsaXN0U291cmNlUmVxdWVzdGVkUGF5bG9hZCxcbn0gZnJvbSAnLi9tb2RlbC9ldmVudGluZy9pbnRlcm5hbC1wbGF5ZXItZXZlbnRzJztcbmltcG9ydCB7IFBsYXllckFic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuL3BsYXllci9hYnN0cmFjdGlvbi1sYXllci9wbGF5ZXItYWJzdHJhY3Rpb24tbGF5ZXInO1xuaW1wb3J0IHsgVGhlb0Fic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuL3BsYXllci9hYnN0cmFjdGlvbi1sYXllci90aGVvLWFic3RyYWN0aW9uLWxheWVyJztcbmltcG9ydCB7IEhlYWRsZXNzVGhlb0Fic3RyYWN0aW9uTGF5ZXIgfSBmcm9tICcuL3BsYXllci9hYnN0cmFjdGlvbi1sYXllci9oZWFkbGVzcy10aGVvLWFic3RyYWN0aW9uLWxheWVyJztcbmltcG9ydCB7IFlvdXR1YmVBYnN0cmFjdGlvbkxheWVyIH0gZnJvbSAnLi9wbGF5ZXIvYWJzdHJhY3Rpb24tbGF5ZXIveW91dHViZS1hYnN0cmFjdGlvbi1sYXllcic7XG5pbXBvcnQgeyBQbGF5bGlzdCB9IGZyb20gJy4vbW9kZWwvcGxheWxpc3QnO1xuaW1wb3J0IHsgUmVndWxhclBsYXliYWNrIH0gZnJvbSAnLi9wbGF5ZXIvcGxheWJhY2svcmVndWxhci1wbGF5YmFjayc7XG5pbXBvcnQgeyBQbGF5ZXJBcGlEZWNvcmF0b3IgfSBmcm9tICcuL3BsYXllci9wbGF5ZXItYXBpLWRlY29yYXRvcic7XG5pbXBvcnQgeyBNZWRpYUVucmljaGVyIH0gZnJvbSAnLi9sb2dpYy9tZWRpYS1lbnJpY2hlci9tZWRpYS1lbnJpY2hlcic7XG5pbXBvcnQgeyBNZWRpYUluZm8gfSBmcm9tICcuL21vZGVsL21lZGlhLWluZm8nO1xuaW1wb3J0IHsgUGxheWVyRXZlbnQgfSBmcm9tICcuL21vZGVsL2V2ZW50aW5nL3BsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgVXNlclByZWZlcmVuY2VzTWFuYWdlciB9IGZyb20gJy4vbG9naWMvdXNlci1wcmVmZXJlbmNlcy1tYW5hZ2VyJztcbmltcG9ydCB7IFF1YWxpdHkgfSBmcm9tICcuL21vZGVsL3F1YWxpdHknO1xuXG5leHBvcnQgY2xhc3MgVlJUUGxheWVyIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogQ29uZmlnO1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBDb25maWcsIHBsYXlsaXN0OiBQbGF5bGlzdCwgcHVibGlzaGVyOiBQdWJsaXNoZXIpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICAgICAgY29uc3QgdXNlclByZWZlcmVuY2VzTWFuYWdlcjogVXNlclByZWZlcmVuY2VzTWFuYWdlciA9IG5ldyBVc2VyUHJlZmVyZW5jZXNNYW5hZ2VyKHB1Ymxpc2hlciwgY29uZmlnKTtcblxuICAgICAgICAvLyBWYXJpYWJsZXMgZGVjbGFyZWQgaGVyZSBhbmQgcGFzc2VkIG9uIHRvIGtlZXAgdGhlbSBoaWRkZW4hIFByaXZhdGUgaW4gVHlwZVNjcmlwdCBpcyBub3QgcmVhbGx5IHByaXZhdGUgaW4gSmF2YVNjcmlwdCFcbiAgICAgICAgY29uc3QgcGxheWVyU3RhdGU6IE1haW5QbGF5ZXJTdGF0ZSA9IHtcbiAgICAgICAgICAgIHBsYXlsaXN0LFxuICAgICAgICAgICAgaXNGaXJzdFBsYXlsaXN0SXRlbTogdHJ1ZSxcbiAgICAgICAgICAgIG1lZGlhRW5yaWNoZXI6IG51bGwsXG4gICAgICAgICAgICBhbHJlYWR5SW5FcnJvcjogZmFsc2UsXG4gICAgICAgICAgICB3YXNQbGF5aW5nOiBudWxsLFxuICAgICAgICAgICAgcG9zaXRpb246IDAsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBwYWw6IFBsYXllckFic3RyYWN0aW9uTGF5ZXI7XG5cbiAgICAgICAgUGxheWVyQXBpRGVjb3JhdG9yLmRlY29yYXRlRXZlbnRpbmdBcGkodGhpcywgcHVibGlzaGVyKTtcblxuICAgICAgICBjb25zdCBzdGFydHVwOiBGdW5jdGlvbiA9IGFzeW5jIChtZWRpYUVucmljaGVyOiBNZWRpYUVucmljaGVyKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghbWVkaWFFbnJpY2hlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lZGlhRW5yaWNoZXIgbm90IHByb3ZpZGVkIScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJTdGF0ZS5tZWRpYUVucmljaGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclN0YXRlLm1lZGlhRW5yaWNoZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZS5tZWRpYUVucmljaGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGxheWVyU3RhdGUubWVkaWFFbnJpY2hlciA9IG1lZGlhRW5yaWNoZXI7XG5cbiAgICAgICAgICAgICAgICBDb250ZW50RGV0ZWN0b3IudmFsaWRhdGVQbGF5bGlzdChwbGF5bGlzdCk7XG4gICAgICAgICAgICAgICAgbGV0IHBsYXliYWNrTG9naWM6IFBsYXliYWNrO1xuXG4gICAgICAgICAgICAgICAgLy8gVGhlIGZpcnN0IGl0ZW0gb2YgdGhlIGluaXRpYWwgcGxheWxpc3QgZGV0ZXJtaW5lcyB0aGUgcGxheWVyIGFic3RyYWN0aW9uIGxheWVyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHN3aXRjaGluZyBmcm9tIHJlZ3VsYXIgdG8gWW91VHViZSBwbGF5YmFjayAob3IgdmljZSB2ZXJzYSkgaXMgTk9UIHN1cHBvcnRlZCFcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFsc28gbWVhbnMgdGhhdCBzd2l0Y2hpbmcgZnJvbSBBVURJTyB0byBWSURFTyAob3IgdmljZSB2ZXJzYSkgbW9kZSBpcyBOT1Qgc3VwcG9ydGVkIVxuICAgICAgICAgICAgICAgIC8vIFN3aXRjaGluZyBiZXR3ZWVuIHJlZ3VsYXIgJiB5b3V0dWJlIG9yIGF1ZGlvICYgdmlkZW8gbWVhbnMgdGhhdCBhIG5ldyBQQUwgbmVlZHMgdG8gYmUgY3JlYXRlZCwgZm9yIG5vdyB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQhXG4gICAgICAgICAgICAgICAgaWYgKG1lZGlhRW5yaWNoZXIuaXNWUlQoKSB8fCBtZWRpYUVucmljaGVyLmlzU3RhbmRBbG9uZVZpZGVvKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcucGxheWVyTW9kZSA9PT0gUExBWUVSX01PREVTLlZJREVPXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IFRoZW9BYnN0cmFjdGlvbkxheWVyKHRoaXMuY29uZmlnLCBwdWJsaXNoZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEhlYWRsZXNzVGhlb0Fic3RyYWN0aW9uTGF5ZXIodGhpcy5jb25maWcsIHB1Ymxpc2hlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBwYWwuc2V0dXBVc2VySW50ZXJmYWNlKHB1Ymxpc2hlcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdSZWxvYWRpbmcgcGxheWVyIHdpdGggbmV3IHNvdXJjZSEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbC5vblBsYXllclJlc2V0UmVxdWVzdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGxheWJhY2tMb2dpYyA9IG5ldyBSZWd1bGFyUGxheWJhY2soY29uZmlnLCBwbGF5ZXJTdGF0ZS5wbGF5bGlzdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbCA9IGF3YWl0IFlvdXR1YmVBYnN0cmFjdGlvbkxheWVyLmxvYWRQbGF5ZXJXaXRoVmlkZW8oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcuY29udGFpbmVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZS5wbGF5bGlzdC5jdXJyZW50KCkubWVkaWFSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHBhbC5zZXR1cFVzZXJJbnRlcmZhY2UocHVibGlzaGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlbG9hZGluZyBwbGF5ZXIgd2l0aCBuZXcgc291cmNlIScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBsYXliYWNrTG9naWMgPSBuZXcgWW91dHViZVBsYXliYWNrKGNvbmZpZywgcGxheWVyU3RhdGUucGxheWxpc3QpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGF3YWl0IHBsYXliYWNrTG9naWMucHJlcGFyZVBsYXllckZvclBsYXliYWNrKHB1Ymxpc2hlciwgcGFsLCBtZWRpYUVucmljaGVyKTtcbiAgICAgICAgICAgICAgICBwbGF5YmFja0xvZ2ljLnJlc3RvcmVQbGF5YmFjayhcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZS5pc0ZpcnN0UGxheWxpc3RJdGVtLFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZS53YXNQbGF5aW5nLFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdXNlclByZWZlcmVuY2VzTWFuYWdlci51c2VyUHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBQbGF5ZXJBcGlEZWNvcmF0b3IuZGVjb3JhdGVQdWJsaWNBcGkodGhpcywgcHVibGlzaGVyKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1BsYXliYWNrIGxvZ2ljIGJvb3RzdHJhcHBlZCwgcGxheWVyIHdvcmtpbmcgY29ycmVjdGx5IScpO1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5yZWFkeSk7XG4gICAgICAgICAgICAgICAgLy8gUmVhZHkgZXZlbnQgbWFrZXMgdGhlIG1haW4gcGxheWVyIHByb21pc2UgcmVzb2x2ZSwgd2Ugd2FpdCBvbmUgZnJhbWUgKDMwZnBzKSB0byBhbGxvdyBmb3IgZXZlbnQgbGlzdGVuZXJzIHRvIGJlIGFkZGVkIHRvIHRoZSBwbGF5ZXIgdmlhIHRoZSBBUEkhXG4gICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZVV0aWxzLndhaXQoMzMpO1xuICAgICAgICAgICAgICAgIHVzZXJQcmVmZXJlbmNlc01hbmFnZXIuYmluZFRvUGxheWVyKCk7XG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5jYW5wbGF5KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllclN0YXRlLmFscmVhZHlJbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1BsYXllciBhbHJlYWR5IGluIGVycm9yLCBubyBuZWVkIHRvIGRpc3BhdGNoIGFuIGFkZGl0aW9uYWwgZXJyb3IgZXZlbnQhJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZTogc3RyaW5nID0gZXJyb3IgPyBlcnJvciA6ICdpbmNvcnJlY3QgY29uZmlndXJhdGlvbiEnO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsYXllciBjYW5ub3QgYmUgc3RhcnRlZDogJyArIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBFcnJvckhhbmRsZXIuZXJyb3JUb1NlbnRyeSgnUGxheWVyIHN0YXJ0dXAnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnR2VuZXJhbCBlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBFcnJvckNvZGVzLlBMQVlFUl9BUElfRVJST1JfR0VORVJBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHsgY29uZmlnLCBlcnJvciB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZVV0aWxzLndhaXQoNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEVycm9yQ29kZXMuUExBWUVSX0FQSV9FUlJPUl9HRU5FUkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9ycy10aGUtcGxheWVyLWNhbm5vdC1iZS1zdGFydGVkJyArIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY2xlYW51cDogRnVuY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBwbGF5ZXJTdGF0ZS5pc0ZpcnN0UGxheWxpc3RJdGVtID0gZmFsc2U7XG4gICAgICAgICAgICBwbGF5ZXJTdGF0ZS5hbHJlYWR5SW5FcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgcGxheWVyU3RhdGUucG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnJlc2V0KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBMb2FkIHRoZSBmaXJzdCBwbGF5bGlzdCBpdGVtIVxuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgc3RhcnR1cChDb250ZW50RGV0ZWN0b3IuY3JlYXRlTWVkaWFFbnJpY2hlcihjb25maWcsIHB1Ymxpc2hlciwgcGxheWxpc3QuY3VycmVudCgpKSk7XG4gICAgICAgIH0pKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIExvZ2ljIGJlbG93IGlzIHBsYXlsaXN0IHN1cHBvcnRcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZXJyb3IsICgpID0+IHtcbiAgICAgICAgICAgIHBsYXllclN0YXRlLmFscmVhZHlJbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoXG4gICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMubWVkaWFSZWZlcmVuY2VDaGFuZ2VkLFxuICAgICAgICAgICAgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PE1lZGlhUmVmZXJlbmNlQ2hhbmdlZFBheWxvYWQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyU3RhdGUud2FzUGxheWluZyA9IHBhbC5pc1BsYXlpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyU3RhdGUucGxheWxpc3QgPSBuZXcgUGxheWxpc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jb250ZW50Lm5ld01lZGlhUmVmZXJlbmNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNvbnRlbnQubmV3RGlnaXRhbERhdGFzLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0dXAoQ29udGVudERldGVjdG9yLmNyZWF0ZU1lZGlhRW5yaWNoZXIoY29uZmlnLCBwdWJsaXNoZXIsIHBsYXlsaXN0LmN1cnJlbnQoKSkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5lcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoRXJyb3JDb2Rlcy5QTEFZRVJfQVBJX0VSUk9SX1BMQVlMSVNULCBlcnJvciwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5lbmRlZCwgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBsYXllclN0YXRlLnBsYXlsaXN0LnBlZWsoKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ05vIG1vcmUgbWVkaWFSZWZlcmVuY2UgdG8gcGxheSEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAoY29uZmlnLm5leHRVcEF1dG9QbGF5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE5FWFRfVVBfQVVUT1BMQVkuT046XG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgdGhlIG5leHQgdXAgYnV0dG9uIGlmIHRoZSBjdXJyZW50IHZpZGVvIGhhcyBlbmRlZCFcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyU3RhdGUucGxheWxpc3QubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLm5leHR1cHJlbW92ZWQpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZS53YXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydHVwKENvbnRlbnREZXRlY3Rvci5jcmVhdGVNZWRpYUVucmljaGVyKGNvbmZpZywgcHVibGlzaGVyLCBwbGF5bGlzdC5jdXJyZW50KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIE5FWFRfVVBfQVVUT1BMQVkuT0ZGX1NUT1BfQVRfQkVHSU46XG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgdGhlIG5leHQgdXAgYnV0dG9uIGlmIHRoZSBjdXJyZW50IHZpZGVvIGhhcyBlbmRlZCFcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyU3RhdGUucGxheWxpc3QubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLm5leHR1cHJlbW92ZWQpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZS53YXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnR1cChDb250ZW50RGV0ZWN0b3IuY3JlYXRlTWVkaWFFbnJpY2hlcihjb25maWcsIHB1Ymxpc2hlciwgcGxheWxpc3QuY3VycmVudCgpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBORVhUX1VQX0FVVE9QTEFZLk9GRl9TVE9QX0FUX0VORDpcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZyEgTWFudWFsIGludGVyYWN0aW9uIHJlcXVpcmVkIHRvIGxvYWQgdGhlIG5leHQgdmlkZW8hXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5leHQtdXAtYXV0b3BsYXkgcGFyYW1ldGVyIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLm5leHRzb3VyY2VyZXF1ZXN0ZWQsIChldmVudDogUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgLy8gSGlkZSB0aGUgbmV4dCB1cCBidXR0b24gaWYgdGhlIGN1cnJlbnQgdmlkZW8gaGFzIGVuZGVkIVxuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5uZXh0dXByZW1vdmVkKTtcblxuICAgICAgICAgICAgcGxheWVyU3RhdGUud2FzUGxheWluZyA9IHBhbC5pc1BsYXlpbmcoKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJTdGF0ZS5wbGF5bGlzdC5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgc3RhcnR1cChDb250ZW50RGV0ZWN0b3IuY3JlYXRlTWVkaWFFbnJpY2hlcihjb25maWcsIHB1Ymxpc2hlciwgcGxheWxpc3QuY3VycmVudCgpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ05vIG5leHQgbWVkaWFSZWZlcmVuY2UgdG8gcGxheSEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5wcmV2aW91c3NvdXJjZXJlcXVlc3RlZCwgKGV2ZW50OiBQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBuZXh0IHVwIGJ1dHRvbiBpZiB0aGUgY3VycmVudCB2aWRlbyBoYXMgZW5kZWQhXG4gICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLm5leHR1cHJlbW92ZWQpO1xuXG4gICAgICAgICAgICBwbGF5ZXJTdGF0ZS53YXNQbGF5aW5nID0gcGFsLmlzUGxheWluZygpO1xuICAgICAgICAgICAgaWYgKHBsYXllclN0YXRlLnBsYXlsaXN0LnByZXZpb3VzKCkpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgc3RhcnR1cChDb250ZW50RGV0ZWN0b3IuY3JlYXRlTWVkaWFFbnJpY2hlcihjb25maWcsIHB1Ymxpc2hlciwgcGxheWxpc3QuY3VycmVudCgpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ05vIHByZXZpb3VzIG1lZGlhUmVmZXJlbmNlIHRvIHBsYXkhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHB1Ymxpc2hlci5hZGRTdWJzY3JpYmVyKFxuICAgICAgICAgICAgUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnBsYXlsaXN0U291cmNlUmVxdWVzdGVkLFxuICAgICAgICAgICAgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PFBsYXlsaXN0U291cmNlUmVxdWVzdGVkUGF5bG9hZD4pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBIaWRlIHRoZSBuZXh0IHVwIGJ1dHRvbiBpZiB0aGUgY3VycmVudCB2aWRlbyBoYXMgZW5kZWQhXG4gICAgICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLnB1YmxpY1BsYXllckV2ZW50cy5uZXh0dXByZW1vdmVkKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPVxuICAgICAgICAgICAgICAgICAgICBldmVudC5jb250ZW50LmluZGV4ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGV2ZW50LmNvbnRlbnQuaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGxheWVyU3RhdGUucGxheWxpc3QuZ2V0SW5kZXhGb3JNZWRpYVJlZmVyZW5jZShldmVudC5jb250ZW50Lm1lZGlhUmVmZXJlbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyU3RhdGUucGxheWxpc3Quc2V0VG8oaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllclN0YXRlLndhc1BsYXlpbmcgPSBwYWwuaXNQbGF5aW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnR1cChDb250ZW50RGV0ZWN0b3IuY3JlYXRlTWVkaWFFbnJpY2hlcihjb25maWcsIHB1Ymxpc2hlciwgcGxheWxpc3QuY3VycmVudCgpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnVGhlIHJlcXVlc3RlZCB2aWRlbyBjYW5ub3QgYmUgZm91bmQ6ICcgKyBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihcbiAgICAgICAgICAgIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5uZXh0dXBBbm5vdW5jZWQsXG4gICAgICAgICAgICBhc3luYyAoZXZlbnQ6IEludGVybmFsUGxheWVyRXZlbnQ8TmV4dFVwQW5ub3VuY2VkUGF5bG9hZD4pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhc3NpZ24gdGhlIG1lZGlhRW5yaWNoZXIgZXZlbiB0aG91Z2ggdGhpcyBvbmUgd2lsbCBub3QgYmUgdXNlZCwgYnkgYXNzaWduaW5nIGl0IGl0IHdpbGwgYmUgY2xlYW5lZCB1cCB3aGVuIG5lZWRlZCFcbiAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZS5tZWRpYUVucmljaGVyID0gQ29udGVudERldGVjdG9yLmNyZWF0ZU1lZGlhRW5yaWNoZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZXIsXG4gICAgICAgICAgICAgICAgICAgIHBsYXllclN0YXRlLnBsYXlsaXN0LnBlZWsoKSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVkaXNwYXRjaCB0aGUgbmV4dHVwYW5ub3VuY2VkIGV2ZW50IGJ1dCB0aGlzIHRpbWUgcHVibGljbHkgd2l0aCB0aGUgcmVxdWlyZWQgZGF0YSFcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIucHVibGljUGxheWVyRXZlbnRzLm5leHR1cGFubm91bmNlZCwge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYUluZm86IChhd2FpdCBwbGF5ZXJTdGF0ZS5tZWRpYUVucmljaGVyLm1lZGlhSW5mbykubWFwVG9QdWJsaWNNZWRpYUluZm8oKSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFVwUGxheWxpc3RJdGVtOiBwbGF5bGlzdC5wZWVrKCksXG4gICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0R1cmF0aW9uOiBldmVudC5jb250ZW50LnJlbWFpbmluZ0R1cmF0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vICBMb2dpYyBiZWxvdyBpcyBmb3IgcmVsb2FkaW5nL3Jlc2V0dGluZyBwbGF5ZXJzXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgY29uc3QgcmVsb2FkSGFuZGxlcjogRnVuY3Rpb24gPSBhc3luYyAobmV3TWVkaWFFbnJpY2hlcjogTWVkaWFFbnJpY2hlciA9IG51bGwpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIHBsYXllclN0YXRlLndhc1BsYXlpbmcgPSBwYWwuaXNQbGF5aW5nKCk7XG4gICAgICAgICAgICBwbGF5ZXJTdGF0ZS5wb3NpdGlvbiA9IHBhbC5wbGF5SGVhZFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBhd2FpdCBzdGFydHVwKG5ld01lZGlhRW5yaWNoZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRoZSAnZmlyc3QnIHBsYXllciB3aWxsIHJlY2VpdmUgdGhpcyBldmVudCB0byBraWNrc3RhcnQgdGhlIHVwZGF0ZSBvZiBhIG5ldyBpZGVudGl0eSAmIHBsYXllciB0b2tlblxuICAgICAgICBwdWJsaXNoZXIuYWRkU3Vic2NyaWJlcihcbiAgICAgICAgICAgIFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5uZXdJZGVudGl0eVRva2VuUmVjZWl2ZWQsXG4gICAgICAgICAgICBhc3luYyAoZXZlbnQ6IEludGVybmFsUGxheWVyRXZlbnQ8TmV3SWRlbnRpdHlUb2tlblJlY2VpdmVkUGF5bG9hZD4pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5pZGVudGl0eVRva2VuID0gZXZlbnQuY29udGVudC5uZXdJZGVudGl0eVRva2VuO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbG9hZEhhbmRsZXIoXG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnREZXRlY3Rvci5jcmVhdGVNZWRpYUVucmljaGVyKHRoaXMuY29uZmlnLCBwdWJsaXNoZXIsIHBsYXllclN0YXRlLnBsYXlsaXN0LmN1cnJlbnQoKSksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdJZGVudGl0eSB0b2tlbiB1cGRhdGVkICYgZmlyc3QgcGxheWVyIHJlbG9hZGVkIScpO1xuICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5pZGVudGl0eVRva2VuVXBkYXRlZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFsbCBvdGhlciBwbGF5ZXJzIHdpbGwgcmVjZWl2ZSB0aGlzIGV2ZW50IGluc3RlYWQgdG8ganVzdCBmb3JjZSBhIHJlbG9hZCwgdGhlc2UgZXZlbnRzIGFyZSByZWNlaXZlZCBhZnRlciB0aGUgZmlyc3QgcGxheWVyIGhhcyBjb21wbGV0ZWQgaXRzIHRva2VuIHVwZGF0ZSFcbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoXG4gICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMuZm9yY2VSZWxvYWQsXG4gICAgICAgICAgICBhc3luYyAoZXZlbnQ6IEludGVybmFsUGxheWVyRXZlbnQ8Rm9yY2VSZWxvYWRQYXlsb2FkPikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmlkZW50aXR5VG9rZW4gPSBldmVudC5jb250ZW50Lm5ld0lkZW50aXR5VG9rZW47XG4gICAgICAgICAgICAgICAgLy8gV2hpbGUgdGhpcyBsb29rcyB0aGUgc2FtZSBhcyB0aGUgYWJvdmUgaGFuZGxlciwgbm90ZSB0aGF0IHRoaXMgaXMgYSBzZXBhcmF0ZSBvbmUgdG8gYWxsb3cgb25lIHBsYXllciB0byBmZXRjaCBhIG5ldyB2cnRQbGF5ZXJUb2tlbiBhbmQgYWxsIG90aGVyIHBsYXllcnMgdG8gdXNlIHRoZSBzYW1lIHRva2VuIVxuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCByZW1vdmUgYWxsIGV4dHJhIGNhbGxzIGZvciBuZXcgdG9rZW5zXG5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFsc28gdXNlZCB0byBwZXJmb3JtIGEgbGl2ZSBzdGFydG92ZXIgZm9yIGEgcHJvZ3JhbSBpbiB0aGUgbGl2ZXN0cmVhbS5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29udGVudC5wZXJmb3JtTGl2ZVN0YXJ0T3ZlciAmJiBldmVudC5jb250ZW50LnBlcmZvcm1MaXZlU3RhcnRPdmVyID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmlzTGl2ZVN0YXJ0T3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcuaXNMaXZlU3RhcnRPdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVsb2FkSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAgQ29udGVudERldGVjdG9yLmNyZWF0ZU1lZGlhRW5yaWNoZXIodGhpcy5jb25maWcsIHB1Ymxpc2hlciwgcGxheWVyU3RhdGUucGxheWxpc3QuY3VycmVudCgpKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0FkZGl0aW9uYWwgcGxheWVyIHRva2VuIHVwZGF0ZWQgYW5kIHBsYXllciByZWxvYWRlZCEnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gV2lsbCBzaW1wbHkgdW5sb2FkIHRoZSBwbGF5ZXIgYW5kIHJlc2V0IGl0cyBpZGVudGl0eSB0b2tlbi5cbiAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnVuTG9hZCwgYXN5bmMgKGV2ZW50OiBJbnRlcm5hbFBsYXllckV2ZW50PGFueT4pID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmlkZW50aXR5VG9rZW4gPSAnJztcbiAgICAgICAgICAgIHBhbC5zZXRTb3VyY2UoTWVkaWFJbmZvLmNyZWF0ZUR1bW15TWVkaWFJbmZvKCkpO1xuXG4gICAgICAgICAgICBwdWJsaXNoZXIucHVibGlzaChQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMucmVzZXQpO1xuICAgICAgICAgICAgcHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnNob3dFcnJvciwge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdGb3V0JyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW5sb2dnZW4gaXMgdmVyZWlzdCEnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyAgQmVsb3cgaXMgdGhlIHB1YmxpYyBBUEksIHRoZXNlIG1ldGhvZHMgYXJlIGVtcHR5IGhlcmUsIG9ubHkgc2VydmluZyBhcyBhIGhlbHBlciBmb3IgdGhlIFRTIGNvbXBpbGVyLlxuICAgIC8vICBUaGUgcmVhbCBmdW5jdGlvbmFsaXR5IGlzIGFkZGVkIGluIHRoZSBwbGF5ZXItYXBpLWRlY29yYXRvci50cyBmaWxlIVxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBwdWJsaWMgcGxheSgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGxheWVyIEFQSSBub3QgYXZhaWxhYmxlIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYXVzZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGxheWVyIEFQSSBub3QgYXZhaWxhYmxlIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGVQbGF5KCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNraXBBZCgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGxheWVyIEFQSSBub3QgYXZhaWxhYmxlIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGVDYXN0KCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHJld2luZFNlY29uZHMoc2Vjb25kc1RvUmV3aW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGxheWVyIEFQSSBub3QgYXZhaWxhYmxlIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGVNdXRlKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGZhc3RTZWVrKHNlY29uZHNGcm9tU3RhcnQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGxpdmVTdGFydE92ZXIoKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsYXllciBBUEkgbm90IGF2YWlsYWJsZSEnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9nZ2xlU3VidGl0bGVzKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvZ2dsZUZ1bGxzY3JlZW4oKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsYXllciBBUEkgbm90IGF2YWlsYWJsZSEnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd1RpdGxlKHNob3c6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGxheWVyIEFQSSBub3QgYXZhaWxhYmxlIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNhYmxlSW50ZXJmYWNlKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGVuYWJsZUludGVyZmFjZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGxheWVyIEFQSSBub3QgYXZhaWxhYmxlIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBuZXh0KCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHByZXZpb3VzKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGdvdG8oaW5kZXhPclZpZGVvSWQ6IG51bWJlciB8IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFRvUGxheWxpc3QobWVkaWFSZWZlcmVuY2U6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFF1YWxpdHkodGFyZ2V0UXVhbGl0eTogUXVhbGl0eSk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGxheWVyIEFQSSBub3QgYXZhaWxhYmxlIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsYXllciBBUEkgbm90IGF2YWlsYWJsZSEnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdGhyb3dFcnJvcihtZXNzYWdlOiBzdHJpbmcsIGNvbnRlbnQ6IGFueSA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGxheWVyIEFQSSBub3QgYXZhaWxhYmxlIScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQbGF5ZXIgQVBJIG5vdCBhdmFpbGFibGUhJyk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1haW5QbGF5ZXJTdGF0ZSB7XG4gICAgcGxheWxpc3Q6IFBsYXlsaXN0O1xuICAgIGlzRmlyc3RQbGF5bGlzdEl0ZW06IGJvb2xlYW47XG4gICAgbWVkaWFFbnJpY2hlcjogTWVkaWFFbnJpY2hlcjtcbiAgICBhbHJlYWR5SW5FcnJvcjogYm9vbGVhbjtcbiAgICB3YXNQbGF5aW5nOiBib29sZWFuO1xuICAgIHBvc2l0aW9uOiBudW1iZXI7XG59XG4iLCJleHBvcnQgY2xhc3MgQ29sb3JzIHtcbiAgICBwdWJsaWMgc3RhdGljIGdldENvbG9yKG5hbWU6IHN0cmluZyk6IFBsYXllckNvbG9yIHtcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlICdncmVlbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuR1JFRU47XG4gICAgICAgICAgICBjYXNlICdibHVlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5CTFVFO1xuICAgICAgICAgICAgY2FzZSAncmVkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5SRUQ7XG4gICAgICAgICAgICBjYXNlICd3aGl0ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuV0hJVEU7XG4gICAgICAgICAgICBjYXNlICdrZXRuZXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLktFVE5FVDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBXQVJOSU5HOiB1bmtub3duIGNvbG9yICcke25hbWV9JyBmb3VuZCBpbiBjb25maWcuIEZhbGxiYWNrIHRvIGRlZmF1bHQgY29sb3IhYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuR1JFRU47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIEdSRUVOOiBQbGF5ZXJDb2xvciA9IHtcbiAgICAgICAgbmFtZTogJ2dyZWVuJyxcbiAgICAgICAgc3R5bGVOYW1lOiAndnJ0LWdyZWVuJyxcbiAgICAgICAgdmFsdWU6ICcjNTNFQzY2JyxcbiAgICB9O1xuICAgIHB1YmxpYyBzdGF0aWMgQkxVRTogUGxheWVyQ29sb3IgPSB7XG4gICAgICAgIG5hbWU6ICdibHVlJyxcbiAgICAgICAgc3R5bGVOYW1lOiAndnJ0LWJsdWUnLFxuICAgICAgICB2YWx1ZTogJyMwMDk4Q0MnLFxuICAgIH07XG4gICAgcHVibGljIHN0YXRpYyBSRUQ6IFBsYXllckNvbG9yID0ge1xuICAgICAgICBuYW1lOiAncmVkJyxcbiAgICAgICAgc3R5bGVOYW1lOiAndnJ0LXJlZCcsXG4gICAgICAgIHZhbHVlOiAnI0JDMjgyMScsXG4gICAgfTtcbiAgICBwdWJsaWMgc3RhdGljIFdISVRFOiBQbGF5ZXJDb2xvciA9IHtcbiAgICAgICAgbmFtZTogJ3doaXRlJyxcbiAgICAgICAgc3R5bGVOYW1lOiAndnJ0LXdoaXRlJyxcbiAgICAgICAgdmFsdWU6ICcjRkZGRkZGJyxcbiAgICB9O1xuICAgIHB1YmxpYyBzdGF0aWMgS0VUTkVUOiBQbGF5ZXJDb2xvciA9IHtcbiAgICAgICAgbmFtZTogJ2tldG5ldCcsXG4gICAgICAgIHN0eWxlTmFtZTogJ3ZydC1rZXRuZXQnLFxuICAgICAgICB2YWx1ZTogJyNGNzIxNTQnLFxuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVyQ29sb3Ige1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzdHlsZU5hbWU6IHN0cmluZztcbiAgICB2YWx1ZTogc3RyaW5nO1xufVxuIiwiaW1wb3J0IHsgQWRDb25maWd1cmF0aW9uLCBDb25maWcsIFBMQVlFUl9NT0RFUywgUGxheWVyQ29uZmlndXJhdGlvbiwgVWlDb25maWd1cmF0aW9uIH0gZnJvbSAnLi9tb2RlbC9jb25maWcnO1xuaW1wb3J0IHsgRGlnaXRhbERhdGEgfSBmcm9tICcuL21vZGVsL2RpZ2l0YWwtZGF0YSc7XG5pbXBvcnQgeyBQdWJsaXNoZXIgfSBmcm9tICcuL3BsYXllci9wdWJsaXNoZXInO1xuaW1wb3J0IHsgUmVtb3RlVXRpbHMgfSBmcm9tICcuL3V0aWxzL3JlbW90ZS11dGlscyc7XG5pbXBvcnQgeyBWUlRQbGF5ZXIgfSBmcm9tICcuL3ZydC1wbGF5ZXInO1xuaW1wb3J0IHsgQ29udGVudERldGVjdG9yIH0gZnJvbSAnLi9sb2dpYy9jb250ZW50LWRldGVjdG9yJztcbmltcG9ydCB7IFRva2VuRmFjdG9yeSB9IGZyb20gJy4vbG9naWMvdG9rZW4tZmFjdG9yeSc7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4vbW9kZWwvdG9rZW4nO1xuaW1wb3J0IHsgUGxheWxpc3QgfSBmcm9tICcuL21vZGVsL3BsYXlsaXN0JztcbmltcG9ydCB7IEludGVybmFsUGxheWVyRXZlbnQgfSBmcm9tICcuL21vZGVsL2V2ZW50aW5nL2ludGVybmFsLXBsYXllci1ldmVudHMnO1xuaW1wb3J0IHsgUHJlc2V0cyB9IGZyb20gJy4vbW9kZWwvcHJlc2V0cyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJDcmVhdG9yIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHVibGljIHJlYWRvbmx5IHZlcnNpb246IHN0cmluZyA9IFZSVF9CVUlMRF9WRVJTSU9OO1xuICAgIHB1YmxpYyBwbGF5ZXJDb3VudDogbnVtYmVyID0gMDtcblxuICAgIHB1YmxpYyBnZXQ6IChcbiAgICAgICAgcGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgICAgIHBsYXllckNvbmZpZz86IFBsYXllckNvbmZpZ3VyYXRpb24sXG4gICAgICAgIGRpZ2l0YWxEYXRhPzogYW55LFxuICAgICAgICBhZENvbmZpZz86IGFueSxcbiAgICAgICAgdWlDb25maWc/OiBVaUNvbmZpZ3VyYXRpb24sXG4gICAgICAgIHBsYXllckNyZWF0aW9uU3VjY2VlZGVkQ2FsbGJhY2s/OiBGdW5jdGlvbixcbiAgICAgICAgcGxheWVyQ3JlYXRpb25GYWlsZWRDYWxsYmFjaz86IEZ1bmN0aW9uLFxuICAgICkgPT4gUHJvbWlzZTxWUlRQbGF5ZXI+O1xuICAgIHB1YmxpYyB1cGRhdGVJZGVudGl0eVRva2VuOiAobmV3SWRlbnRpdHlUb2tlbjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIHB1YmxpYyB1bmxvYWRQbGF5ZXJzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gICAgY29uc3RydWN0b3IoaXNQcm9kdWN0aW9uTW9kZTogYm9vbGVhbiwgY2RuVXJsOiBzdHJpbmcsIHRoZW9CYXNlVXJsOiBzdHJpbmcpIHtcbiAgICAgICAgLy9BbGwgdGhlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZGVmaW5lZCBpbiB0aGUgY29uc3RydWN0b3IgYXJlIHNldHVwU291cmNlcyBzbyB0byBwcmV2ZW50IGludGVybmFsIHN0YXRlIGxlYWtpbmchXG4gICAgICAgIGNvbnN0IHBsYXllcnM6IHtcbiAgICAgICAgICAgIHBsYXllckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgcGxheWVySW5zdGFuY2U6IFZSVFBsYXllcjtcbiAgICAgICAgICAgIHBsYXllclB1Ymxpc2hlcjogUHVibGlzaGVyO1xuICAgICAgICB9W10gPSBbXTtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxNYXA6IFdlYWtNYXA8b2JqZWN0LCBhbnk+ID0gbmV3IFdlYWtNYXAoKTtcblxuICAgICAgICB0aGlzLmdldCA9IChcbiAgICAgICAgICAgIHBsYXllckVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgcGxheWVyQ29uZmlnPzogUGxheWVyQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIGRpZ2l0YWxEYXRhPzogYW55LFxuICAgICAgICAgICAgYWRDb25maWc/OiBhbnksXG4gICAgICAgICAgICB1aUNvbmZpZz86IFVpQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIHBsYXllckNyZWF0ZWRDYWxsYmFjaz86IEZ1bmN0aW9uLFxuICAgICAgICAgICAgcGxheWVyQ3JlYXRpb25GYWlsZWRDYWxsYmFjaz86IEZ1bmN0aW9uLFxuICAgICAgICApOiBQcm9taXNlPFZSVFBsYXllcj4gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGdldFBsYXllcihcbiAgICAgICAgICAgICAgICBwbGF5ZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgIHBsYXllckNvbmZpZyxcbiAgICAgICAgICAgICAgICBkaWdpdGFsRGF0YSxcbiAgICAgICAgICAgICAgICBhZENvbmZpZyxcbiAgICAgICAgICAgICAgICB1aUNvbmZpZyxcbiAgICAgICAgICAgICAgICBwbGF5ZXJDcmVhdGVkQ2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgcGxheWVyQ3JlYXRpb25GYWlsZWRDYWxsYmFjayxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy51cGRhdGVJZGVudGl0eVRva2VuID0gYXN5bmMgKG5ld0lkZW50aXR5VG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICAgICAgaWYgKFRva2VuRmFjdG9yeS5sYXN0SWRlbnRpdHlUb2tlbiA9PT0gbmV3SWRlbnRpdHlUb2tlbikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ05ldyBpZGVudGl0eSB0b2tlbiBtYXRjaGVzIHByZXZpb3VzIHRva2luZywgdXBkYXRlIHNraXBwZWQhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQ29uZmlnLkRFRkFVTFRTLmlkZW50aXR5VG9rZW4gPSBuZXdJZGVudGl0eVRva2VuO1xuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdDbGVhcmluZyB0b2tlbiBhbmQgcmVsb2FkaW5nIHBsYXllcnMuLi4nKTtcbiAgICAgICAgICAgIFRva2VuRmFjdG9yeS5jbGVhclRva2VuKCk7XG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItZm9yLW9mXG4gICAgICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgcGxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckVudGl0aWVzID0gcGxheWVyc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdSZWxvYWRpbmcgaW5pdGlhbCBwbGF5ZXIuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyRW50aXRpZXMucGxheWVyUHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLm5ld0lkZW50aXR5VG9rZW5SZWNlaXZlZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SWRlbnRpdHlUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRW50aXRpZXMucGxheWVyUHVibGlzaGVyLmFkZFN1YnNjcmliZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLmlkZW50aXR5VG9rZW5VcGRhdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0luaXRpYWwgcGxheWVyIGlkZW50aXR5IHRva2VuIHVwZGF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdSZWxvYWRpbmcgb3RoZXIgcGxheWVyLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckVudGl0aWVzLnBsYXllclB1Ymxpc2hlci5wdWJsaXNoKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5mb3JjZVJlbG9hZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SWRlbnRpdHlUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudW5sb2FkUGxheWVycyA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgIENvbmZpZy5ERUZBVUxUUy5pZGVudGl0eVRva2VuID0gJyc7XG4gICAgICAgICAgICBUb2tlbkZhY3RvcnkuY2xlYXJUb2tlbigpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwbGF5ZXJFbnRpdGllcyBvZiBwbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyRW50aXRpZXMucGxheWVyUHVibGlzaGVyLnB1Ymxpc2goUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLnVuTG9hZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZ2V0UGxheWVyOiBGdW5jdGlvbiA9IChcbiAgICAgICAgICAgIHBsYXllckVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgcGxheWVyQ29uZmlnPzogUGxheWVyQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIGRpZ2l0YWxEYXRhPzogYW55LFxuICAgICAgICAgICAgYWRDb25maWc/OiBhbnksXG4gICAgICAgICAgICB1aUNvbmZpZz86IFVpQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgIHBsYXllckNyZWF0ZWRDYWxsYmFjaz86IEZ1bmN0aW9uLFxuICAgICAgICAgICAgcGxheWVyQ3JlYXRpb25GYWlsZWRDYWxsYmFjaz86IEZ1bmN0aW9uLFxuICAgICAgICApOiBQcm9taXNlPFZSVFBsYXllcj4gPT4ge1xuICAgICAgICAgICAgaWYgKCFwbGF5ZXJFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZ2V0IG1ldGhvZCBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCB3aXRoIGEgcGxheWVyIGVsZW1lbnQhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPVxuICAgICAgICAgICAgICAgIGludGVybmFsTWFwLmdldChwbGF5ZXJFbGVtZW50KSB8fFxuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlOiBGdW5jdGlvbiwgcmVqZWN0OiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvL1NldCBhbiBpZCBvbiB0aGUgcm9vdCBlbGVtZW50IGlmIHRoZXJlIGlzIG5vbmUhXG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGF5ZXJJZDogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtaWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVySWQgPSBwbGF5ZXJFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRmV0Y2hlZCBpZDogJyArIHBsYXllcklkICsgJyBmcm9tIHBsYXllciBjb250YWluZXIgZWxlbWVudCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVySWQgPSB0aGlzLmdldE5leHRJZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnR2VuZXJhdGVkIG5ldyBpZDogJyArIHBsYXllcklkICsgJyBmb3IgbmV3IHBsYXllcicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgcGxheWVySWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1snICsgcGxheWVySWQgKyAnXScgKyAnQ3JlYXRpbmcgbmV3IHBsYXllciB3aXRoIGVsZW1lbnQ6Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcocGxheWVyRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUGxheWVyKHBsYXllckVsZW1lbnQsIHBsYXllckNvbmZpZywgZGlnaXRhbERhdGEsIGFkQ29uZmlnLCB1aUNvbmZpZylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChwbGF5ZXJJbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vV2hlbiBhIHlvdXR1YmUgdmlkZW8gaXMgbG9hZGVkIHRoZSBvcmlnaW5hbCBkaXYgaXMgcmVwbGFjZWQgYnkgYW4gaWZyYW1lLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vV2UgbmVlZCB0byB1cGRhdGUgdGhpcyBzbyB3ZSBhZGQgdGhlIGNvcnJlY3QgZWxlbWVudCB0byB0aGUgbWFwIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGxheWVySWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9XZSBhbHNvIG9ubHkgd2FudCB0byBhZGQgdGhlIHRlbXBsYXRlIGxpc3RlbmVycyB0byBvdXIgVUksIGEgWVQgdmlkZW8gcGxheXMgd2l0aCBpdHMgb3duIFVJIHNvIG5vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIGFkZCBsaXN0ZW5lcnMhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRUZW1wbGF0ZUxpc3RlbmVycyhwbGF5ZXJFbGVtZW50LCBwbGF5ZXJJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnWycgKyBwbGF5ZXJJZCArICddJyArICdQbGF5ZXIgY3JlYXRlZCBhbmQgcmVhZHkgdG8gdXNlIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJDcmVhdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyQ3JlYXRlZENhbGxiYWNrKHBsYXllckluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwbGF5ZXJJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChwbGF5ZXJFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJDcmVhdGlvbkZhaWxlZENhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGludGVybmFsTWFwLnNldChwbGF5ZXJFbGVtZW50LCBwcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBmaXJzdFBsYXllcjogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIGxldCBpbml0aWFsVG9rZW5BY3F1aXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZVBsYXllciA9IChcbiAgICAgICAgICAgIHBsYXllckVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgcGxheWVyQ29uZmlnOiBQbGF5ZXJDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgZGlnaXRhbERhdGFzOiBEaWdpdGFsRGF0YSB8IERpZ2l0YWxEYXRhW10sXG4gICAgICAgICAgICBhZENvbmZpZzogQWRDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgdWlDb25maWc6IFVpQ29uZmlndXJhdGlvbixcbiAgICAgICAgKTogUHJvbWlzZTxWUlRQbGF5ZXI+ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVySWQgPSBwbGF5ZXJFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHVpQ29uZmlnID0gUHJlc2V0cy5tZXJnZVdpdGhDb25maWcoUHJlc2V0cy5nZXRQcmVzZXQocGxheWVyQ29uZmlnLnByZXNldCksIHVpQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVibGlzaGVyOiBQdWJsaXNoZXIgPSBuZXcgUHVibGlzaGVyKHVpQ29uZmlnLnVpTGFuZ3VhZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZVBsYXllckluc3RhbmNlOiBGdW5jdGlvbiA9IGFzeW5jICgpOiBQcm9taXNlPFZSVFBsYXllcj4gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSHRtbENvbnRyb2xDb250YWluZXIocGxheWVyRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBsb2FkSHRtbFRlbXBsYXRlcyhwbGF5ZXJFbGVtZW50LCB1aUNvbmZpZy5za2luKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJDb25maWcuZXZlbnRNYXBwaW5ncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50TWFwcGluZyBvZiBwbGF5ZXJDb25maWcuZXZlbnRNYXBwaW5ncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLmFkZFN1YnNjcmliZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLmRldGVjdFB1YmxpY0V2ZW50VHlwZUZyb21TdHJpbmcoZXZlbnRNYXBwaW5nLmV2ZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudE1hcHBpbmcuaGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJBbHJlYWR5QWRkZWRHdWFyZDogRnVuY3Rpb24gPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckVsZW06IEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHlyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJbnN0YW5jZTogVlJUUGxheWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyUHVibGlzaGVyOiBQdWJsaXNoZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1bXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOiBib29sZWFuID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdXcmFwcGVyID0gcGx5cnMuZmluZCgod3JhcHBlckl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cmFwcGVySXRlbS5wbGF5ZXJFbGVtZW50LmlkID09PSBwbGF5ZXJFbGVtLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXJJdGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhbWF0Y2hpbmdXcmFwcGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE86IFRoZSBvbmUgdGltZSBzdWJzY3JpYmVyIHdpbGwgbGluZ2VyIGlmIHRoZSBwbGF5ZXIgdGhyb3dzIGEgY3JpdGljYWwgZXJyb3IhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLmFkZE9uZVRpbWVTdWJzY3JpYmVyKFB1Ymxpc2hlci5pbnRlcm5hbFBsYXllckV2ZW50cy5yZWFkeSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyQWxyZWFkeUFkZGVkR3VhcmQocGxheWVyRWxlbWVudCwgcGxheWVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJzLnB1c2goeyBwbGF5ZXJFbGVtZW50LCBwbGF5ZXJJbnN0YW5jZTogcGxheWVyLCBwbGF5ZXJQdWJsaXNoZXI6IHB1Ymxpc2hlciB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzKHBsYXllcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLmFkZE9uZVRpbWVTdWJzY3JpYmVyKFB1Ymxpc2hlci5wdWJsaWNQbGF5ZXJFdmVudHMuZXJyb3IsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllckFscmVhZHlBZGRlZEd1YXJkKHBsYXllckVsZW1lbnQsIHBsYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVycy5wdXNoKHsgcGxheWVyRWxlbWVudCwgcGxheWVySW5zdGFuY2U6IHBsYXllciwgcGxheWVyUHVibGlzaGVyOiBwdWJsaXNoZXIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyhwbGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5hZGRPbmVUaW1lU3Vic2NyaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHVibGlzaGVyLmludGVybmFsUGxheWVyRXZlbnRzLmRlc3Ryb3ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChldmVudDogSW50ZXJuYWxQbGF5ZXJFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJzLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJzLmluZGV4T2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcnMuZmluZCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucGxheWVyRWxlbWVudCA9PT0gcGxheWVyRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWxpc3Q6IFBsYXlsaXN0ID0gbmV3IFBsYXlsaXN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJDb25maWcubWVkaWFSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLm1lZGlhUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHBsYXllckNvbmZpZy5tZWRpYVJlZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLm1lZGlhUmVmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWdpdGFsRGF0YXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllcjogVlJUUGxheWVyID0gbmV3IFZSVFBsYXllcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdGlvbk1vZGU6IGlzUHJvZHVjdGlvbk1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJFbGVtZW50OiBwbGF5ZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeUxvY2F0aW9uOiB0aGVvQmFzZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0b3JVcmw6IHBsYXllckNvbmZpZy5hZ2dyZWdhdG9yVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50Q29kZTogcGxheWVyQ29uZmlnLmNsaWVudENvZGUgPyBwbGF5ZXJDb25maWcuY2xpZW50Q29kZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eVRva2VuOiBwbGF5ZXJDb25maWcuaWRlbnRpdHlUb2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLmlkZW50aXR5VG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvbmZpZy5ERUZBVUxUUy5pZGVudGl0eVRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd05vRXJyb3JzOiBwbGF5ZXJDb25maWcuY3VzdG9tRXJyb3JIYW5kbGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWRNb2RlOiBwbGF5ZXJDb25maWcucHJlbG9hZE1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBsYXllckNvbmZpZy5wcmVsb2FkTW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQ29uZmlnLkRFRkFVTFRTLnByZWxvYWRNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJyU3RyYXRlZ3k6IHBsYXllckNvbmZpZy5hYnJTdHJhdGVneVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLmFiclN0cmF0ZWd5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb25maWcuREVGQVVMVFMuYWJyU3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJNb2RlOiBwbGF5ZXJDb25maWcucGxheWVyTW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKHBsYXllckNvbmZpZy5wbGF5ZXJNb2RlIGFzIFBMQVlFUl9NT0RFUylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvbmZpZy5ERUZBVUxUUy5wbGF5ZXJNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IHBsYXllckNvbmZpZy5hc3BlY3RSYXRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLmFzcGVjdFJhdGlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb25maWcuREVGQVVMVFMuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaW1JZDogcGxheWVyQ29uZmlnLmNpbUlkID8gcGxheWVyQ29uZmlnLmNpbUlkIDogQ29uZmlnLkRFRkFVTFRTLmNpbUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFVwRGVsYXk6IHBsYXllckNvbmZpZy5uZXh0VXBEZWxheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLm5leHRVcERlbGF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb25maWcuREVGQVVMVFMubmV4dFVwRGVsYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VXBBdXRvUGxheTogcGxheWVyQ29uZmlnLm5leHRVcEF1dG9QbGF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwbGF5ZXJDb25maWcubmV4dFVwQXV0b1BsYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvbmZpZy5ERUZBVUxUUy5uZXh0VXBBdXRvUGxheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcmluZ01vZGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyQ29uZmlnLmF1dGhvcmluZ01vZGUgIT09IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLmF1dGhvcmluZ01vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb25maWcuREVGQVVMVFMuYXV0aG9yaW5nTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TXV0ZWRPdmVycmlkZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJDb25maWcuc3RhcnRNdXRlZE92ZXJyaWRlICE9PSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBsYXllckNvbmZpZy5zdGFydE11dGVkT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb25maWcuREVGQVVMVFMuc3RhcnRNdXRlZE92ZXJyaWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyQ29uZmlnLmF1dG9wbGF5ICE9PSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBsYXllckNvbmZpZy5hdXRvcGxheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvbmZpZy5ERUZBVUxUUy5hdXRvcGxheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuYWx5dGljc0Fzc2V0TmFtZU92ZXJyaWRlOiBwbGF5ZXJDb25maWcuYW5hbHl0aWNzQXNzZXROYW1lT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBsYXllckNvbmZpZy5hbmFseXRpY3NBc3NldE5hbWVPdmVycmlkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTGl2ZVN0YXJ0T3ZlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJDb25maWcuaXNMaXZlU3RhcnRPdmVyICE9PSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBsYXllckNvbmZpZy5pc0xpdmVTdGFydE92ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb25maWcuREVGQVVMVFMuaXNMaXZlU3RhcnRPdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRPdmVyQmVnaW46IHBsYXllckNvbmZpZy5zdGFydE92ZXJCZWdpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLnN0YXJ0T3ZlckJlZ2luXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb25maWcuREVGQVVMVFMuc3RhcnRPdmVyQmVnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydE92ZXJFbmQ6IHBsYXllckNvbmZpZy5zdGFydE92ZXJFbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBsYXllckNvbmZpZy5zdGFydE92ZXJFbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvbmZpZy5ERUZBVUxUUy5zdGFydE92ZXJFbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aUNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5bGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvL0lmIHRoZSBUb2tlbiBpcyBleHBpcmVkIG9yIGNvcnJ1cHRlZCwgY2xlYXIgaXQgYW5kIHJlc2V0IHRoZSBwbGF5ZXIgY3JlYXRpb24gc3RhdGUgdHJhY2tpbmcuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbjogVG9rZW4gPSBUb2tlbkZhY3RvcnkubG9hZFN0b3JlZFRva2VuKHBsYXllckNvbmZpZy5hZ2dyZWdhdG9yVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgdGhlIHRva2VuIGlzIG51bGwsIGl0IGhhcyBub3QgYmVlbiBmb3VuZCBhbmQgbm8gYWN0aW9uIGlzIG5lZWRlZCAoaWYgd2Ugd2VyZSB0byByZXNldCB0aGUgc3RhdGUgZm9yIGEgbnVsbCB0b2tlbiwgdGhpbmdzIGNvdWxkIGJyZWFrKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuICYmICF0b2tlbi5oYXNOb3RFeHBpcmVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2tlbkZhY3RvcnkuY2xlYXJUb2tlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UGxheWVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVG9rZW5BY3F1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUb2tlbkZhY3RvcnkuY2xlYXJUb2tlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RQbGF5ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFRva2VuQWNxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UmVmZXJlbmNlOiBzdHJpbmcgPSBwbGF5ZXJDb25maWcubWVkaWFSZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGxheWVyQ29uZmlnLm1lZGlhUmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBsYXllckNvbmZpZy5tZWRpYVJlZmVyZW5jZXMgJiYgcGxheWVyQ29uZmlnLm1lZGlhUmVmZXJlbmNlcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBsYXllckNvbmZpZy5tZWRpYVJlZmVyZW5jZXNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdFJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdbJyArIHBsYXllcklkICsgJ10nICsgJ0Egc2luZ2xlIG1lZGlhUmVmZXJlbmNlIG9yIG1lZGlhUmVmZXJlbmNlcyBhcnJheSBpcyByZXF1aXJlZCEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZydENvbnRlbnQ6IGJvb2xlYW4gPSBDb250ZW50RGV0ZWN0b3IuaXNWcnRNZWRpYVJlZmVyZW5jZShmaXJzdFJlZmVyZW5jZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0UGxheWVyICYmIGlzVnJ0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RQbGF5ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnWycgKyBwbGF5ZXJJZCArICddJyArICdJbml0aWF0aW5nIGZpcnN0IHBsYXllciBhbmQgZmV0Y2hpbmcgdG9rZW4uLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlci5hZGRPbmVUaW1lU3Vic2NyaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQdWJsaXNoZXIuaW50ZXJuYWxQbGF5ZXJFdmVudHMudG9rZW5BY3F1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXZlbnQ6IEludGVybmFsUGxheWVyRXZlbnQ8YW55PikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdbJyArIHBsYXllcklkICsgJ10nICsgJ1Rva2VuIGFjcXVpcmVkIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVG9rZW5BY3F1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGNyZWF0ZVBsYXllckluc3RhbmNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxUb2tlbkFjcXVpcmVkIHx8ICFpc1ZydENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnWycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVySWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ10nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb3QgVlJUIGNvbnRlbnQgb3IgdG9rZW4gYWxyZWFkeSBhY3F1aXJlZCBmb3Igbm9uIGZpcnN0IHBsYXllciwgY3JlYXRpbmcgaW5zdGFuY2UuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjcmVhdGVQbGF5ZXJJbnN0YW5jZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5JbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnWycgKyBwbGF5ZXJJZCArICddJyArICdOb24gZmlyc3QgcGxheWVyIHdhaXRpbmcgZm9yIHRva2VuIHRvIGJlIHNldC4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFRva2VuQWNxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1snICsgcGxheWVySWQgKyAnXScgKyAnRG9uZSB3YWl0aW5nIGNyZWF0aW5nIGluc3RhbmNlLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRva2VuSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjcmVhdGVQbGF5ZXJJbnN0YW5jZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0Nhbm5vdCBjcmVhdGUgcGxheWVyOiAnICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoJ0Nhbm5vdCBjcmVhdGUgcGxheWVyOiAnICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGFkZEh0bWxDb250cm9sQ29udGFpbmVyOiBGdW5jdGlvbiA9IChwbGF5ZXJFbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udHJvbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY29udHJvbENvbnRhaW5lci5jbGFzc05hbWUgPSAncGxheWVyLWNvbnRyb2xzLWNvbnRhaW5lcic7XG4gICAgICAgICAgICBjb250cm9sQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIHBsYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udHJvbENvbnRhaW5lcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYWRkRXZlbnRMaXN0ZW5lclRvVGVtcGxhdGVFbGVtZW50OiBGdW5jdGlvbiA9IChcbiAgICAgICAgICAgIHBsYXllckluc3RhbmNlOiBWUlRQbGF5ZXIsXG4gICAgICAgICAgICBwbGF5ZXJFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIGVsZW1lbnRTZWxlY3Rvcjogc3RyaW5nLFxuICAgICAgICAgICAgaGFuZGxlck5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgIGhhbmRsZXJQYXJhbT86IGFueSxcbiAgICAgICAgKTogdm9pZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IHBsYXllckVsZW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50U2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlclBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJJbnN0YW5jZVtoYW5kbGVyTmFtZV0oaGFuZGxlclBhcmFtKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckluc3RhbmNlW2hhbmRsZXJOYW1lXSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbG9hZEh0bWxUZW1wbGF0ZXM6IEZ1bmN0aW9uID0gYXN5bmMgKHBsYXllckVsZW1lbnQ6IEhUTUxFbGVtZW50LCB0ZW1wbGF0ZU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJJZCA9IHBsYXllckVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvdmVybGF5UmVwbHkgPSBhd2FpdCBSZW1vdGVVdGlscy5kb0dldChcbiAgICAgICAgICAgICAgICAgICAgY2RuVXJsICsgJ3RlbXBsYXRlcy8nICsgdGVtcGxhdGVOYW1lICsgJy9vdmVybGF5Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgW10sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sc1JlcGx5ID0gYXdhaXQgUmVtb3RlVXRpbHMuZG9HZXQoXG4gICAgICAgICAgICAgICAgICAgIGNkblVybCArICd0ZW1wbGF0ZXMvJyArIHRlbXBsYXRlTmFtZSArICcvY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBbXSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygncGxheWVyOiAnICsgcGxheWVySWQpO1xuXG4gICAgICAgICAgICAgICAgcGxheWVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0aGVvcGxheWVyLWNvbnRhaW5lcicsICd2aWRlby1qcycsICd0aGVvcGxheWVyLXNraW4nKTtcblxuICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQuaW5uZXJIVE1MICs9IG92ZXJsYXlSZXBseS5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICBwbGF5ZXJFbGVtZW50LmNoaWxkcmVuWzBdLmlubmVySFRNTCA9IGNvbnRyb2xzUmVwbHkucmVzcG9uc2U7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3BlbGVyIHNraW4ga2FuIG5pZXQgZ2VsYWRlbiB3b3JkZW4hICgnICsgZXJyb3IgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGJpbmRUZW1wbGF0ZUxpc3RlbmVyczogRnVuY3Rpb24gPSAocGxheWVyRWxlbWVudDogSFRNTEVsZW1lbnQsIHBsYXllckluc3RhbmNlOiBWUlRQbGF5ZXIpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJUb1RlbXBsYXRlRWxlbWVudChwbGF5ZXJJbnN0YW5jZSwgcGxheWVyRWxlbWVudCwgJy5wbGF5ZXItb3ZlcmxheS1jYXN0JywgJ3RvZ2dsZUNhc3QnKTtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJUb1RlbXBsYXRlRWxlbWVudChwbGF5ZXJJbnN0YW5jZSwgcGxheWVyRWxlbWVudCwgJy5wbGF5ZXItb3ZlcmxheS1haXJwbGF5JywgJ3RvZ2dsZUNhc3QnKTtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJUb1RlbXBsYXRlRWxlbWVudChwbGF5ZXJJbnN0YW5jZSwgcGxheWVyRWxlbWVudCwgJy5wbGF5ZXItb3ZlcmxheS1za2lwJywgJ3NraXBBZCcpO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lclRvVGVtcGxhdGVFbGVtZW50KHBsYXllckluc3RhbmNlLCBwbGF5ZXJFbGVtZW50LCAnLnBsYXllci11cC1uZXh0LWNvbnRhaW5lcicsICduZXh0Jyk7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyVG9UZW1wbGF0ZUVsZW1lbnQocGxheWVySW5zdGFuY2UsIHBsYXllckVsZW1lbnQsICcucGxheWVyLW92ZXJsYXktYnRuLXBsYXknLCAncGxheScpO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lclRvVGVtcGxhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIHBsYXllckluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgJy5wbGF5ZXItb3ZlcmxheS1idG4tbW9iaWxlLXBsYXktdG9nZ2xlJyxcbiAgICAgICAgICAgICAgICAndG9nZ2xlUGxheScsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyVG9UZW1wbGF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgcGxheWVySW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgcGxheWVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICAnLnBsYXllci1jb250cm9scy1wbGF5LXBhdXNlJyxcbiAgICAgICAgICAgICAgICAndG9nZ2xlUGxheScsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lclRvVGVtcGxhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIHBsYXllckluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgJy5wbGF5ZXItY29udHJvbHMtZ29iYWNrJyxcbiAgICAgICAgICAgICAgICAncmV3aW5kU2Vjb25kcycsXG4gICAgICAgICAgICAgICAgMTAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lclRvVGVtcGxhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIHBsYXllckluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgJy5wbGF5ZXItY29udHJvbHMtZm9yd2FyZCcsXG4gICAgICAgICAgICAgICAgJ3Jld2luZFNlY29uZHMnLFxuICAgICAgICAgICAgICAgIC0xMCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyVG9UZW1wbGF0ZUVsZW1lbnQocGxheWVySW5zdGFuY2UsIHBsYXllckVsZW1lbnQsICcucGxheWVyLWNvbnRyb2xzLW11dGUnLCAndG9nZ2xlTXV0ZScpO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lclRvVGVtcGxhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIHBsYXllckluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgJy5wbGF5ZXItY29udHJvbHMtc3RhcnRvdmVyJyxcbiAgICAgICAgICAgICAgICAnbGl2ZVN0YXJ0T3ZlcicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lclRvVGVtcGxhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIHBsYXllckluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHBsYXllckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgJy5wbGF5ZXItY29udHJvbHMtc3VidGl0bGVzJyxcbiAgICAgICAgICAgICAgICAndG9nZ2xlU3VidGl0bGVzJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyVG9UZW1wbGF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgcGxheWVySW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgcGxheWVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICAnLnBsYXllci1jb250cm9scy1mdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICAgICAndG9nZ2xlRnVsbHNjcmVlbicsXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROZXh0SWQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAndnJ0cGxheWVyLWlkLScgKyB0aGlzLnBsYXllckNvdW50Kys7XG4gICAgfTtcbn1cbiIsImltcG9ydCB7IEFkb2JlQW5hbHl0aWNzU2VydmljZSB9IGZyb20gJy4vbG9naWMvYW5hbHl0aWNzL2Fkb2JlLWFuYWx5dGljcy1zZXJ2aWNlJztcbmltcG9ydCB7IENpbUFuYWx5dGljc1NlcnZpY2UgfSBmcm9tICcuL2xvZ2ljL2FuYWx5dGljcy9jaW0tYW5hbHl0aWNzLXNlcnZpY2UnO1xuaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi9sb2dpYy9lcnJvci1oYW5kbGVyJztcbmltcG9ydCB7IFBsYXllckNyZWF0b3IgfSBmcm9tICcuL3BsYXllci1jcmVhdG9yJztcbmltcG9ydCB7IEJyb3dzZXJVdGlscyB9IGZyb20gJy4vdXRpbHMvYnJvd3Nlci11dGlscyc7XG5pbXBvcnQgeyBDYXBhYmlsaXRpZXMgfSBmcm9tICcuL3V0aWxzL2NhcGFiaWxpdGllcyc7XG5cbmV4cG9ydCBjbGFzcyBCb290c3RyYXBwZXIge1xuICAgIHByaXZhdGUgY2RuVXJsOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSB3aW5kb3c6IGFueSA9IHdpbmRvdztcbiAgICBwcml2YXRlIGlzUHJvZHVjdGlvbk1vZGUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdTdGFydGluZyBwbGF5ZXIgYm9vdHN0cmFwLi4uJyk7XG5cbiAgICAgICAgQnJvd3NlclV0aWxzLmxvYWRQb2x5ZmlsbHMoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jZG5VcmwgPSBCcm93c2VyVXRpbHMuZ2V0Q2RuVXJsKCk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdQbGF5ZXIgQ0ROIFVSTDogJyArIHRoaXMuY2RuVXJsKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBCcm93c2VyVXRpbHMubG9hZExpYnJhcnkoXG4gICAgICAgICAgICAgICAgICAgICdodHRwczovL2Jyb3dzZXIuc2VudHJ5LWNkbi5jb20vNS4xNy4wL2J1bmRsZS5taW4uanMnLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyaXR5OiAnc2hhMzg0LWxvd0JGQzZZVGt2TUlXUE9ScjcrVEVSbkNrWmRvNWFiMDBvSDVOa0ZMZVFVQW1CVExHd0pwRmpGNmRqdXhKLzUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vUHJldmVudCBhZGJsb2NrZXJzIGZyb20gYnJlYWtpbmcgdGhlIHBsYXllclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53aW5kb3cuU2VudHJ5ICYmIHByb2Nlc3MuZW52LkxBQkVMICE9PSAnTG9jYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2luZG93LlNlbnRyeS5pbml0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzbjogJ2h0dHBzOi8vYTQ5Nzg3NTM3YmM3NGM1N2JlZTU5ODJkZTI1N2NkZjhAbzE0MDU5MS5pbmdlc3Quc2VudHJ5LmlvLzE1MzQ1NTEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlUmF0ZTogMC4xLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52LkxBQkVMLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsSGFuZGxlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9udW5oYW5kbGVkcmVqZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRnJvbSBzZW50cnkgZG9jc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlRXJyb3JzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcC5HTE9CQUxTJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3JpZ2luYWxDcmVhdGVOb3RpZmljYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYW52YXMuY29udGVudERvY3VtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnamlnc2F3IGlzIG5vdCBkZWZpbmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29tYm9TZWFyY2ggaXMgbm90IGRlZmluZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdodHRwOi8vbG9hZGluZy5yZXRyeS53aWRkaXQuY29tLycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2F0b21pY0ZpbmRDbG9zZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZiX3hkX2ZyYWdtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm1pX1NhZmVBZGRPbmxvYWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdFQkNhbGxCYWNrTWVzc2FnZVJlY2VpdmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29uZHVpdFBhZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRnJvbSBzZW50cnkgZG9jc1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhY2tsaXN0VXJsczogWy9leHRlbnNpb25zXFwvL2ksIC9eY2hyb21lOlxcL1xcLy9pXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlbGlzdFVybHM6IFsvKG1lZGlhcGxheWVyXFwvanNcXC9tYWluKSsvZ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVTZW5kKGV2ZW50OiBhbnksIGhpbnQ6IGFueSk6IGFueSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQub3JpZ2luYWxFeGNlcHRpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGludC5vcmlnaW5hbEV4Y2VwdGlvbi5zdGFjayAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50Lm9yaWdpbmFsRXhjZXB0aW9uLnN0YWNrLnNlYXJjaCgnbWVkaWFwbGF5ZXIvanMvbWFpbicpID4gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vTG9hZCBhbGwgbGlicyAnY29uY3VycmVudGx5J1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgQnJvd3NlclV0aWxzLmxvYWRDU1ModGhpcy5jZG5VcmwgKyAnY3NzL3BsYXllci5jc3MnKSxcbiAgICAgICAgICAgICAgICAgICAgQnJvd3NlclV0aWxzLmxvYWRDU1ModGhpcy5jZG5VcmwgKyAndGhlby91aS5jc3MnKSxcbiAgICAgICAgICAgICAgICAgICAgQnJvd3NlclV0aWxzLmxvYWRMaWJyYXJ5KHRoaXMuY2RuVXJsICsgJ3RoZW8vVEhFT3BsYXllci5qcycsIHt9KSxcbiAgICAgICAgICAgICAgICAgICAgQnJvd3NlclV0aWxzLmxvYWRMaWJyYXJ5KHRoaXMuY2RuVXJsICsgJ2pzL2ZvY3VzL2ZvY3VzLXZpc2libGUuanMnLCB7fSksXG4gICAgICAgICAgICAgICAgICAgIEJyb3dzZXJVdGlscy5sb2FkTGlicmFyaWVzU2VxdWVudGlhbChbXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNkblVybCArICdqcy9lbGVtZW50LXF1ZXJpZXMvUmVzaXplU2Vuc29yLmpzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2RuVXJsICsgJ2pzL2VsZW1lbnQtcXVlcmllcy9FbGVtZW50UXVlcmllcy5qcycsXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBCcm93c2VyVXRpbHMubG9hZExpYnJhcmllc1NlcXVlbnRpYWwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jZG5VcmwgKyAnanMvdGlwcHkvcG9wcGVyLm1pbi5qcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNkblVybCArICdqcy90aXBweS9pbmRleC5hbGwubWluLmpzJyxcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIEJyb3dzZXJVdGlscy5sb2FkTGlicmFyeU9uQ29uZGl0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2N2L2pzL3NlbmRlci92MS9jYXN0X3NlbmRlci5qcz9sb2FkQ2FzdEZyYW1ld29yaz0xJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIENhcGFiaWxpdGllcy5jYW5DaHJvbWVjYXN0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBCcm93c2VyVXRpbHMubG9hZExpYnJhcnkoJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGknLCB7fSwgdHJ1ZSwgJ29uWW91VHViZUlmcmFtZUFQSVJlYWR5JyksXG4gICAgICAgICAgICAgICAgICAgIEJyb3dzZXJVdGlscy5sb2FkTGlicmFyeSgnaHR0cHM6Ly9pbWFzZGsuZ29vZ2xlYXBpcy5jb20vanMvc2RrbG9hZGVyL2ltYTMuanMnLCB7fSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdGlvbk1vZGVDaGVjaygpLFxuICAgICAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICAgICAgLy9Jbml0IHRoZSBDU1MgRWxlbWVudCBRdWVyaWVzIGxpYiFcbiAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy5FbGVtZW50UXVlcmllcy5saXN0ZW4oKTtcbiAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy5FbGVtZW50UXVlcmllcy5pbml0KCk7XG5cbiAgICAgICAgICAgICAgICAvL05vIGF3YWl0IG9uIHRoZXNlIGFzIHdlIGRvIG5vdCBuZWVkIHRoZXNlIHRvIGZpbmlzaCByaWdodCBub3chXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW0Fkb2JlQW5hbHl0aWNzU2VydmljZS5sb2FkTGlicmFyeSgpLCBDaW1BbmFseXRpY3NTZXJ2aWNlLmxvYWRMaWJyYXJ5KCldKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnQWxsIGFuYWx5dGljcyBsaWJzIGZpbmlzaGVkIGxvYWRpbmcgZGVmZXJyZWQhJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdBbGwgbGlicmFyaWVzIHJlcXVpcmVkIGZvciBzdGFydHVwIGhhdmUgYmVlbiBsb2FkZWQhJyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWdpc3RlclBsYXllckNyZWF0aW9uRnVuY3Rpb25zKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdWUlQgUGxheWVyIGxvZ2ljIGJvb3RzdHJhcHBlZCEnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3ZydFBsYXllckJvb3RzdHJhcHBlZCcpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUGxheWVyIGJvb3RzdHJhcHBpbmcgZmFpbGVkOiAnICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndnJ0UGxheWVyQm9vdHN0cmFwRmFpbGVkJykpO1xuICAgICAgICAgICAgICAgIEVycm9ySGFuZGxlci5lcnJvclRvU2VudHJ5KCdQbGF5ZXIgYm9vdHN0cmFwJywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2R1Y3Rpb25Nb2RlQ2hlY2soKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1BlcmZvcm1pbmcgcHJvZHVjdGlvbiBtb2RlIGNoZWNrLi4uJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNjcmlwdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGV2RW5hYmxlZCcpO1xuICAgICAgICAgICAgaWYgKHNjcmlwdEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCctLS0gRGV2ZWxvcG1lbnQgTW9kZSAtLS0nKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsOiBudW1iZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5ib2R5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRGV2IG1vZGUgZGV0ZWN0ZWQsIGFkZCB0aGUgZGV2IGNsYXNzIHRvIHRoZSBib2R5IHRhZyFcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZGV2Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJy0tLSBQcm9kdWN0aW9uIE1vZGUgLS0tJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1Byb2R1Y3Rpb25Nb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlZ2lzdGVyUGxheWVyQ3JlYXRpb25GdW5jdGlvbnMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVnaXN0ZXJpbmcgUGxheWVyIGNyZWF0aW9uIGxvZ2ljLi4uJyk7XG4gICAgICAgIHRoaXMud2luZG93LlZSVE1lZGlhUGxheWVyID0gYXdhaXQgbmV3IFBsYXllckNyZWF0b3IodGhpcy5pc1Byb2R1Y3Rpb25Nb2RlLCB0aGlzLmNkblVybCwgdGhpcy5jZG5VcmwgKyAndGhlby8nKTtcbiAgICB9XG59XG5cbi8vQXV0b21hdGljYWxseSBib290c3RyYXAgdGhlIHBsYXllciBsb2dpYyB3aGVuIHRoaXMgc2NyaXB0IGlzIGxvYWRlZCFcbigoKSA9PiB7XG4gICAgY29uc3QgYm9vdHN0cmFwOiBCb290c3RyYXBwZXIgPSBuZXcgQm9vdHN0cmFwcGVyKCk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==